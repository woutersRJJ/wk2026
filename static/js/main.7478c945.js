/*! For license information please see main.7478c945.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var x=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case E:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case S:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return P(e(t))}catch(Xt){}}return null}var O=Array.isArray,L=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},F=[],V=-1;function z(e){return{current:e}}function U(e){0>V||(e.current=F[V],F[V]=null,V--)}function B(e,t){V++,F[V]=e.current,e.current=t}var j,q,K=z(null),G=z(null),H=z(null),Q=z(null);function W(e,t){switch(B(H,t),B(G,e),B(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bh(t=vh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(K),B(K,e)}function Y(){U(K),U(G),U(H)}function X(e){null!==e.memoizedState&&B(Q,e);var t=K.current,n=bh(t,e.type);t!==n&&(B(G,e),B(K,n))}function $(e){G.current===e&&(U(K),U(G)),Q.current===e&&(U(Q),hd._currentValue=M)}function J(e){if(void 0===j)try{throw Error()}catch(Xt){var t=Xt.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||"",q=-1<Xt.stack.indexOf("\n    at")?" (<anonymous>)":-1<Xt.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+j+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Xt){var r=Xt}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),u=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(Xt){return"\nError generating stack: "+Xt.message+"\n"+Xt.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Se(e)/_e|0)|0},Se=Math.log,_e=Math.LN2;var Ee=256,ke=262144,Te=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=Ie(r):0!==(o&=a)?i=Ie(o):n||0!==(n=a&~e)&&(i=Ie(n)):0!==(a=r&~s)?i=Ie(a):0!==o?i=Ie(o):n||0!==(n=r&~e)&&(i=Ie(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Te;return 0===(62914560&(Te<<=1))&&(Te=4194304),e}function De(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Re(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ve(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:Cd(e.type)}function ze(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}var Ue=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ue,je="__reactProps$"+Ue,qe="__reactContainer$"+Ue,Ke="__reactEvents$"+Ue,Ge="__reactListeners$"+Ue,He="__reactHandles$"+Ue,Qe="__reactResources$"+Ue,We="__reactMarker$"+Ue;function Ye(e){delete e[Be],delete e[je],delete e[Ke],delete e[Ge],delete e[He]}function Xe(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Fh(e);null!==e;){if(n=e[Be])return n;e=Fh(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Be]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[Qe];return t||(t=e[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[We]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(ot,i)&&(st.test(i)?at[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?wt(e,o,ht(t)):null!=n?wt(e,o,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ht(a):e.removeAttribute("name")}function bt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(O(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Tt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Tt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&It(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&It(e,s,t[s])}function xt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Ot=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Mt=null;function Ft(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[je]||null;if(!i)throw Error(o(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Vt=!1;function zt(e,t,n){if(Vt)return e(t,n);Vt=!0;try{return e(t)}finally{if(Vt=!1,(null!==Rt||null!==Mt)&&(ec(),Rt&&(t=Rt,e=Mt,Mt=Rt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),jt=!1;if(Bt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){jt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Jd){jt=!1}var Kt=null,Gt=null,Ht=null;function Qt(){if(Ht)return Ht;var e,t,n=Gt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function $t(){return!1}function Jt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:$t,this.isPropagationStopped=$t,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Zt,en,tn,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rn=Jt(nn),sn=f({},nn,{view:0,detail:0}),on=Jt(sn),an=f({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&"mousemove"===e.type?(Zt=e.screenX-tn.screenX,en=e.screenY-tn.screenY):en=Zt=0,tn=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:en}}),ln=Jt(an),un=Jt(f({},an,{dataTransfer:0})),cn=Jt(f({},sn,{relatedTarget:0})),hn=Jt(f({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Jt(f({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Jt(f({},nn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function vn(){return yn}var bn=Jt(f({},sn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Jt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=Jt(f({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),_n=Jt(f({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=Jt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Jt(f({},nn,{newState:0,oldState:0})),Tn=[9,13,27,32],In=Bt&&"CompositionEvent"in window,Cn=null;Bt&&"documentMode"in document&&(Cn=document.documentMode);var xn=Bt&&"TextEvent"in window&&!Cn,Nn=Bt&&(!In||Cn&&8<Cn&&11>=Cn),An=String.fromCharCode(32),Dn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Fn(e,t,n,r){Rt?Mt?Mt.push(r):Mt=[r]:Rt=r,0<(t=ih(t,"onChange")).length&&(n=new rn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,zn=null;function Un(e){Xc(e,0)}function Bn(e){if(pt(Je(e)))return e}function jn(e,t){if("change"===e)return t}var qn=!1;if(Bt){var Kn;if(Bt){var Gn="oninput"in document;if(!Gn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Gn="function"===typeof Hn.oninput}Kn=Gn}else Kn=!1;qn=Kn&&(!document.documentMode||9<document.documentMode)}function Qn(){Vn&&(Vn.detachEvent("onpropertychange",Wn),zn=Vn=null)}function Wn(e){if("value"===e.propertyName&&Bn(zn)){var t=[];Fn(t,zn,e,Lt(e)),zt(Un,t)}}function Yn(e,t,n){"focusin"===e?(Qn(),zn=n,(Vn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Qn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(zn)}function $n(e,t){if("click"===e)return Bn(t)}function Jn(e,t){if("input"===e||"change"===e)return Bn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function er(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Bt&&"documentMode"in document&&11>=document.documentMode,ar=null,lr=null,ur=null,cr=!1;function hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ar||ar!==mt(r)||("selectionStart"in(r=ar)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ur&&er(ur,r)||(ur=r,0<(r=ih(lr,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},pr={},mr={};function gr(e){if(pr[e])return pr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return pr[e]=n[t];return e}Bt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var yr=gr("animationend"),vr=gr("animationiteration"),br=gr("animationstart"),wr=gr("transitionrun"),Sr=gr("transitionstart"),_r=gr("transitioncancel"),Er=gr("transitionend"),kr=new Map,Tr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){kr.set(e,t),rt(t,[e])}Tr.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},xr=[],Nr=0,Ar=0;function Dr(){for(var e=Nr,t=Ar=Nr=0;t<e;){var n=xr[t];xr[t++]=null;var r=xr[t];xr[t++]=null;var i=xr[t];xr[t++]=null;var s=xr[t];if(xr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Rr(n,i,s)}}function Pr(e,t,n,r){xr[Nr++]=e,xr[Nr++]=t,xr[Nr++]=n,xr[Nr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Pr(e,t,n,r),Mr(e)}function Lr(e,t){return Pr(e,null,null,t),Mr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Mr(e){if(50<Gu)throw Gu=0,Hu=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fr={};function Vr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Vr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Ur(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=zr(31,n,t,i)).elementType=C,e.lanes=s,e;case y:return Kr(n.children,i,s,t);case v:a=8,i|=24;break;case b:return(e=zr(12,n,t,2|i)).elementType=b,e.lanes=s,e;case E:return(e=zr(13,n,t,i)).elementType=E,e.lanes=s,e;case k:return(e=zr(19,n,t,i)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case w:a=9;break e;case _:a=11;break e;case T:a=14;break e;case I:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=zr(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Kr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Gr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Hr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Qr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=new WeakMap;function Yr(e,t){if("object"===typeof e&&null!==e){var n=Wr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Wr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Xr=[],$r=0,Jr=null,Zr=0,ei=[],ti=0,ni=null,ri=1,ii="";function si(e,t){Xr[$r++]=Zr,Xr[$r++]=Jr,Jr=e,Zr=t}function oi(e,t,n){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ni=e;var r=ri;e=ii;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ri=1<<32-we(t)+i|n<<i|r,ii=s+e}else ri=1<<s|n<<i|r,ii=e}function ai(e){null!==e.return&&(si(e,1),oi(e,1,0))}function li(e){for(;e===Jr;)Jr=Xr[--$r],Xr[$r]=null,Zr=Xr[--$r],Xr[$r]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null}function ui(e,t){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ri=t.id,ii=t.overflow,ni=e}var ci=null,hi=null,di=!1,fi=null,pi=!1,mi=Error(o(519));function gi(e){throw _i(Yr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function yi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[je]=r,n){case"dialog":$c("cancel",t),$c("close",t);break;case"iframe":case"object":case"embed":$c("load",t);break;case"video":case"audio":for(n=0;n<Wc.length;n++)$c(Wc[n],t);break;case"source":$c("error",t);break;case"img":case"image":case"link":$c("error",t),$c("load",t);break;case"details":$c("toggle",t);break;case"input":$c("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$c("invalid",t);break;case"textarea":$c("invalid",t),Et(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ch(t.textContent,n)?(null!=r.popover&&($c("beforetoggle",t),$c("toggle",t)),null!=r.onScroll&&$c("scroll",t),null!=r.onScrollEnd&&$c("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||gi(e,!0)}function vi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ci=ci.return}}function bi(e){if(e!==ci)return!1;if(!di)return vi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wh(e.type,e.memoizedProps)),t=!t),t&&hi&&gi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));hi=Mh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));hi=Mh(e)}else 27===n?(n=hi,Ch(e.type)?(e=Rh,Rh=null,hi=e):hi=n):hi=ci?Lh(e.stateNode.nextSibling):null;return!0}function wi(){hi=ci=null,di=!1}function Si(){var e=fi;return null!==e&&(null===Du?Du=e:Du.push.apply(Du,e),fi=null),e}function _i(e){null===fi?fi=[e]:fi.push(e)}var Ei=z(null),ki=null,Ti=null;function Ii(e,t,n){B(Ei,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=Ei.current,U(Ei)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xi(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),xi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ai(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;Zn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===Q.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(hd):e=[hd])}i=i.return}null!==e&&Ni(t,e,n,r),t.flags|=262144}function Di(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){ki=e,Ti=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Oi(e){return Ri(ki,e)}function Li(e,t){return null===ki&&Pi(e),Ri(e,t)}function Ri(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ti){if(null===e)throw Error(o(308));Ti=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ti=Ti.next=t;return n}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fi=r.unstable_scheduleCallback,Vi=r.unstable_NormalPriority,zi={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Mi,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Fi(Vi,function(){e.controller.abort()})}var ji=null,qi=0,Ki=0,Gi=null;function Hi(){if(0===--qi&&null!==ji){null!==Gi&&(Gi.status="fulfilled");var e=ji;ji=null,Ki=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qi=L.S;L.S=function(e,t){Lu=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===ji){var n=ji=[];qi=0,Ki=qc(),Gi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Hi,Hi)}(0,t),null!==Qi&&Qi(e,t)};var Wi=z(null);function Yi(){var e=Wi.current;return null!==e?e:mu.pooledCache}function Xi(e,t){B(Wi,null===t?Wi.current:t.pool)}function $i(){var e=Yi();return null===e?null:{parent:zi._currentValue,pool:e}}var Ji=Error(o(460)),Zi=Error(o(474)),es=Error(o(542)),ts={then:function(){}};function ns(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e;default:if("string"===typeof t.status)t.then(Pt,Pt);else{if(null!==(e=mu)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw as(e=t.reason),e}throw ss=t,Ji}}function is(e){try{return(0,e._init)(e._payload)}catch(Xt){if(null!==Xt&&"object"===typeof Xt&&"function"===typeof Xt.then)throw ss=Xt,Ji;throw Xt}}var ss=null;function os(){if(null===ss)throw Error(o(459));var e=ss;return ss=null,e}function as(e){if(e===Ji||e===es)throw Error(o(483))}var ls=null,us=0;function cs(e){var t=us;return us+=1,null===ls&&(ls=[]),rs(ls,e,t)}function hs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===I&&is(s)===t.type)?(hs(t=i(t,n.props),n),t.return=e,t):(hs(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Kr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Gr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return hs(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Qr(t,e.mode,n)).return=e,t;case I:return d(e,t=is(t),n)}if(O(t)||A(t))return(t=Kr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,cs(t),n);if(t.$$typeof===S)return d(e,Li(e,t),n);ds(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?u(e,t,n,r):null;case g:return n.key===i?c(e,t,n,r):null;case I:return f(e,t,n=is(n),r)}if(O(n)||A(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,cs(n),r);if(n.$$typeof===S)return f(e,t,Li(e,n),r);ds(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,r=is(r),i)}if(O(r)||A(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,cs(r),i);if(r.$$typeof===S)return p(e,t,n,Li(t,r),i);ds(t,r)}return null}function v(l,u,c,h){if("object"===typeof c&&null!==c&&c.type===y&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===y){if(7===u.tag){n(l,u.sibling),(h=i(u,c.props.children)).return=l,l=h;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===I&&is(b)===u.type){n(l,u.sibling),hs(h=i(u,c.props),c),h.return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===y?((h=Kr(c.props.children,l.mode,h,c.key)).return=l,l=h):(hs(h=qr(c.type,c.key,c.props,null,l.mode,h),c),h.return=l,l=h)}return a(l);case g:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(h=i(u,c.children||[])).return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}(h=Qr(c,l.mode,h)).return=l,l=h}return a(l);case I:return v(l,u,c=is(c),h)}if(O(c))return function(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),di&&si(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return di&&si(i,m),u}for(h=r(h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),di&&si(i,m),u}(l,u,c,h);if(A(c)){if("function"!==typeof(b=A(c)))throw Error(o(150));return function(i,a,l,u){if(null==l)throw Error(o(151));for(var c=null,h=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),di&&si(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return di&&si(i,g),c}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),di&&si(i,g),c}(l,u,c=b.call(c),h)}if("function"===typeof c.then)return v(l,u,cs(c),h);if(c.$$typeof===S)return v(l,u,Li(l,c),h);ds(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(h=i(u,c)).return=l,l=h):(n(l,u),(h=Gr(c,l.mode,h)).return=l,l=h),a(l)):n(l,u)}return function(e,t,n,r){try{us=0;var i=v(e,t,n,r);return ls=null,i}catch(Xt){if(Xt===Ji||Xt===es)throw Xt;var s=zr(29,Xt,null,e.mode);return s.lanes=r,s.return=e,s}}}var ps=fs(!0),ms=fs(!1),gs=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Rr(e,null,n),t}return Pr(e,r,t,n),Mr(e)}function Ss(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function _s(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Es=!1;function ks(){if(Es){if(null!==Gi)throw Gi}}function Ts(e,t,n,r){Es=!1;var i=e.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=-536870913&a.lane,p=d!==a.lane;if(p?(yu&d)===d:(r&d)===d){0!==d&&d===Ki&&(Es=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;d=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(y,h,d):m)||void 0===d)break e;h=f({},h,d);break e;case 2:gs=!0}}null!==(d=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===s&&(i.shared.lanes=0),Tu|=o,e.lanes=o,e.memoizedState=h}}function Is(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Cs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Is(n[e],t)}var xs=z(null),Ns=z(0);function As(e,t){B(Ns,e=Eu),B(xs,t),Eu=e|t.baseLanes}function Ds(){B(Ns,Eu),B(xs,xs.current)}function Ps(){Eu=Ns.current,U(xs),U(Ns)}var Os=z(null),Ls=null;function Rs(e){var t=e.alternate;B(Us,1&Us.current),B(Os,e),null===Ls&&(null===t||null!==xs.current||null!==t.memoizedState)&&(Ls=e)}function Ms(e){B(Us,Us.current),B(Os,e),null===Ls&&(Ls=e)}function Fs(e){22===e.tag?(B(Us,Us.current),B(Os,e),null===Ls&&(Ls=e)):Vs()}function Vs(){B(Us,Us.current),B(Os,Os.current)}function zs(e){U(Os),Ls===e&&(Ls=null),U(Us)}var Us=z(0);function Bs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ph(n)||Oh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var js=0,qs=null,Ks=null,Gs=null,Hs=!1,Qs=!1,Ws=!1,Ys=0,Xs=0,$s=null,Js=0;function Zs(){throw Error(o(321))}function eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function to(e,t,n,r,i,s){return js=s,qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?ya:va,Ws=!1,s=n(r,i),Ws=!1,Qs&&(s=ro(t,n,r,i)),no(e),s}function no(e){L.H=ga;var t=null!==Ks&&null!==Ks.next;if(js=0,Gs=Ks=qs=null,Hs=!1,Xs=0,$s=null,t)throw Error(o(300));null===e||La||null!==(e=e.dependencies)&&Di(e)&&(La=!0)}function ro(e,t,n,r){qs=e;var i=0;do{if(Qs&&($s=null),Xs=0,Qs=!1,25<=i)throw Error(o(301));if(i+=1,Gs=Ks=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}L.H=ba,s=t(n,r)}while(Qs);return s}function io(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==Ks?Ks.memoizedState:null)!==e&&(qs.flags|=1024),t}function so(){var e=0!==Ys;return Ys=0,e}function oo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ao(e){if(Hs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Hs=!1}js=0,Gs=Ks=qs=null,Qs=!1,Xs=Ys=0,$s=null}function lo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gs?qs.memoizedState=Gs=e:Gs=Gs.next=e,Gs}function uo(){if(null===Ks){var e=qs.alternate;e=null!==e?e.memoizedState:null}else e=Ks.next;var t=null===Gs?qs.memoizedState:Gs.next;if(null!==t)Gs=t,Ks=e;else{if(null===e){if(null===qs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Ks=e).memoizedState,baseState:Ks.baseState,baseQueue:Ks.baseQueue,queue:Ks.queue,next:null},null===Gs?qs.memoizedState=Gs=e:Gs=Gs.next=e}return Gs}function co(e){var t=Xs;return Xs+=1,null===$s&&($s=[]),e=rs($s,e,t),t=qs,null===(null===Gs?t.memoizedState:Gs.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?ya:va),e}function ho(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===S)return Oi(e)}throw Error(o(438,String(e)))}function fo(e){var t=null,n=qs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function po(e,t){return"function"===typeof t?t(e):t}function mo(e){return go(uo(),Ks,e)}function go(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,u=null,c=t=i.next,h=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(yu&d)===d:(js&d)===d){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ki&&(h=!0);else{if((js&f)===f){c=c.next,f===Ki&&(h=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,a=s):u=u.next=d,qs.lanes|=f,Tu|=f}d=c.action,Ws&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else f={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,a=s):u=u.next=f,qs.lanes|=d,Tu|=d;c=c.next}while(null!==c&&c!==t);if(null===u?a=s:u.next=l,!Zn(s,e.memoizedState)&&(La=!0,h&&null!==(n=Gi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function yo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Zn(s,t.memoizedState)||(La=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vo(e,t,n){var r=qs,i=uo(),s=di;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Zn((Ks||i).memoizedState,n);if(a&&(i.memoizedState=n,La=!0),i=i.queue,qo(So.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Gs&&1&Gs.memoizedState.tag){if(r.flags|=2048,Vo(9,{destroy:void 0},wo.bind(null,r,i,n,t),null),null===mu)throw Error(o(349));s||0!==(127&js)||bo(r,t,n)}return n}function bo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function wo(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&Eo(e)}function So(e,t,n){return n(function(){_o(t)&&Eo(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function Eo(e){var t=Lr(e,2);null!==t&&Yu(t,e,2)}function ko(e){var t=lo();if("function"===typeof e){var n=e;if(e=n(),Ws){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t}function To(e,t,n,r){return e.baseState=n,go(e,Ks,"function"===typeof r?r:po)}function Io(e,t,n,r,i){if(fa(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==L.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Co(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Co(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=L.T,o={};L.T=o;try{var a=n(i,r),l=L.S;null!==l&&l(o,a),xo(e,t,a)}catch(u){Ao(e,t,u)}finally{null!==s&&null!==o.types&&(s.types=o.types),L.T=s}}else try{xo(e,t,s=n(i,r))}catch(c){Ao(e,t,c)}}function xo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){No(e,t,n)},function(n){return Ao(e,t,n)}):No(e,t,n)}function No(e,t,n){t.status="fulfilled",t.value=n,Do(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Co(e,n)))}function Ao(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Do(t),t=t.next}while(t!==r)}e.action=null}function Do(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function Oo(e,t){if(di){var n=mu.formState;if(null!==n){e:{var r=qs;if(di){if(hi){t:{for(var i=hi,s=pi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Lh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){hi=Lh(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=lo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},n.queue=r,n=ca.bind(null,qs,r),r.dispatch=n,r=ko(!1),s=da.bind(null,qs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=lo()).queue=i,n=Io.bind(null,qs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Lo(e){return Ro(uo(),Ks,e)}function Ro(e,t,n){if(t=go(e,t,Po)[0],e=mo(po)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=co(t)}catch(Xt){if(Xt===Ji)throw es;throw Xt}else r=t;var i=(t=uo()).queue,s=i.dispatch;return n!==t.memoizedState&&(qs.flags|=2048,Vo(9,{destroy:void 0},Mo.bind(null,i,n),null)),[r,s,e]}function Mo(e,t){e.action=t}function Fo(e){var t=uo(),n=Ks;if(null!==n)return Ro(t,n,e);uo(),t=t.memoizedState;var r=(n=uo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Vo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return uo().memoizedState}function Uo(e,t,n,r){var i=lo();qs.flags|=e,i.memoizedState=Vo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Ks&&null!==r&&eo(r,Ks.memoizedState.deps)?i.memoizedState=Vo(t,s,n,r):(qs.flags|=e,i.memoizedState=Vo(1|t,s,n,r))}function jo(e,t){Uo(8390656,8,e,t)}function qo(e,t){Bo(2048,8,e,t)}function Ko(e){var t=uo().memoizedState;return function(e){qs.flags|=4;var t=qs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pu))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Go(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Qo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Wo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Qo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&eo(t,r[1]))return r[0];if(r=e(),Ws){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Jo(e,t,n){return void 0===n||0!==(1073741824&js)&&0===(261930&yu)?e.memoizedState=t:(e.memoizedState=n,e=Wu(),qs.lanes|=e,Tu|=e,n)}function Zo(e,t,n,r){return Zn(n,t)?n:null!==xs.current?(e=Jo(e,n,r),Zn(e,t)||(La=!0),e):0===(42&js)||0!==(1073741824&js)&&0===(261930&yu)?(La=!0,e.memoizedState=n):(e=Wu(),qs.lanes|=e,Tu|=e,t)}function ea(e,t,n,r,i){var s=R.p;R.p=0!==s&&8>s?s:8;var o=L.T,a={};L.T=a,da(e,!1,t,n);try{var l=i(),u=L.S;if(null!==u&&u(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ha(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Qu());else ha(e,t,r,Qu())}catch(c){ha(e,t,{then:function(){},status:"rejected",reason:c},Qu())}finally{R.p=s,null!==o&&null!==a.types&&(o.types=a.types),L.T=o}}function ta(){}function na(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=ra(e).queue;ea(e,i,t,M,null===n?ta:function(){return ia(e),n(r)})}function ra(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ia(e){var t=ra(e);null===t.next&&(t=e.alternate.memoizedState),ha(e,t.next.queue,{},Qu())}function sa(){return Oi(hd)}function oa(){return uo().memoizedState}function aa(){return uo().memoizedState}function la(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Qu(),r=ws(t,e=bs(n),n);return null!==r&&(Yu(r,t,n),Ss(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ua(e,t,n){var r=Qu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fa(e)?pa(t,n):null!==(n=Or(e,t,n,r))&&(Yu(n,e,r),ma(n,t,r))}function ca(e,t,n){ha(e,t,n,Qu())}function ha(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fa(e))pa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,o))return Pr(e,t,i,0),null===mu&&Dr(),!1}catch(l){}if(null!==(n=Or(e,t,i,r)))return Yu(n,e,r),ma(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:qc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fa(e)){if(t)throw Error(o(479))}else null!==(t=Or(e,n,r,2))&&Yu(t,e,2)}function fa(e){var t=e.alternate;return e===qs||null!==t&&t===qs}function pa(e,t){Qs=Hs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ma(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var ga={readContext:Oi,use:ho,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useInsertionEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useSyncExternalStore:Zs,useId:Zs,useHostTransitionStatus:Zs,useFormState:Zs,useActionState:Zs,useOptimistic:Zs,useMemoCache:Zs,useCacheRefresh:Zs};ga.useEffectEvent=Zs;var ya={readContext:Oi,use:ho,useCallback:function(e,t){return lo().memoizedState=[e,void 0===t?null:t],e},useContext:Oi,useEffect:jo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=lo();t=void 0===t?null:t;var r=e();if(Ws){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=lo();if(void 0!==n){var i=n(t);if(Ws){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ua.bind(null,qs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},lo().memoizedState=e},useState:function(e){var t=(e=ko(e)).queue,n=ca.bind(null,qs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yo,useDeferredValue:function(e,t){return Jo(lo(),e,t)},useTransition:function(){var e=ko(!1);return e=ea.bind(null,qs,e.queue,!0,!1),lo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qs,i=lo();if(di){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===mu)throw Error(o(349));0!==(127&yu)||bo(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,jo(So.bind(null,r,s,e),[e]),r.flags|=2048,Vo(9,{destroy:void 0},wo.bind(null,r,s,n,t),null),n},useId:function(){var e=lo(),t=mu.identifierPrefix;if(di){var n=ii;t="_"+t+"R_"+(n=(ri&~(1<<32-we(ri)-1)).toString(32)+n),0<(n=Ys++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Js++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:sa,useFormState:Oo,useActionState:Oo,useOptimistic:function(e){var t=lo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,qs,!0,n),n.dispatch=t,[e,t]},useMemoCache:fo,useCacheRefresh:function(){return lo().memoizedState=la.bind(null,qs)},useEffectEvent:function(e){var t=lo(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pu))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},va={readContext:Oi,use:ho,useCallback:Xo,useContext:Oi,useEffect:qo,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:$o,useReducer:mo,useRef:zo,useState:function(){return mo(po)},useDebugValue:Yo,useDeferredValue:function(e,t){return Zo(uo(),Ks.memoizedState,e,t)},useTransition:function(){var e=mo(po)[0],t=uo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:oa,useHostTransitionStatus:sa,useFormState:Lo,useActionState:Lo,useOptimistic:function(e,t){return To(uo(),0,e,t)},useMemoCache:fo,useCacheRefresh:aa};va.useEffectEvent=Ko;var ba={readContext:Oi,use:ho,useCallback:Xo,useContext:Oi,useEffect:qo,useImperativeHandle:Wo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:$o,useReducer:yo,useRef:zo,useState:function(){return yo(po)},useDebugValue:Yo,useDeferredValue:function(e,t){var n=uo();return null===Ks?Jo(n,e,t):Zo(n,Ks.memoizedState,e,t)},useTransition:function(){var e=yo(po)[0],t=uo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:vo,useId:oa,useHostTransitionStatus:sa,useFormState:Fo,useActionState:Fo,useOptimistic:function(e,t){var n=uo();return null!==Ks?To(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fo,useCacheRefresh:aa};function wa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ba.useEffectEvent=Ko;var Sa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=bs(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&(Yu(t,e,r),Ss(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=bs(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&(Yu(t,e,r),Ss(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qu(),r=bs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ws(e,r,n))&&(Yu(t,e,n),Ss(t,e,n))}};function _a(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(i,s))}function Ea(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function ka(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ta(e){Cr(e)}function Ia(e){console.error(e)}function Ca(e){Cr(e)}function xa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Na(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Aa(e,t,n){return(n=bs(n)).tag=3,n.payload={element:null},n.callback=function(){xa(e,t)},n}function Da(e){return(e=bs(e)).tag=3,e}function Pa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Na(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Na(t,n,r),"function"!==typeof i&&(null===Fu?Fu=new Set([this]):Fu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Oa=Error(o(461)),La=!1;function Ra(e,t,n,r){t.child=null===e?ms(t,null,n,r):ps(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Pi(t),r=to(e,t,n,o,s,i),a=so(),null===e||La?(di&&a&&ai(t),t.flags|=1,Ra(e,t,r,i),t.child):(oo(e,t,i),sl(e,t,i))}function Fa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Va(e,t,s,r,i))}if(s=e.child,!ol(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:er)(o,r)&&e.ref===t.ref)return sl(e,t,i)}return t.flags|=1,(e=Br(s,r)).ref=t.ref,e.return=t,t.child=e}function Va(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(er(s,r)&&e.ref===t.ref){if(La=!1,t.pendingProps=r=s,!ol(e,i))return t.lanes=e.lanes,sl(e,t,i);0!==(131072&e.flags)&&(La=!0)}}return Ga(e,t,n,r,i)}function za(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Ba(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ba(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==s?s.cachePool:null),null!==s?As(t,s):Ds(),Fs(t)}else null!==s?(Xi(0,s.cachePool),As(t,s),Vs(),t.memoizedState=null):(null!==e&&Xi(0,null),Ds(),Vs());return Ra(e,t,i,n),t.child}function Ua(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ba(e,t,n,r,i){var s=Yi();return s=null===s?null:{parent:zi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Xi(0,null),Ds(),Fs(t),null!==e&&Ai(e,t,r,!0),t.childLanes=i,null}function ja(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qa(e,t,n){return ps(t,e.child,null,n),(e=ja(t,t.pendingProps)).flags|=2,zs(t),t.memoizedState=null,e}function Ka(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ga(e,t,n,r,i){return Pi(t),n=to(e,t,n,r,void 0,i),r=so(),null===e||La?(di&&r&&ai(t),t.flags|=1,Ra(e,t,n,i),t.child):(oo(e,t,i),sl(e,t,i))}function Ha(e,t,n,r,i,s){return Pi(t),t.updateQueue=null,n=ro(t,r,n,i),no(e),r=so(),null===e||La?(di&&r&&ai(t),t.flags|=1,Ra(e,t,n,s),t.child):(oo(e,t,s),sl(e,t,s))}function Qa(e,t,n,r,i){if(Pi(t),null===t.stateNode){var s=Fr,o=n.contextType;"object"===typeof o&&null!==o&&(s=Oi(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Sa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ys(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Oi(o):Fr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(wa(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&Sa.enqueueReplaceState(s,s.state,null),Ts(t,r,s,i),ks(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=ka(n,a);s.props=l;var u=s.context,c=n.contextType;o=Fr,"object"===typeof c&&null!==c&&(o=Oi(c));var h=n.getDerivedStateFromProps;c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||u!==o)&&Ea(t,s,r,o),gs=!1;var d=t.memoizedState;s.state=d,Ts(t,r,s,i),ks(),u=t.memoizedState,a||d!==u||gs?("function"===typeof h&&(wa(t,n,h,r),u=t.memoizedState),(l=gs||_a(t,n,l,r,d,u,o))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=o,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),c=ka(n,o=t.memoizedProps),s.props=c,h=t.pendingProps,d=s.context,u=n.contextType,l=Fr,"object"===typeof u&&null!==u&&(l=Oi(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&Ea(t,s,r,l),gs=!1,d=t.memoizedState,s.state=d,Ts(t,r,s,i),ks();var f=t.memoizedState;o!==h||d!==f||gs||null!==e&&null!==e.dependencies&&Di(e.dependencies)?("function"===typeof a&&(wa(t,n,a,r),f=t.memoizedState),(c=gs||_a(t,n,c,r,d,f,l)||null!==e&&null!==e.dependencies&&Di(e.dependencies))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ka(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ps(t,e.child,null,i),t.child=ps(t,null,n,i)):Ra(e,t,n,i),t.memoizedState=s.state,e=t.child):e=sl(e,t,i),e}function Wa(e,t,n,r){return wi(),t.flags|=256,Ra(e,t,n,r),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xa(e){return{baseLanes:e,cachePool:$i()}}function $a(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=xu),e}function Ja(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Us.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(s?Rs(t):Vs(),(e=hi)?null!==(e=null!==(e=Dh(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ci=t,hi=null):e=null,null===e)throw gi(t);return Oh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Vs(),l=el({mode:"hidden",children:l},s=t.mode),i=Kr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Xa(n),i.childLanes=$a(e,r,n),t.memoizedState=Ya,Ua(null,i)):(Rs(t),Za(t,l))}var u=e.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(a)256&t.flags?(Rs(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Vs(),t.child=e.child,t.flags|=128,t=null):(Vs(),l=i.fallback,s=t.mode,i=el({mode:"visible",children:i.children},s),(l=Kr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,ps(t,e.child,null,n),(i=t.child).memoizedState=Xa(n),i.childLanes=$a(e,r,n),t.memoizedState=Ya,t=Ua(null,i));else if(Rs(t),Oh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(o(419))).stack="",i.digest=r,_i({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(La||Ai(e,t,n,!1),r=0!==(n&e.childLanes),La||r){if(null!==(r=mu)&&(0!==(i=Re(r,n))&&i!==u.retryLane))throw u.retryLane=i,Lr(e,i),Yu(r,e,i),Oa;Ph(l)||ac(),t=tl(e,t,n)}else Ph(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,hi=Lh(l.nextSibling),ci=t,di=!0,fi=null,pi=!1,null!==e&&ui(t,e),(t=Za(t,i.children)).flags|=4096);return t}return s?(Vs(),l=i.fallback,s=t.mode,c=(u=e.child).sibling,(i=Br(u,{mode:"hidden",children:i.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?l=Br(c,l):(l=Kr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Ua(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Xa(n):(null!==(s=l.cachePool)?(u=zi._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=$i(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=$a(e,r,n),t.memoizedState=Ya,Ua(e.child,i)):(Rs(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Za(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return ps(t,e.child,null,n),(e=Za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function rl(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=s)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var o=Us.current,a=0!==(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,B(Us,o),Ra(e,t,r,n),r=di?Zr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,s,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Di(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)La=!0;else{if(!ol(e,n)&&0===(128&t.flags))return La=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),Ii(0,zi,e.memoizedState.cache),wi();break;case 27:case 5:X(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:Ii(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ms(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Rs(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(Rs(t),null!==(e=sl(e,t,n))?e.sibling:null);Rs(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(Us,Us.current),r)break;return null;case 22:return t.lanes=0,za(e,t,n,t.pendingProps);case 24:Ii(0,zi,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);La=0!==(131072&e.flags)}else La=!1,di&&0!==(1048576&t.flags)&&oi(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=is(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===_){t.tag=11,t=Ma(null,t,e,r,n);break e}if(i===T){t.tag=14,t=Fa(null,t,e,r,n);break e}}throw t=P(e)||e,Error(o(306,t,""))}Ur(e)?(r=ka(e,r),t.tag=1,t=Qa(null,t,e,r,n)):(t.tag=0,t=Ga(null,t,e,r,n))}return t;case 0:return Ga(e,t,t.type,t.pendingProps,n);case 1:return Qa(e,t,r=t.type,i=ka(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,vs(e,t),Ts(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ii(0,zi,r),r!==s.cache&&Ni(t,[zi],n,!0),ks(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Wa(e,t,r,n);break e}if(r!==i){_i(i=Yr(Error(o(424)),t)),t=Wa(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(hi=Lh(e.firstChild),ci=t,di=!0,fi=null,pi=!0,n=ms(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===i){t=sl(e,t,n);break e}Ra(e,t,r,n)}t=t.child}return t;case 26:return Ka(e,t),null===e?(n=Hh(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=yh(H.current).createElement(n))[Be]=t,r[je]=e,fh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Hh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&di&&(r=t.stateNode=Vh(t.type,t.pendingProps,H.current),ci=t,pi=!0,i=hi,Ch(t.type)?(Rh=i,hi=Lh(r.firstChild)):hi=i),Ra(e,t,t.pendingProps.children,n),Ka(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=hi)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Lh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ci=t,hi=Lh(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),X(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,wh(i,s)?r=null:null!==a&&wh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=to(e,t,io,null,null,n),hd._currentValue=i),Ka(e,t),Ra(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=hi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Lh(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ci=t,hi=null,e=!0):e=!1),e||gi(t)),null;case 13:return Ja(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ps(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return Ma(e,t,t.type,t.pendingProps,n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ii(0,t.type,r.value),Ra(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Pi(t),r=r(i=Oi(i)),t.flags|=1,Ra(e,t,r,n),t.child;case 14:return Fa(e,t,t.type,t.pendingProps,n);case 15:return Va(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=ja(t,r),t.lanes=536870912,Ua(null,e);if(Ms(t),(e=hi)?null!==(e=null!==(e=Dh(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,ci=t,hi=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return ja(t,r)}var s=e.memoizedState;if(null!==s){var a=s.dehydrated;if(Ms(t),i)if(256&t.flags)t.flags&=-257,t=qa(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(La||Ai(e,t,n,!1),i=0!==(n&e.childLanes),La||i){if(null!==(r=mu)&&0!==(a=Re(r,n))&&a!==s.retryLane)throw s.retryLane=a,Lr(e,a),Yu(r,e,a),Oa;ac(),t=qa(e,t,n)}else e=s.treeContext,hi=Lh(a.nextSibling),ci=t,di=!0,fi=null,pi=!1,null!==e&&ui(t,e),(t=ja(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return za(e,t,n,t.pendingProps);case 24:return Pi(t),r=Oi(zi),null===e?(null===(i=Yi())&&(i=mu,s=Ui(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ys(t),Ii(0,zi,i)):(0!==(e.lanes&n)&&(vs(e,t),Ts(t,null,null,n),ks()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ii(0,zi,r)):(r=s.cache,Ii(0,zi,r),r!==i.cache&&Ni(t,[zi],n,!0))),Ra(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ll(e){e.flags|=4}function ul(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ic())throw ss=ts,Zi;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sd(t)){if(!ic())throw ss=ts,Zi;e.flags|=8192}}function hl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Nu|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(zi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,Si())),fl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ll(t),null!==s?(fl(t),cl(t,s)):(fl(t),ul(t,i,0,0,n))):s?s!==e.memoizedState?(ll(t),fl(t),cl(t,s)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),ul(t,i,0,0,n)),null;case 27:if($(t),n=H.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return fl(t),null}e=K.current,bi(t)?yi(t):(e=Vh(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return fl(t),null}if(s=K.current,bi(t))yi(t);else{var a=yh(H.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=a.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}s[Be]=t,s[je]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)s.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(fh(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),ul(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=H.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ch(e.nodeValue,n)))||gi(t,!0)}else(e=yh(e).createTextNode(r))[Be]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[Be]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zs(t),t):(zs(t),null);if(0!==(128&t.flags))throw Error(o(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Be]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zs(t),t):(zs(t),null)}return zs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),hl(t,t.updateQueue),fl(t),null);case 4:return Y(),null===e&&eh(t.stateNode.containerInfo),fl(t),null;case 10:return Ci(t.type),fl(t),null;case 19:if(U(Us),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)dl(r,!1);else{if(0!==ku||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Bs(e))){for(t.flags|=128,dl(r,!1),e=s.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)jr(n,e),n=n.sibling;return B(Us,1&Us.current|2),di&&si(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Ru&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Bs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!di)return fl(t),null}else 2*le()-r.renderingStartTime>Ru&&536870912!==n&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Us.current,B(Us,i?1&n|2:1&n),di&&si(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return zs(t),Ps(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&hl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Wi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(zi),fl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(zi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(zs(t),null===t.alternate)throw Error(o(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Us),null;case 4:return Y(),null;case 10:return Ci(t.type),null;case 22:case 23:return zs(t),Ps(),null!==e&&U(Wi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(zi),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ci(zi),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&zs(t);break;case 13:zs(t);break;case 19:U(Us);break;case 10:Ci(t.type);break;case 22:case 23:zs(t),Ps(),null!==e&&U(Wi);break;case 24:Ci(zi)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){kc(t,t.return,a)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n,u=a;try{u()}catch(c){kc(i,l,c)}}}r=r.next}while(r!==s)}}catch(c){kc(t,t.return,c)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Cs(t,n)}catch(r){kc(e,e.return,r)}}}function wl(e,t,n){n.props=ka(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){kc(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){kc(e,t,i)}}function _l(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){kc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){kc(e,t,s)}else n.current=null}function El(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){kc(e,e.return,i)}}function kl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,u=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":u=d;default:r.hasOwnProperty(p)||hh(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&hh(e,t,f,p,r,d)}}return void vt(e,a,l,u,c,h,s,i);case"select":for(s in p=a=l=f=null,n)if(u=n[s],n.hasOwnProperty(s)&&null!=u)switch(s){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(s)||hh(e,t,s,null,r,u)}for(i in r)if(s=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=s||null!=u))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&hh(e,t,i,s,r,u)}return t=l,n=a,r=p,void(null!=f?St(e,!!n,f,!1):!!r!==!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hh(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&hh(e,t,a,i,r,s)}return void _t(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else hh(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else hh(e,t,u,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&hh(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:hh(e,t,c,f,r,p)}return;default:if(xt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||dh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&hh(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||hh(e,t,d,f,r,p)}(r,e.type,n,t),r[je]=t}catch(i){kc(e,e.return,i)}}function Tl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ch(e.type)||4===e.tag}function Il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Tl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ch(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function Nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fh(t,r,n),t[Be]=e,t[je]=n}catch(s){kc(e,e.return,s)}}var Al=!1,Dl=!1,Pl=!1,Ol="function"===typeof WeakSet?WeakSet:Set,Ll=null;function Rl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&yl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){kc(n,n.return,o)}else{var i=ka(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){kc(n,n.return,a)}}64&r&&bl(n),512&r&&Sl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Cs(e,t)}catch(o){kc(n,n.return,o)}}break;case 27:null===t&&4&r&&Nl(n);case 26:case 5:Yl(e,n),null===t&&4&r&&El(n),512&r&&Sl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Bl(e,n);break;case 13:Yl(e,n),4&r&&jl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=xc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Dl,i=Al;var s=Dl;Al=r,(Dl=t)&&!s?$l(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Al=i,Dl=s}break;case 30:break;default:Yl(e,n)}}function Ml(e){var t=e.alternate;null!==t&&(e.alternate=null,Ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fl=null,Vl=!1;function zl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Dl||_l(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Dl||_l(n,t);var r=Fl,i=Vl;Ch(n.type)&&(Fl=n.stateNode,Vl=!1),zl(e,t,n),zh(n.stateNode),Fl=r,Vl=i;break;case 5:Dl||_l(n,t);case 6:if(r=Fl,i=Vl,Fl=null,zl(e,t,n),Vl=i,null!==(Fl=r))if(Vl)try{(9===Fl.nodeType?Fl.body:"HTML"===Fl.nodeName?Fl.ownerDocument.body:Fl).removeChild(n.stateNode)}catch(o){kc(n,t,o)}else try{Fl.removeChild(n.stateNode)}catch(o){kc(n,t,o)}break;case 18:null!==Fl&&(Vl?(xh(9===(e=Fl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Gd(e)):xh(Fl,n.stateNode));break;case 4:r=Fl,i=Vl,Fl=n.stateNode.containerInfo,Vl=!0,zl(e,t,n),Fl=r,Vl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Dl||vl(4,n,t),zl(e,t,n);break;case 1:Dl||(_l(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Dl=(r=Dl)||null!==n.memoizedState,zl(e,t,n),Dl=r;break;default:zl(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Gd(e)}catch(n){kc(t,t.return,n)}}}function jl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Gd(e)}catch(n){kc(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ol),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ol),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Nc.bind(null,e,t);t.then(r,r)}})}function Kl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Ch(l.type)){Fl=l.stateNode,Vl=!1;break e}break;case 5:Fl=l.stateNode,Vl=!1;break e;case 3:case 4:Fl=l.stateNode.containerInfo,Vl=!0;break e}l=l.return}if(null===Fl)throw Error(o(160));Ul(s,a,i),Fl=null,Vl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var Gl=null;function Hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kl(t,e),Ql(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Kl(t,e),Ql(e),512&r&&(Dl||null===n||_l(n,n.return)),64&r&&Al&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Gl;if(Kl(t,e),Ql(e),512&r&&(Dl||null===n||_l(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[We]||s[Be]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),fh(s,r,n),s[Be]=e,et(s),r=s;break e;case"link":var a=rd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}fh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=rd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}fh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[Be]=e,et(s),r=s}e.stateNode=r}else id(i,e.type,e.stateNode);else e.stateNode=Jh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?id(i,e.type,e.stateNode):Jh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&kl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Kl(t,e),Ql(e),512&r&&(Dl||null===n||_l(n,n.return)),null!==n&&4&r&&kl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Kl(t,e),Ql(e),512&r&&(Dl||null===n||_l(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(m){kc(e,e.return,m)}}4&r&&null!=e.stateNode&&kl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Pl=!0);break;case 6:if(Kl(t,e),Ql(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){kc(e,e.return,m)}}break;case 3:if(nd=null,i=Gl,Gl=jh(t.containerInfo),Kl(t,e),Gl=i,Ql(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gd(t.containerInfo)}catch(m){kc(e,e.return,m)}Pl&&(Pl=!1,Wl(e));break;case 4:r=Gl,Gl=jh(e.stateNode.containerInfo),Kl(t,e),Ql(e),Gl=r;break;case 12:default:Kl(t,e),Ql(e);break;case 31:case 19:Kl(t,e),Ql(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Kl(t,e),Ql(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ou=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Al,h=Dl;if(Al=c||i,Dl=h||u,Kl(t,e),Dl=h,Al=c,Ql(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||Al||Dl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(s=u.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var d=u.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){kc(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){kc(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var p=u.stateNode;i?Nh(p,!0):Nh(u.stateNode,!1)}catch(m){kc(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Ql(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Tl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;xl(e,Il(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(kt(s,""),n.flags&=-33),xl(e,Il(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;Cl(e,Il(e),a);break;default:throw Error(o(161))}}catch(l){kc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Wl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Wl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rl(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Xl(t);break;case 1:_l(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Xl(t);break;case 27:zh(t.stateNode);case 26:case 5:_l(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:$l(i,s,n),yl(4,s);break;case 1:if($l(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){kc(r,r.return,u)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Is(l[i],a)}catch(u){kc(r,r.return,u)}}n&&64&o&&bl(s),Sl(s,s.return);break;case 27:Nl(s);case 26:case 5:$l(i,s,n),n&&null===r&&4&o&&El(s),Sl(s,s.return);break;case 12:$l(i,s,n);break;case 31:$l(i,s,n),n&&4&o&&Bl(i,s);break;case 13:$l(i,s,n),n&&4&o&&jl(i,s);break;case 22:null===s.memoizedState&&$l(i,s,n),Sl(s,s.return);break;case 30:break;default:$l(i,s,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function eu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tu(e,t,n,r),t=t.sibling}function tu(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:eu(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:eu(e,t,n,r);break;case 3:eu(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){eu(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){kc(t,t.return,l)}}else eu(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?eu(e,t,n,r):ru(e,t):2&s._visibility?eu(e,t,n,r):(s._visibility|=2,nu(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(o,t);break;case 24:eu(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nu(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:nu(s,o,a,l,i),yl(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?nu(s,o,a,l,i):ru(s,o):(c._visibility|=2,nu(s,o,a,l,i)),i&&2048&u&&Jl(o.alternate,o);break;case 24:nu(s,o,a,l,i),i&&2048&u&&Zl(o.alternate,o);break;default:nu(s,o,a,l,i)}t=t.sibling}}function ru(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ru(n,r),2048&i&&Jl(r.alternate,r);break;case 24:ru(n,r),2048&i&&Zl(r.alternate,r);break;default:ru(n,r)}t=t.sibling}}var iu=8192;function su(e,t,n){if(e.subtreeFlags&iu)for(e=e.child;null!==e;)ou(e,t,n),e=e.sibling}function ou(e,t,n){switch(e.tag){case 26:su(e,t,n),e.flags&iu&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Qh(r.href),s=t.querySelector(Wh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ad.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Yh(r),(i=Uh.get(i))&&ed(r,i),et(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fh(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ad.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Gl,e.memoizedState,e.memoizedProps);break;case 5:default:su(e,t,n);break;case 3:case 4:var r=Gl;Gl=jh(e.stateNode.containerInfo),su(e,t,n),Gl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=iu,iu=16777216,su(e,t,n),iu=r):su(e,t,n))}}function au(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lu(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,hu(r,e)}au(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uu(e),e=e.sibling}function uu(e){switch(e.tag){case 0:case 11:case 15:lu(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cu(e)):lu(e)}}function cu(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ll=r,hu(r,e)}au(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cu(t));break;default:cu(t)}e=e.sibling}}function hu(e,t){for(;null!==Ll;){var n=Ll;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ll=r;else e:for(n=e;null!==Ll;){var i=(r=Ll).sibling,s=r.return;if(Ml(r),r===n){Ll=null;break e}if(null!==i){i.return=s,Ll=i;break e}Ll=s}}}var du={getCacheForType:function(e){var t=Oi(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Oi(zi).controller.signal}},fu="function"===typeof WeakMap?WeakMap:Map,pu=0,mu=null,gu=null,yu=0,vu=0,bu=null,wu=!1,Su=!1,_u=!1,Eu=0,ku=0,Tu=0,Iu=0,Cu=0,xu=0,Nu=0,Au=null,Du=null,Pu=!1,Ou=0,Lu=0,Ru=1/0,Mu=null,Fu=null,Vu=0,zu=null,Uu=null,Bu=0,ju=0,qu=null,Ku=null,Gu=0,Hu=null;function Qu(){return 0!==(2&pu)&&0!==yu?yu&-yu:null!==L.T?qc():Ve()}function Wu(){if(0===xu)if(0===(536870912&yu)||di){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),xu=e}else xu=536870912;return null!==(e=Os.current)&&(e.flags|=32),xu}function Yu(e,t,n){(e!==mu||2!==vu&&9!==vu)&&null===e.cancelPendingCommit||(nc(e,0),Zu(e,yu,xu,!1)),Pe(e,n),0!==(2&pu)&&e===mu||(e===mu&&(0===(2&pu)&&(Iu|=n),4===ku&&Zu(e,yu,xu,!1)),Mc(e))}function Xu(e,t,n){if(0!==(6&pu))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||xe(e,t),i=r?function(e,t){var n=pu;pu|=2;var r=sc(),i=oc();mu!==e||yu!==t?(Mu=null,Ru=le()+500,nc(e,t)):Su=xe(e,t);e:for(;;)try{if(0!==vu&&null!==gu){t=gu;var s=bu;t:switch(vu){case 1:vu=0,bu=null,fc(e,t,s,1);break;case 2:case 9:if(ns(s)){vu=0,bu=null,dc(t);break}t=function(){2!==vu&&9!==vu||mu!==e||(vu=7),Mc(e)},s.then(t,t);break e;case 3:vu=7;break e;case 4:vu=5;break e;case 7:ns(s)?(vu=0,bu=null,dc(t)):(vu=0,bu=null,fc(e,t,s,7));break;case 5:var a=null;switch(gu.tag){case 26:a=gu.memoizedState;case 5:case 27:var l=gu;if(a?sd(a):l.stateNode.complete){vu=0,bu=null;var u=l.sibling;if(null!==u)gu=u;else{var c=l.return;null!==c?(gu=c,pc(c)):gu=null}break t}}vu=0,bu=null,fc(e,t,s,5);break;case 6:vu=0,bu=null,fc(e,t,s,6);break;case 8:tc(),ku=6;break e;default:throw Error(o(462))}}cc();break}catch(h){rc(e,h)}return Ti=ki=null,L.H=r,L.A=i,pu=n,null!==gu?0:(mu=null,yu=0,Dr(),ku)}(e,t):lc(e,t,!0),s=r;;){if(0===i){Su&&!r&&Zu(e,t,0,!1);break}if(n=e.current.alternate,!s||Ju(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Au;var u=l.current.memoizedState.isDehydrated;if(u&&(nc(l,a).flags|=256),2!==(a=lc(l,a,!1))){if(_u&&!u){l.errorRecoveryDisabledLanes|=s,Iu|=s,i=4;break e}s=Du,Du=i,null!==s&&(null===Du?Du=s:Du.push.apply(Du,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){nc(e,0),Zu(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Zu(r,t,xu,!wu);break e;case 2:Du=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Ou+300-le())){if(Zu(r,t,xu,!wu),0!==Ce(r,0,!0))break e;Bu=t,r.timeoutHandle=_h($u.bind(null,r,n,Du,Mu,Pu,t,xu,Iu,Nu,wu,s,"Throttled",-0,0),i)}else $u(r,n,Du,Mu,Pu,t,xu,Iu,Nu,wu,s,null,-0,0)}break}i=lc(e,t,!1),s=!1}Mc(e)}function $u(e,t,n,r,i,s,o,a,l,u,c,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){ou(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var p=(62914560&s)===s?Ou-le():(4194048&s)===s?Lu-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&ud(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===od&&(od=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,o=i.initiatorType,a=i.duration;if(s&&a&&ph(o)){for(o=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>a)break;var c=l.transferSize,h=l.initiatorType;c&&ph(h)&&(o+=c*((l=l.responseEnd)<a?1:(a-u)/(l-u)))}if(--r,t+=8*(s+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>od?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p),null!==p)return Bu=s,e.cancelPendingCommit=p(gc.bind(null,e,t,s,n,r,i,o,a,l,c,h,null,d,f)),void Zu(e,s,o,!u)}gc(e,t,s,n,r,i,o,a,l)}function Ju(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zu(e,t,n,r){t&=~Cu,t&=~Iu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Oe(e,n,t)}function ec(){return 0!==(6&pu)||(Fc(0,!1),!1)}function tc(){if(null!==gu){if(0===vu)var e=gu.return;else Ti=ki=null,ao(e=gu),ls=null,us=0,e=gu;for(;null!==e;)gl(e.alternate,e),e=e.return;gu=null}}function nc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Eh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bu=0,tc(),mu=e,gu=n=Br(e.current,null),yu=t,vu=0,bu=null,wu=!1,Su=xe(e,t),_u=!1,Nu=xu=Cu=Iu=Tu=ku=0,Du=Au=null,Pu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return Eu=t,Dr(),n}function rc(e,t){qs=null,L.H=ga,t===Ji||t===es?(t=os(),vu=3):t===Zi?(t=os(),vu=4):vu=t===Oa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bu=t,null===gu&&(ku=1,xa(e,Yr(t,e.current)))}function ic(){var e=Os.current;return null===e||((4194048&yu)===yu?null===Ls:((62914560&yu)===yu||0!==(536870912&yu))&&e===Ls)}function sc(){var e=L.H;return L.H=ga,null===e?ga:e}function oc(){var e=L.A;return L.A=du,e}function ac(){ku=4,wu||(4194048&yu)!==yu&&null!==Os.current||(Su=!0),0===(134217727&Tu)&&0===(134217727&Iu)||null===mu||Zu(mu,yu,xu,!1)}function lc(e,t,n){var r=pu;pu|=2;var i=sc(),s=oc();mu===e&&yu===t||(Mu=null,nc(e,t)),t=!1;var o=ku;e:for(;;)try{if(0!==vu&&null!==gu){var a=gu,l=bu;switch(vu){case 8:tc(),o=6;break e;case 3:case 2:case 9:case 6:null===Os.current&&(t=!0);var u=vu;if(vu=0,bu=null,fc(e,a,l,u),n&&Su){o=0;break e}break;default:u=vu,vu=0,bu=null,fc(e,a,l,u)}}uc(),o=ku;break}catch(c){rc(e,c)}return t&&e.shellSuspendCounter++,Ti=ki=null,pu=r,L.H=i,L.A=s,null===gu&&(mu=null,yu=0,Dr()),o}function uc(){for(;null!==gu;)hc(gu)}function cc(){for(;null!==gu&&!oe();)hc(gu)}function hc(e){var t=al(e.alternate,e,Eu);e.memoizedProps=e.pendingProps,null===t?pc(e):gu=t}function dc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ha(n,t,t.pendingProps,t.type,void 0,yu);break;case 11:t=Ha(n,t,t.pendingProps,t.type.render,t.ref,yu);break;case 5:ao(t);default:gl(n,t),t=al(n,t=gu=jr(t,Eu),Eu)}e.memoizedProps=e.pendingProps,null===t?pc(e):gu=t}function fc(e,t,n,r){Ti=ki=null,ao(t),ls=null,us=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ai(t,n,i,!0),null!==(n=Os.current)){switch(n.tag){case 31:case 13:return null===Ls?ac():null===n.alternate&&0===ku&&(ku=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Tc(e,r,i)),!1;case 22:return n.flags|=65536,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Tc(e,r,i)),!1}throw Error(o(435,n.tag))}return Tc(e,r,i),ac(),!1}if(di)return null!==(t=Os.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&_i(Yr(e=Error(o(422),{cause:r}),n))):(r!==mi&&_i(Yr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,n),_s(e,i=Aa(e.stateNode,r,i)),4!==ku&&(ku=2)),!1;var s=Error(o(520),{cause:r});if(s=Yr(s,n),null===Au?Au=[s]:Au.push(s),4!==ku&&(ku=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,_s(n,e=Aa(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Fu||!Fu.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Pa(i=Da(i),e,n,r),_s(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yu))return ku=1,xa(e,Yr(n,e.current)),void(gu=null)}catch(s){if(null!==i)throw gu=i,s;return ku=1,xa(e,Yr(n,e.current)),void(gu=null)}32768&t.flags?(di||1===r?e=!0:Su||0!==(536870912&yu)?e=!1:(wu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Os.current)&&13===r.tag&&(r.flags|=16384))),mc(t,e)):pc(t)}function pc(e){var t=e;do{if(0!==(32768&t.flags))return void mc(t,wu);e=t.return;var n=pl(t.alternate,t,Eu);if(null!==n)return void(gu=n);if(null!==(t=t.sibling))return void(gu=t);gu=t=e}while(null!==t);0===ku&&(ku=5)}function mc(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gu=e);gu=e=n}while(null!==e);ku=6,gu=null}function gc(e,t,n,r,i,s,a,l,u){e.cancelPendingCommit=null;do{Sc()}while(0!==Vu);if(0!==(6&pu))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-we(n),h=1<<c;a[c]=0,l[c]=-1;var d=u[c];if(null!==d)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Oe(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Ar,a,l,u),e===mu&&(gu=mu=null,yu=0),Uu=t,zu=e,Bu=n,ju=s,qu=i,Ku=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return _c(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=L.T,L.T=null,i=R.p,R.p=2,a=pu,pu|=4;try{!function(e,t){if(e=e.containerInfo,mh=wd,sr(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},wd=!1,Ll=t;null!==Ll;)if(e=(t=Ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ll=e;else for(;null!==Ll;){switch(s=(t=Ll).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=ka(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){kc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ah(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ah(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Ll=e;break}Ll=t.return}}(e,t)}finally{pu=a,R.p=i,L.T=r}}Vu=1,yc(),vc(),bc()}}function yc(){if(1===Vu){Vu=0;var e=zu,t=Uu,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null;var r=R.p;R.p=2;var i=pu;pu|=4;try{Hl(t,e);var s=gh,o=ir(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&rr(a.ownerDocument.documentElement,a)){if(null!==l&&sr(a)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=nr(a,m),v=nr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var w=h[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wd=!!mh,gh=mh=null}finally{pu=i,R.p=r,L.T=n}}e.current=t,Vu=2}}function vc(){if(2===Vu){Vu=0;var e=zu,t=Uu,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=L.T,L.T=null;var r=R.p;R.p=2;var i=pu;pu|=4;try{Rl(e,t.alternate,t)}finally{pu=i,R.p=r,L.T=n}}Vu=3}}function bc(){if(4===Vu||3===Vu){Vu=0,ae();var e=zu,t=Uu,n=Bu,r=Ku;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Vu=5:(Vu=0,Uu=zu=null,wc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Fu=null),Fe(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=L.T,i=R.p,R.p=2,L.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{L.T=t,R.p=i}}0!==(3&Bu)&&Sc(),Mc(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Hu?Gu++:(Gu=0,Hu=e):Gu=0,Fc(0,!1)}}function wc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function Sc(){return yc(),vc(),bc(),_c()}function _c(){if(5!==Vu)return!1;var e=zu,t=ju;ju=0;var n=Fe(Bu),r=L.T,i=R.p;try{R.p=32>n?32:n,L.T=null,n=qu,qu=null;var s=zu,a=Bu;if(Vu=0,Uu=zu=null,Bu=0,0!==(6&pu))throw Error(o(331));var l=pu;if(pu|=4,uu(s.current),tu(s,s.current,a,n),pu=l,Fc(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(u){}return!0}finally{R.p=i,L.T=r,wc(e,t)}}function Ec(e,t,n){t=Yr(n,t),null!==(e=ws(e,t=Aa(e.stateNode,t,2),2))&&(Pe(e,2),Mc(e))}function kc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Fu||!Fu.has(r))){e=Yr(n,e),null!==(r=ws(t,n=Da(2),2))&&(Pa(n,r,t,e),Pe(r,2),Mc(r));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(_u=!0,i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mu===e&&(yu&n)===n&&(4===ku||3===ku&&(62914560&yu)===yu&&300>le()-Ou?0===(2&pu)&&nc(e,0):Cu|=n,Nu===yu&&(Nu=0)),Mc(e)}function Cc(e,t){0===t&&(t=Ae()),null!==(e=Lr(e,t))&&(Pe(e,t),Mc(e))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}var Ac=null,Dc=null,Pc=!1,Oc=!1,Lc=!1,Rc=0;function Mc(e){e!==Dc&&null===e.next&&(null===Dc?Ac=Dc=e:Dc=Dc.next=e),Oc=!0,Pc||(Pc=!0,Th(function(){0!==(6&pu)?ie(ce,Vc):zc()}))}function Fc(e,t){if(!Lc&&Oc){Lc=!0;do{for(var n=!1,r=Ac;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,jc(r,s))}else s=yu,0===(3&(s=Ce(r,r===mu?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,s)||(n=!0,jc(r,s));r=r.next}}while(n);Lc=!1}}function Vc(){zc()}function zc(){Oc=Pc=!1;var e=0;0!==Rc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Sh&&(Sh=e,!0);return Sh=null,!1}()&&(e=Rc);for(var t=le(),n=null,r=Ac;null!==r;){var i=r.next,s=Uc(r,t);0===s?(r.next=null,null===n?Ac=i:n.next=i,null===i&&(Dc=n)):(n=r,(0!==e||0!==(3&s))&&(Oc=!0)),r=i}0!==Vu&&5!==Vu||Fc(e,!1),0!==Rc&&(Rc=0)}function Uc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-we(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=Ne(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=yu,n=Ce(e,e===(t=mu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vu||9===vu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Fe(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=Bc.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Bc(e,t){if(0!==Vu&&5!==Vu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=yu;return 0===(r=Ce(e,e===mu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xu(e,r,t),Uc(e,le()),null!=e.callbackNode&&e.callbackNode===n?Bc.bind(null,e):null)}function jc(e,t){if(Sc())return null;Xu(e,t,!0)}function qc(){if(0===Rc){var e=Ki;0===e&&(e=Ee,0===(261888&(Ee<<=1))&&(Ee=256)),Rc=e}return Rc}function Kc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Gc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hc=0;Hc<Tr.length;Hc++){var Qc=Tr[Hc];Ir(Qc.toLowerCase(),"on"+(Qc[0].toUpperCase()+Qc.slice(1)))}Ir(yr,"onAnimationEnd"),Ir(vr,"onAnimationIteration"),Ir(br,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(wr,"onTransitionRun"),Ir(Sr,"onTransitionStart"),Ir(_r,"onTransitionCancel"),Ir(Er,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function Xc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(c){Cr(c)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(c){Cr(c)}i.currentTarget=null,s=l}}}}function $c(e,t){var n=t[Ke];void 0===n&&(n=t[Ke]=new Set);var r=e+"__bubble";n.has(r)||(th(t,e,2,!1),n.add(r))}function Jc(e,t,n){var r=0;t&&(r|=4),th(n,e,r,t)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function eh(e){if(!e[Zc]){e[Zc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yc.has(t)||Jc(t,!1,e),Jc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zc]||(t[Zc]=!0,Jc("selectionchange",!1,t))}}function th(e,t,n,r){switch(Cd(t)){case 2:var i=Sd;break;case 8:i=_d;break;default:i=Ed}n=i.bind(null,t,n,e),i=void 0,!jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nh(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Xe(a)))return;if(5===(u=o.tag)||6===u||26===u||27===u){r=s=o;continue e}a=a.parentNode}}r=r.return}zt(function(){var r=s,i=Lt(n),o=[];e:{var a=kr.get(e);if(void 0!==a){var u=rn,c=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":u=bn;break;case"focusin":c="focus",u=cn;break;case"focusout":c="blur",u=cn;break;case"beforeblur":case"afterblur":u=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Sn;break;case yr:case vr:case br:u=hn;break;case Er:u=_n;break;case"scroll":case"scrollend":u=on;break;case"wheel":u=En;break;case"copy":case"cut":case"paste":u=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=wn;break;case"toggle":case"beforetoggle":u=kn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&h.push(rh(m,g,p)),d)break;m=m.return}0<h.length&&(a=new u(a,c,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ot||!(c=n.relatedTarget||n.fromElement)||!Xe(c)&&!c[qe])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xe(c):null)&&(d=l(c),h=c.tag,c!==d||5!==h&&27!==h&&6!==h)&&(c=null)):(u=null,c=r),u!==c)){if(h=ln,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=wn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==u?a:Je(u),p=null==c?a:Je(c),(a=new h(g,m+"leave",u,n,i)).target=d,a.relatedTarget=p,g=null,Xe(i)===r&&((h=new h(f,m+"enter",c,n,i)).target=p,h.relatedTarget=d,g=h),d=g,u&&c)e:{for(h=sh,m=c,p=0,g=f=u;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==u&&oh(o,a,u,h,!1),null!==c&&null!==d&&oh(o,d,c,h,!0)}if("select"===(u=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=jn;else if(Mn(a))if(qn)v=Jn;else{v=Xn;var b=Yn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&xt(r.elementType)&&(v=jn):v=$n;switch(v&&(v=v(e,r))?Fn(o,v,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),b=r?Je(r):window,e){case"focusin":(Mn(b)||"true"===b.contentEditable)&&(ar=b,lr=r,ur=null);break;case"focusout":ur=lr=ar=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,hr(o,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":hr(o,n,i)}var w;if(In)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ln?Pn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(Nn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==S?"onCompositionEnd"===S&&Ln&&(w=Qt()):(Gt="value"in(Kt=i)?Kt.value:Kt.textContent,Ln=!0)),0<(b=ih(r,S)).length&&(S=new fn(S,e,null,n,i),o.push({event:S,listeners:b}),w?S.data=w:null!==(w=On(n))&&(S.data=w))),(w=xn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Dn=!0,An);case"textInput":return(e=t.data)===An&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!In&&Pn(e,t)?(e=Qt(),Ht=Gt=Kt=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=ih(r,"onBeforeInput")).length&&(b=new fn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:S}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Kc((i[je]||null).action),o=r.submitter;o&&null!==(t=(t=o[je]||null)?Kc(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new rn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Rc){var e=o?Gc(i,o):new FormData(i);na(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Gc(i,o):new FormData(i),na(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Xc(o,t)})}function rh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ih(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ut(e,n))&&r.unshift(rh(e,i,s)),null!=(i=Ut(e,t))&&r.push(rh(e,i,s))),3===e.tag)return r;e=e.return}return[]}function sh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function oh(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===u||(l=u,i?null!=(u=Ut(n,s))&&o.unshift(rh(n,u,l)):i||null!=(u=Ut(n,s))&&o.push(rh(n,u,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ah=/\r\n?/g,lh=/\u0000|\uFFFD/g;function uh(e){return("string"===typeof e?e:""+e).replace(ah,"\n").replace(lh,"")}function ch(e,t){return t=uh(t),uh(e)===t}function hh(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":ut(e,"class",r);break;case"tabIndex":ut(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){ut(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&hh(e,t,"name",i.name,i,null),hh(e,t,"formEncType",i.formEncType,i,null),hh(e,t,"formMethod",i.formMethod,i,null),hh(e,t,"formTarget",i.formTarget,i,null)):(hh(e,t,"encType",i.encType,i,null),hh(e,t,"method",i.method,i,null),hh(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Dt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$c("beforetoggle",e),$c("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Nt.get(n)||n,r)}}function dh(e,t,n,r,i,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[je]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$c("error",e),$c("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:hh(e,t,r,a,n,null)}}return s&&hh(e,t,"srcSet",n.srcSet,n,null),void(i&&hh(e,t,"src",n.src,n,null));case"input":$c("invalid",e);var l=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:hh(e,t,i,h,n,null)}}return void bt(e,r,l,u,c,a,s,!1);case"select":for(s in $c("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:hh(e,t,s,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?St(e,!!i,t,!1):null!=n&&St(e,!!i,n,!0));case"textarea":for(a in $c("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:hh(e,t,a,l,n,null)}return void Et(e,i,s,r);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else hh(e,t,u,i,n,null);return;case"dialog":$c("beforetoggle",e),$c("toggle",e),$c("cancel",e),$c("close",e);break;case"iframe":case"object":$c("load",e);break;case"video":case"audio":for(i=0;i<Wc.length;i++)$c(Wc[i],e);break;case"image":$c("error",e),$c("load",e);break;case"details":$c("toggle",e);break;case"embed":case"source":case"link":$c("error",e),$c("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:hh(e,t,c,i,n,null)}return;default:if(xt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&dh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&hh(e,t,l,i,n,null))}function ph(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var mh=null,gh=null;function yh(e){return 9===e.nodeType?e:e.ownerDocument}function vh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sh=null;var _h="function"===typeof setTimeout?setTimeout:void 0,Eh="function"===typeof clearTimeout?clearTimeout:void 0,kh="function"===typeof Promise?Promise:void 0,Th="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof kh?function(e){return kh.resolve(null).then(e).catch(Ih)}:_h;function Ih(e){setTimeout(function(){throw e})}function Ch(e){return"head"===e}function xh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Gd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zh(e.ownerDocument.documentElement);else if("head"===n){zh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var o=s.nextSibling,a=s.nodeName;s[We]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}else"body"===n&&zh(e.ownerDocument.body);n=i}while(n);Gd(t)}function Nh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ah(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ah(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Dh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Lh(e.nextSibling)))return null}return e}function Ph(e){return"$?"===e.data||"$~"===e.data}function Oh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Lh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Rh=null;function Mh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Lh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Fh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Vh(e,t,n){switch(t=yh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function zh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Uh=new Map,Bh=new Set;function jh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qh=R.d;R.d={f:function(){var e=qh.f(),t=ec();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ia(t):qh.r(e)},D:function(e){qh.D(e),Gh("dns-prefetch",e,null)},C:function(e,t){qh.C(e,t),Gh("preconnect",e,t)},L:function(e,t,n){qh.L(e,t,n);var r=Kh;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Qh(e);break;case"script":s=Xh(e)}Uh.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Uh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Wh(s))||"script"===t&&r.querySelector($h(s))||(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qh.m(e,t);var n=Kh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xh(e)}if(!Uh.has(s)&&(e=f({rel:"modulepreload",href:e},t),Uh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($h(s)))return}fh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qh.X(e,t);var n=Kh;if(n&&e){var r=Ze(n).hoistableScripts,i=Xh(e),s=r.get(i);s||((s=n.querySelector($h(i)))||(e=f({src:e,async:!0},t),(t=Uh.get(i))&&td(e,t),et(s=n.createElement("script")),fh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){qh.S(e,t,n);var r=Kh;if(r&&e){var i=Ze(r).hoistableStyles,s=Qh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Wh(s)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Uh.get(s))&&ed(e,n);var l=o=r.createElement("link");et(l),fh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Zh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){qh.M(e,t);var n=Kh;if(n&&e){var r=Ze(n).hoistableScripts,i=Xh(e),s=r.get(i);s||((s=n.querySelector($h(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Uh.get(i))&&td(e,t),et(s=n.createElement("script")),fh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Kh="undefined"===typeof document?null:document;function Gh(e,t,n){var r=Kh;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Bh.has(i)||(Bh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Hh(e,t,n,r){var i,s,a,l,u=(u=H.current)?jh(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Qh(n.href),(r=(n=Ze(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Qh(n.href);var c=Ze(u).hoistableStyles,h=c.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=u.querySelector(Wh(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Uh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Uh.set(e,n),c||(i=u,s=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),fh(s,"link",a),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xh(n),(r=(n=Ze(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Qh(e){return'href="'+yt(e)+'"'}function Wh(e){return'link[rel="stylesheet"]['+e+"]"}function Yh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xh(e){return'[src="'+yt(e)+'"]'}function $h(e){return"script[async]"+e}function Jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fh(r,"style",i),Zh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Qh(n.href);var s=e.querySelector(Wh(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Yh(n),(i=Uh.get(i))&&ed(r,i),et(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fh(s,"link",r),t.state.loading|=4,Zh(s,n.precedence,e),t.instance=s;case"script":return s=Xh(n.src),(i=e.querySelector($h(s)))?(t.instance=i,et(i),i):(r=n,(i=Uh.get(s))&&td(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zh(r,n.precedence,e));return t.instance}function Zh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nd=null;function rd(e,t,n){if(null===nd){var r=new Map,i=nd=new Map;i.set(n,r)}else(r=(i=nd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[We]||s[Be]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var od=0;function ad(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ld=null;function ud(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ld=new Map,t.forEach(cd,e),ld=null,ad.call(e))}function cd(e,t){if(!(4&t.state.loading)){var n=ld.get(e);if(n)var r=n.get(null);else{n=new Map,ld.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=ad.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var hd={$$typeof:S,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function dd(e,t,n,r,i,s,o,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fd(e,t,n,r,i,s,o,a,l,u,c,h){return e=new dd(e,t,n,o,l,u,c,h,a),t=1,!0===s&&(t|=24),s=zr(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ys(s),e}function pd(e){return e?e=Fr:Fr}function md(e,t,n,r,i,s){i=pd(i),null===r.context?r.context=i:r.pendingContext=i,(r=bs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ws(e,r,t))&&(Yu(n,0,t),Ss(n,e,t))}function gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yd(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function vd(e){if(13===e.tag||31===e.tag){var t=Lr(e,67108864);null!==t&&Yu(t,0,67108864),yd(e,67108864)}}function bd(e){if(13===e.tag||31===e.tag){var t=Qu(),n=Lr(e,t=Me(t));null!==n&&Yu(n,0,t),yd(e,t)}}var wd=!0;function Sd(e,t,n,r){var i=L.T;L.T=null;var s=R.p;try{R.p=2,Ed(e,t,n,r)}finally{R.p=s,L.T=i}}function _d(e,t,n,r){var i=L.T;L.T=null;var s=R.p;try{R.p=8,Ed(e,t,n,r)}finally{R.p=s,L.T=i}}function Ed(e,t,n,r){if(wd){var i=kd(r);if(null===i)nh(e,t,r,Td,n),Md(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nd=Fd(Nd,e,t,n,r,i),!0;case"dragenter":return Ad=Fd(Ad,e,t,n,r,i),!0;case"mouseover":return Dd=Fd(Dd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pd.set(s,Fd(Pd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Od.set(s,Fd(Od.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Md(e,r),4&t&&-1<Rd.indexOf(e)){for(;null!==i;){var s=$e(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Ie(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-we(o);a.entanglements[1]|=l,o&=~l}Mc(s),0===(6&pu)&&(Ru=le()+500,Fc(0,!1))}}break;case 31:case 13:null!==(a=Lr(s,2))&&Yu(a,0,2),ec(),yd(s,2)}if(null===(s=kd(r))&&nh(e,t,r,Td,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else nh(e,t,r,null,n)}}function kd(e){return Id(e=Lt(e))}var Td=null;function Id(e){if(Td=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Td=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var xd=!1,Nd=null,Ad=null,Dd=null,Pd=new Map,Od=new Map,Ld=[],Rd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Md(e,t){switch(e){case"focusin":case"focusout":Nd=null;break;case"dragenter":case"dragleave":Ad=null;break;case"mouseover":case"mouseout":Dd=null;break;case"pointerover":case"pointerout":Pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Od.delete(t.pointerId)}}function Fd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Vd(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void ze(e.priority,function(){bd(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){bd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kd(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&vd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Ud(e,t,n){zd(e)&&n.delete(t)}function Bd(){xd=!1,null!==Nd&&zd(Nd)&&(Nd=null),null!==Ad&&zd(Ad)&&(Ad=null),null!==Dd&&zd(Dd)&&(Dd=null),Pd.forEach(Ud),Od.forEach(Ud)}function jd(e,t){e.blockedOn===t&&(e.blockedOn=null,xd||(xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bd)))}var qd=null;function Kd(e){qd!==e&&(qd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qd===e&&(qd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Id(r||n))continue;break}var s=$e(n);null!==s&&(e.splice(t,3),t-=3,na(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Gd(e){function t(t){return jd(t,e)}null!==Nd&&jd(Nd,e),null!==Ad&&jd(Ad,e),null!==Dd&&jd(Dd,e),Pd.forEach(t),Od.forEach(t);for(var n=0;n<Ld.length;n++){var r=Ld[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ld.length&&null===(n=Ld[0]).blockedOn;)Vd(n),null===n.blockedOn&&Ld.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[je]||null;if("function"===typeof s)o||Kd(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[je]||null)a=o.formAction;else if(null!==Id(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Kd(n)}}}function Hd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Qd(e){this._internalRoot=e}function Wd(e){this._internalRoot=e}Wd.prototype.render=Qd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));md(t.current,Qu(),e,t,null,null)},Wd.prototype.unmount=Qd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),ec(),t[qe]=null}},Wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ve();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ld.length&&0!==t&&t<Ld[n].priority;n++);Ld.splice(n,0,e),0===n&&Vd(e)}};var Yd=i.version;if("19.2.0"!==Yd)throw Error(o(527,Yd,"19.2.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Xd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{ye=$d.inject(Xd),ve=$d}catch(Zd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=Ta,s=Ia,l=Ca;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fd(e,1,!1,null,0,n,r,null,i,s,l,Hd),e[qe]=t.current,eh(e),new Qd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=Ta,l=Ia,u=Ca,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=fd(e,1,!0,t,0,r,i,c,s,l,u,Hd)).context=pd(null),n=t.current,(i=bs(r=Me(r=Qu()))).callback=null,ws(n,i,r),n=r,t.current.lanes=n,Pe(t,n),Mc(t),e[qe]=t.current,eh(e),new Wd(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var S=w.prototype=new b;S.constructor=w,g(S,v.prototype),S.isPureReactComponent=!0;var _=Array.isArray;function E(){}var k={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function I(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case d:return A((c=e._init)(e._payload),t,i,s,o)}}if(c)return o=o(e),c=""===s?"."+N(e,0):s,_(o)?(i="",null!=c&&(i=c.replace(x,"$&/")+"/"),A(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(l=o,u=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+c,o=I(l.type,u,l.props)),t.push(o)),1;c=0;var h,f=""===s?".":s+":";if(_(e))for(var m=0;m<e.length;m++)c+=A(s=e[m],t,i,a=f+N(s,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)c+=A(s=s.value,t,i,a=f+N(s,m++),o);else if("object"===a){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function D(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},L={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=L,t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!T.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return I(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)T.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return I(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(E,O)}catch(s){O(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element");function r(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}Symbol.for("react.fragment"),t.jsx=r,t.jsxs=r},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,S(e),!m)if(null!==r(u))m=!0,k||(k=!0,E());else{var t=r(c);null!==t&&P(_,t.startTime-e)}}var E,k=!1,T=-1,I=5,C=-1;function x(){return!!y||!(t.unstable_now()-C<I)}function N(){if(y=!1,k){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(T),T=-1),p=!0;var s=f;try{t:{for(S(e),d=r(u);null!==d&&!(d.expirationTime>e&&x());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,S(e),n=!0;break t}d===r(u)&&i(u),S(e)}else i(u);d=r(u)}if(null!==d)n=!0;else{var l=r(c);null!==l&&P(_,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?E():k=!1}}}if("function"===typeof w)E=function(){w(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=N,E=function(){D.postMessage(null)}}else E=function(){v(N,0)};function P(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(b(T),T=-1):g=!0,P(_,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,k||(k=!0,E()))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".9c882bd5.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="wk2016:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[o,a,l]=r,u=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkwk2016=self.webpackChunkwk2016||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{FirebaseError:()=>P,SDK_VERSION:()=>ut,_DEFAULT_ENTRY_NAME:()=>Ge,_addComponent:()=>Xe,_addOrOverwriteComponent:()=>$e,_apps:()=>Qe,_clearComponents:()=>it,_components:()=>Ye,_getProvider:()=>Ze,_isFirebaseApp:()=>tt,_isFirebaseServerApp:()=>rt,_isFirebaseServerAppSettings:()=>nt,_registerComponent:()=>Je,_removeServiceInstance:()=>et,_serverApps:()=>We,deleteApp:()=>pt,getApp:()=>dt,getApps:()=>ft,initializeApp:()=>ct,initializeServerApp:()=>ht,onLog:()=>gt,registerVersion:()=>mt,setLogLevel:()=>yt});var i=n(43),s=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new f;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(e){return function(e){const t=h(e);return d.encodeByteArray(t,!0)}(e).replace(/\./g,"")},m=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&y(n)&&(e[n]=g(e[n],t[n]));return e}function y(e){return"__proto__"!==e}function v(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const b=()=>{try{return v().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBDmfOHslOkGEybrdQBTXRxj8fI_DOKcZw",REACT_APP_FIREBASE_AUTH_DOMAIN:"wk2026-cda62.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"wk2026-cda62"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&m(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},w=()=>{var e;return null===(e=b())||void 0===e?void 0:e.config};class S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function _(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const E={};let k=!1;function T(e,t){if("undefined"===typeof window||"undefined"===typeof document||!_(window.location.host)||E[e]===t||E[e]||k)return;function n(e){return"__firebase__banner__".concat(e)}E[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(E))E[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{k=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),u=n("preprendIcon"),c=document.getElementById(u)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,u),t.append(c,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function I(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){var e;const t=null===(e=b())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function x(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function N(){return!C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){return!C()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function D(){try{return"object"===typeof indexedDB}catch(e){return!1}}class P extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(L,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new P(n,s,t)}}const L=/\{\$([^}]+)}/g;function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(F(n)&&F(s)){if(!M(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F(e){return null!==e&&"object"===typeof e}function V(e,t){const n=new z(e,t);return n.subscribe.bind(n)}class z{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U(){}function B(e){return e&&e._delegate?e._delegate:e}class j{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const q="[DEFAULT]";class K{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new S;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:q})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===q?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;return this.component?this.component.multipleInstances?e:q:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class G{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new K(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const H=[];var Q;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Q||(Q={}));const W={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Y=Q.INFO,X={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},$=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=X[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class J{constructor(e){this.name=e,this._logLevel=Y,this._logHandler=$,this._userLogHandler=null,H.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?W[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...t),this._logHandler(this,Q.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...t),this._logHandler(this,Q.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.INFO,...t),this._logHandler(this,Q.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.WARN,...t),this._logHandler(this,Q.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...t),this._logHandler(this,Q.ERROR,...t)}}let Z,ee;const te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,se=new WeakMap;let oe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ne.get(e);if("objectStoreNames"===t)return e.objectStoreNames||re.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ue(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ae(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ce(this),n),ue(te.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ue(e.apply(ce(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ce(this),t,...r);return re.set(s,t.sort?t.sort():[t]),ue(s)}}function le(e){return"function"===typeof e?ae(e):(e instanceof IDBTransaction&&function(e){if(ne.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});ne.set(e,t)}(e),t=e,(Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,oe):e);var t}function ue(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ue(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&te.set(t,e)}).catch(()=>{}),se.set(t,e),t}(e);if(ie.has(e))return ie.get(e);const t=le(e);return t!==e&&(ie.set(e,t),se.set(t,e)),t}const ce=e=>se.get(e);const he=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],fe=new Map;function pe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(fe.get(t))return fe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=de.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!he.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return fe.set(t,s),s}oe=(e=>c(c({},e),{},{get:(t,n,r)=>pe(t,n)||e.get(t,n,r),has:(t,n)=>!!pe(t,n)||e.has(t,n)}))(oe);class me{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ge="@firebase/app",ye="0.14.6",ve=new J("@firebase/app"),be="@firebase/app-compat",we="@firebase/analytics-compat",Se="@firebase/analytics",_e="@firebase/app-check-compat",Ee="@firebase/app-check",ke="@firebase/auth",Te="@firebase/auth-compat",Ie="@firebase/database",Ce="@firebase/data-connect",xe="@firebase/database-compat",Ne="@firebase/functions",Ae="@firebase/functions-compat",De="@firebase/installations",Pe="@firebase/installations-compat",Oe="@firebase/messaging",Le="@firebase/messaging-compat",Re="@firebase/performance",Me="@firebase/performance-compat",Fe="@firebase/remote-config",Ve="@firebase/remote-config-compat",ze="@firebase/storage",Ue="@firebase/storage-compat",Be="@firebase/firestore",je="@firebase/ai",qe="@firebase/firestore-compat",Ke="firebase",Ge="[DEFAULT]",He={[ge]:"fire-core",[be]:"fire-core-compat",[Se]:"fire-analytics",[we]:"fire-analytics-compat",[Ee]:"fire-app-check",[_e]:"fire-app-check-compat",[ke]:"fire-auth",[Te]:"fire-auth-compat",[Ie]:"fire-rtdb",[Ce]:"fire-data-connect",[xe]:"fire-rtdb-compat",[Ne]:"fire-fn",[Ae]:"fire-fn-compat",[De]:"fire-iid",[Pe]:"fire-iid-compat",[Oe]:"fire-fcm",[Le]:"fire-fcm-compat",[Re]:"fire-perf",[Me]:"fire-perf-compat",[Fe]:"fire-rc",[Ve]:"fire-rc-compat",[ze]:"fire-gcs",[Ue]:"fire-gcs-compat",[Be]:"fire-fst",[qe]:"fire-fst-compat",[je]:"fire-vertex","fire-js":"fire-js",[Ke]:"fire-js-all"},Qe=new Map,We=new Map,Ye=new Map;function Xe(e,t){try{e.container.addComponent(t)}catch(n){ve.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $e(e,t){e.container.addOrOverwriteComponent(t)}function Je(e){const t=e.name;if(Ye.has(t))return ve.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ye.set(t,e);for(const n of Qe.values())Xe(n,e);for(const n of We.values())Xe(n,e);return!0}function Ze(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function et(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ge;Ze(e,t).clearInstance(n)}function tt(e){return void 0!==e.options}function nt(e){return!tt(e)&&("authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e)}function rt(e){return null!==e&&void 0!==e&&void 0!==e.settings}function it(){Ye.clear()}const st=new O("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ot{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new j("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw st.create("app-deleted",{appName:this._name})}}function at(e,t){const n=m(e.split(".")[1]);if(null===n)return void console.error("FirebaseServerApp ".concat(t," is invalid: second part could not be parsed."));if(void 0===JSON.parse(n).exp)return void console.error("FirebaseServerApp ".concat(t," is invalid: expiration claim could not be parsed"));1e3*JSON.parse(n).exp-(new Date).getTime()<=0&&console.error("FirebaseServerApp ".concat(t," is invalid: the token has expired."))}class lt extends ot{constructor(e,t,n,r){const i=void 0===t.automaticDataCollectionEnabled||t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=c({automaticDataCollectionEnabled:i},t),this._serverConfig.authIdToken&&at(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&at(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,mt(ge,ye,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){pt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw st.create("server-app-deleted")}}const ut="12.6.0";function ct(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:Ge,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw st.create("bad-app-name",{appName:String(i)});if(n||(n=w()),!n)throw st.create("no-options");const s=Qe.get(i);if(s){if(M(n,s.options)&&M(r,s.config))return s;throw st.create("duplicate-app",{appName:i})}const o=new G(i);for(const l of Ye.values())o.addComponent(l);const a=new ot(n,r,o);return Qe.set(i,a),a}function ht(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(("undefined"!==typeof window||x())&&!x())throw st.create("invalid-server-app-environment");let r=n||{};if(e&&(tt(e)?t=e.options:nt(e)?r=e:t=e),void 0===r.automaticDataCollectionEnabled&&(r.automaticDataCollectionEnabled=!0),t||(t=w()),!t)throw st.create("no-options");const i=c(c({},r),t);void 0!==i.releaseOnDeref&&delete i.releaseOnDeref;if(void 0!==r.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw st.create("finalization-registry-not-supported",{});const s=""+(o=JSON.stringify(i),[...o].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0));var o;const a=We.get(s);if(a)return a.incRefCount(r.releaseOnDeref),a;const l=new G(s);for(const c of Ye.values())l.addComponent(c);const u=new lt(t,r,s,l);return We.set(s,u),u}function dt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;const t=Qe.get(e);if(!t&&e===Ge&&w())return ct();if(!t)throw st.create("no-app",{appName:e});return t}function ft(){return Array.from(Qe.values())}async function pt(e){let t=!1;const n=e.name;if(Qe.has(n))t=!0,Qe.delete(n);else if(We.has(n)){e.decRefCount()<=0&&(We.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function mt(e,t,n){var r;let i=null!==(r=He[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ve.warn(e.join(" "))}Je(new j("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}function gt(e,t){if(null!==e&&"function"!==typeof e)throw st.create("invalid-log-argument");!function(e,t){for(const n of H){let r=null;t&&t.level&&(r=W[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map(e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Q[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function yt(e){var t;t=e,H.forEach(e=>{e.setLogLevel(t)})}const vt="firebase-heartbeat-store";let bt=null;function wt(){return bt||(bt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=ue(o);return r&&o.addEventListener("upgradeneeded",e=>{r(ue(o.result),e.oldVersion,e.newVersion,ue(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(vt)}catch(n){console.warn(n)}}}).catch(e=>{throw st.create("idb-open",{originalErrorMessage:e.message})})),bt}async function St(e,t){try{const n=(await wt()).transaction(vt,"readwrite"),r=n.objectStore(vt);await r.put(t,_t(e)),await n.done}catch(n){if(n instanceof P)ve.warn(n.message);else{const e=st.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ve.warn(e.message)}}}function _t(e){return"".concat(e.name,"!").concat(e.options.appId)}class Et{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Tt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ve.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=kt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),It(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),It(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ve.warn(t),""}}}function kt(){return(new Date).toISOString().substring(0,10)}class Tt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!D()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await wt()).transaction(vt),n=await t.objectStore(vt).get(_t(e));return await t.done,n}catch(t){if(t instanceof P)ve.warn(t.message);else{const e=st.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ve.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function It(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var Ct;Ct="",Je(new j("platform-logger",e=>new me(e),"PRIVATE")),Je(new j("heartbeat",e=>new Et(e),"PRIVATE")),mt(ge,ye,Ct),mt(ge,ye,"esm2020"),mt("fire-js","");class xt{constructor(e,t){this._delegate=e,this.firebase=t,Xe(e,new j("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),pt(this._delegate)))}_getService(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Xe(this._delegate,e)}_addOrOverwriteComponent(e){$e(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Nt=new O("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const At=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r){const i=ct(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(R(t,i.name))return t[i.name];const s=new e(i,n);return t[i.name]=s,s},app:i,registerVersion:mt,setLogLevel:yt,onLog:gt,apps:null,SDK_VERSION:ut,INTERNAL:{registerComponent:function(t){const r=t.name,s=r.replace("-compat","");if(Je(t)&&"PUBLIC"===t.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Nt.create("invalid-app-argument",{appName:r});return e[s]()};void 0!==t.serviceProps&&g(o,t.serviceProps),n[s]=o,e.prototype[s]=function(){const e=this._getService.bind(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!R(t,e=e||Ge))throw Nt.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(xt);return t.INTERNAL=c(c({},t.INTERNAL),{},{createFirebaseNamespace:e,extendNamespace:function(e){g(t,e)},createSubscribe:V,ErrorFactory:O,deepExtend:g}),t}(),Dt=new J("@firebase/app-compat");try{const e=v();if(void 0!==e.firebase){Dt.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Dt.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(Og){}const Pt=At;!function(e){mt("@firebase/app-compat","0.5.6",e)}();Pt.registerVersion("firebase","12.6.0","app-compat");var Ot,Lt,Rt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Mt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,o=e.g[3];s=t+(o^n&(i^o))+r[0]+3614090360&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[3]+3250441966&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[4]+4118548399&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[7]+4249261313&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[8]+1770035416&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[11]+2304563134&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[12]+1804603682&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[15]+1236535329&4294967295,s=t+(i^o&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[0]+3921069994&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[4]+3889429448&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[8]+1163531501&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^o)+r[5]+4294588738&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[1]+2763975236&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[13]+681279174&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[9]+3654602809&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~o))+r[0]+4096336452&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[12]+1700485571&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[8]+1873313359&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[4]+4149444226&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,o=0;for(;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return d(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=s.add(r);u.l(e)<=0&&(i=i.add(n),s=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||u.l(e)>0;)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(u)<0&&e.l(u)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),o=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=s*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Lt=Mt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=o(Math.pow(n,s)),i=i.j(s).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},Ot=Mt.Integer=r}).apply("undefined"!==typeof Rt?Rt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ft,Vt,zt,Ut,Bt,jt,qt,Kt,Gt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ht={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Gt&&Gt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},s=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function c(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},S=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(_)}};function _(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function E(){this.u=this.u,this.C=this.C}function k(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},k.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function I(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){k.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}c(C,k),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var x="closure_listenable_"+(1e6*Math.random()|0),N=0;function A(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++N,this.da=this.fa=!1}function D(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function P(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function O(e){const t={};for(const n in e)t[n]=e[n];return t}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<L.length;t++)n=L[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){this.src=e,this.g={},this.h=0}function F(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(D(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}M.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const o=V(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new A(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),U={};function B(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let s=0;s<t.length;s++)B(e,t[s],n,r,i);return null}return n=X(n),e&&e[x]?e.J(t,n,o(r)?!!r.capture:!!r,i):j(e,t,n,!1,r,i)}function j(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const a=o(i)?!!i.capture:!!i;let l=W(e);if(l||(e[z]=l=new M(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Q;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)T||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(H(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,i);return null}return n=X(n),e&&e[x]?e.K(t,n,o(r)?!!r.capture:!!r,i):j(e,t,n,!0,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=X(n),e&&e[x]?(e=e.i,(s=String(t).toString())in e.g&&((n=V(t=e.g[s],n,r,i))>-1&&(D(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=W(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,i)),(n=e>-1?t[e]:null)&&G(n))}function G(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[x])F(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(H(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=W(t))?(F(n,e),0==n.h&&(n.src=null,t[z]=null)):D(e)}}}function H(e){return e in U?U[e]:U[e]="on"+e}function Q(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function W(e){return(e=e[z])instanceof M?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){E.call(this),this.i=new M(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new k(t,e);else if(t instanceof k)t.target=t.target||e;else{var i=t;R(t=new k(r,e),i)}let s,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)s=t.g=n[o],i=Z(s,r,!0,t)&&i;if(s=t.g=e,i=Z(s,r,!0,t)&&i,i=Z(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Z(s,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const o=t[s];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&F(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}c($,E),$.prototype[x]=!0,$.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)D(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends E{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){E.call(this),this.h=e,this.g={}}c(ne,E);var re=[];function ie(e){P(e.g,function(e,t){this.g.hasOwnProperty(t)&&G(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,oe=s.JSON.parse,ae=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ue(){}var ce={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){k.call(this,"d")}function de(){k.call(this,"c")}c(he,k),c(de,k);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){k.call(this,fe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){k.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function we(e,t){k.call(this,fe.Ja,e),this.size=t}function Se(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function _e(){this.g=!0}function Ee(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",c(ge,k),fe.STAT_EVENT="statevent",c(ve,k),fe.Ja="timingevent",c(we,k),_e.prototype.ua=function(){this.g=!1},_e.prototype.info=function(){};var ke,Te={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ie={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function xe(e){return encodeURIComponent(String(e))}function Ne(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ae(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}c(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},ke=new Ce;var Pe={},Oe={};function Le(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Re(e,null)}function Re(e,t){e.F=Date.now(),Ve(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new De,e.g=yn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let s=0;s<i.length;s++){const e=B(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?O(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var o="",a=s.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Me(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Fe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Oe:(n=Number(t.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>t.length?Oe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.T=Date.now()+e.H,ze(e,e.H)}function ze(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Se(l(e.aa,e),t)}function Ue(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Be(e){0==e.j.I||e.K||dn(e.j,e)}function je(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||We(n.h,e)))if(!e.L&&We(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),en(n)}ln(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Se(l(n.Va,n),6e3));Qe(n.h)<=1&&n.ta&&(n.ta=void 0)}else pn(n,11)}else if((e.L||n.g==e)&&hn(n),!I(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const c=l[0];if(!(c<=n.K))if(n.K=c,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const c=l[5];null!=c&&"number"===typeof c&&c>0&&(r=1.5*c,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ye(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=gn(r,r.L?r.ba:null,r.W),o.L){Xe(r.h,o);var a=o,u=r.O;u&&(a.H=u),a.D&&(Ue(a),Ve(a)),r.g=o}else an(r);n.i.length>0&&nn(n)}else"stop"!=l[0]&&"close"!=l[0]||pn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?pn(n,7):Zt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(c){}}Ae.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Yt(e)?t.j():this.Y(e)},Ae.prototype.Y=function(e){try{if(e==this.g)e:{const l=Yt(this.g),u=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||4!=l||7==u||ye(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Me(e))return e.g.la();const t=Xt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Yt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return je(e),Be(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,be(12),je(this),Be(this);break e}Ee(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Fe(this,n),t==Oe){4==l&&(this.m=4,be(14),e=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}if(t==Pe){this.m=4,be(15),Ee(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Ee(this.i,this.l,t,null),qe(this,t)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),un(a),a.P=!0,be(11))}}else Ee(this.i,this.l,n,"[Invalid Chunked Response]"),je(this),Be(this)}else Ee(this.i,this.l,n,null),qe(this,n);4==l&&je(this),this.o&&!this.K&&(4==l?dn(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&Yt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(I(e[r]))continue;var n=Ne(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),je(this),Be(this)}}}catch(xn){}},Ae.prototype.cancel=function(){this.K=!0,je(this)},Ae.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),je(this),this.m=2,Be(this)):ze(this,this.T-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function He(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qe(e){return e.h?1:e.g?e.g.size:0}function We(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}Ge.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function st(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ut,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ut,!0),"@"),e.push(xe(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?ht:ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ut=/[#\/\?@]/g,ct=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=St(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(St(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(St(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Et(){this.g=new ae}function kt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Tt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function It(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,xt(e)}function xt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return P(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function At(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"===typeof e?null!=n&&xe(n):it(e,t,n))}function Dt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=St(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=xe(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+xe(n[t])),e.push(r)}}return this.i=e.join("&")},c(kt,le),kt.prototype.g=function(){return new Tt(this.i,this.h)},c(Tt,$),(e=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,xt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xt(this)),this.g&&(this.readyState=3,xt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;It(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):xt(this),3==this.readyState&&It(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),c(Dt,$);var Pt=/^https?$/i,Ot=["POST","PUT"];function Lt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Rt(e),Qt(e)}function Rt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Mt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Yt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Yt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!Pt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var o=Yt(e)>2?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.ca()+"]",Rt(e)}}finally{Qt(e)}}}function Qt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Yt(e){return e.g?e.g.readyState:0}function Xt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $t(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.za=0,this.i=[],this.j=new _e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$t("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$t("baseRetryDelayMs",5e3,e),this.Za=$t("retryDelaySeedMs",1e4,e),this.Ta=$t("forwardChannelMaxRetries",2,e),this.va=$t("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Ba=new Et,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Zt(e){if(tn(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),sn(e,n),(t=new Ae(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=yn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ve(t)}mn(e)}function en(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function tn(e){en(e),e.v&&(s.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function nn(e){if(!He(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||S(),b||(v(),b=!0),w.add(t,e),e.D=0}}function rn(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),sn(e,r),e.u&&e.o&&At(r,e.u,e.o),n=new Ae(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=on(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Le(n,r,t)}function sn(e,t){e.H&&P(e.H,function(e,n){it(t,n,e)}),e.l&&P({},function(e,n){it(t,n,e)})}function on(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var s=i[u].g;const n=i[u].map;if((s-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{s="req"+s+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;o(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(Wt){throw e.push(s+"type="+encodeURIComponent("_badmap")),Wt}}catch(Wt){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function an(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||S(),b||(v(),b=!0),w.add(t,e),e.A=0}}function ln(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Se(l(e.Da,e),fn(e,e.A)),e.A++,!0)}function un(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function cn(e){e.g=new Ae(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),sn(e,t),e.u&&e.o&&At(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Re(n,e)}function hn(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function dn(e,t){var n=null;if(e.g==t){hn(e),un(e),e.g=null;var r=2}else{if(!We(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),nn(e)}else an(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Qe(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Se(l(e.Ea,e,t),fn(e,e.D)),e.D++,!0))}(e,t)||2==r&&ln(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:pn(e,5);break;case 4:pn(e,10);break;case 3:pn(e,6);break;default:pn(e,2)}}function fn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function pn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new _e;if(s.Image){const r=new Image;r.onload=u(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=u(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(_t,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout(()=>{n.abort(),_t(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)}).catch(()=>{clearTimeout(r),_t(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),mn(e),tn(e)}function mn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function gn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),sn(e,r),r}function yn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Dt(new kt({ab:n})):new Dt(e.ma)).Fa(e.L),t}function vn(){}function bn(){}function wn(e,t){$.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!I(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new En(this)}function Sn(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _n(){de.call(this),this.status=1}function En(e){this.g=e}(e=Dt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ke.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Lt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Ot,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Lt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qt(this,!0)),Dt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mt(this):this.Xa())},e.Xa=function(){Mt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Yt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Jt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=gn(this,null,this.W),nn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ae(this,this.j,e);let s=this.o;if(this.U&&(s?(s=O(s),R(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),sn(this,n),s&&(this.R?t="headers="+xe(Nt(s))+"&"+t:this.u&&At(n,this.u,s)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Le(i,n,null)):Le(i,n,t),this.I=2}}else 3==this.I&&(e?rn(this,e):0==this.i.length||He(this.h)||rn(this))},e.Da=function(){if(this.v=null,cn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Se(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),en(this),cn(this))},e.Va=function(){null!=this.C&&(this.C=null,en(this),ln(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=vn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},bn.prototype.g=function(e,t){return new wn(e,t)},c(wn,$),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Zt(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.I&&nn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,Zt(this.g),delete this.g,wn.Z.N.call(this)},c(Sn,he),c(_n,de),c(En,vn),En.prototype.ra=function(){J(this.g,"a")},En.prototype.qa=function(e){J(this.g,new Sn(e))},En.prototype.pa=function(e){J(this.g,new _n)},En.prototype.oa=function(){J(this.g,"b")},bn.prototype.createWebChannel=bn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Kt=Ht.createWebChannelTransport=function(){return new bn},qt=Ht.getStatEventTarget=function(){return me()},jt=Ht.Event=fe,Bt=Ht.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Ut=Ht.ErrorCode=Te,Ie.COMPLETE="complete",zt=Ht.EventType=Ie,ue.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",$.prototype.listen=$.prototype.J,Vt=Ht.WebChannel=ue,Ht.FetchXmlHttpFactory=kt,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,Ft=Ht.XhrIo=Dt}).apply("undefined"!==typeof Gt?Gt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Qt="@firebase/firestore",Wt="4.9.2";class Yt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let Xt="12.3.0";const $t=new J("@firebase/firestore");function Jt(){return $t.logLevel}function Zt(e){if($t.logLevel<=Q.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(nn);$t.debug("Firestore (".concat(Xt,"): ").concat(e),...i)}}function en(e){if($t.logLevel<=Q.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(nn);$t.error("Firestore (".concat(Xt,"): ").concat(e),...i)}}function tn(e){if($t.logLevel<=Q.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(nn);$t.warn("Firestore (".concat(Xt,"): ").concat(e),...i)}}function nn(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function rn(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,sn(e,r,n)}function sn(e,t,n){let r="FIRESTORE (".concat(Xt,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw en(r),new Error(r)}function on(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||sn(t,i,r)}function an(e,t){return e}const ln={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class un extends P{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class cn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hn{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class dn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yt.UNAUTHENTICATED))}shutdown(){}}class fn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pn{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){on(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cn,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cn)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(on("string"==typeof t.accessToken,31837,{l:t}),new hn(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return on(null===e||"string"==typeof e,2055,{h:e}),new Yt(e)}}class mn{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gn{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new mn(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vn{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){on(void 0===this.o,3512);const n=e=>{null!=e.error&&Zt("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Zt("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yn(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(on("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new yn(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bn(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class wn{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=bn(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Sn(e,t){return e<t?-1:e>t?1:0}function _n(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Tn(n)===Tn(i)?Sn(n,i):Tn(n)?1:-1}return Sn(e.length,t.length)}const En=55296,kn=57343;function Tn(e){const t=e.charCodeAt(0);return t>=En&&t<=kn}function In(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Cn(e){return e+"\0"}const xn="__name__";class Nn{constructor(e,t,n){void 0===t?t=0:t>e.length&&rn(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&rn(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Nn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Nn.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Sn(e.length,t.length)}static compareSegments(e,t){const n=Nn.isNumericId(e),r=Nn.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Nn.extractNumericId(e).compare(Nn.extractNumericId(t)):_n(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ot.fromString(e.substring(4,e.length-2))}}class An extends Nn{construct(e,t,n){return new An(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new un(ln.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new An(e)}static emptyPath(){return new An([])}}const Dn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Nn{construct(e,t,n){return new Pn(e,t,n)}static isValidIdentifier(e){return Dn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===xn}static keyField(){return new Pn([xn])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new un(ln.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new un(ln.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new un(ln.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new un(ln.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(t)}static emptyPath(){return new Pn([])}}class On{constructor(e){this.path=e}static fromPath(e){return new On(An.fromString(e))}static fromName(e){return new On(An.fromString(e).popFirst(5))}static empty(){return new On(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===An.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return An.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new On(new An(e.slice()))}}function Ln(e,t,n){if(!n)throw new un(ln.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Rn(e,t,n,r){if(!0===t&&!0===r)throw new un(ln.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Mn(e){if(!On.isDocumentKey(e))throw new un(ln.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Fn(e){if(On.isDocumentKey(e))throw new un(ln.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vn(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function zn(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":rn(12329,{type:typeof e})}function Un(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new un(ln.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zn(e);throw new un(ln.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Bn(e,t){if(t<=0)throw new un(ln.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function jn(e,t){const n={typeString:e};return t&&(n.value=t),n}function qn(e,t){if(!Vn(e))throw new un(ln.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&o!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new un(ln.INVALID_ARGUMENT,n);return!0}const Kn=-62135596800,Gn=1e6;class Hn{static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Gn);return new Hn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new un(ln.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new un(ln.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kn)throw new un(ln.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new un(ln.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gn}_compareTo(e){return this.seconds===e.seconds?Sn(this.nanoseconds,e.nanoseconds):Sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Hn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qn(e,Hn._jsonSchema))return new Hn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kn;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Hn._jsonSchemaVersion="firestore/timestamp/1.0",Hn._jsonSchema={type:jn("string",Hn._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};class Qn{static fromTimestamp(e){return new Qn(e)}static min(){return new Qn(new Hn(0,0))}static max(){return new Qn(new Hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wn=-1;class Yn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Xn(e){return e.fields.find(e=>2===e.kind)}function $n(e){return e.fields.filter(e=>2!==e.kind)}Yn.UNKNOWN_ID=-1;class Jn{constructor(e,t){this.fieldPath=e,this.kind=t}}class Zn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Zn(0,nr.min())}}function er(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qn.fromTimestamp(1e9===r?new Hn(n+1,0):new Hn(n,r));return new nr(i,On.empty(),t)}function tr(e){return new nr(e.readTime,e.key,Wn)}class nr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new nr(Qn.min(),On.empty(),Wn)}static max(){return new nr(Qn.max(),On.empty(),Wn)}}function rr(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=On.comparator(e.documentKey,t.documentKey),0!==n?n:Sn(e.largestBatchId,t.largestBatchId))}const ir="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function or(e){if(e.code!==ln.FAILED_PRECONDITION||e.message!==ir)throw e;Zt("LocalStore","Unexpectedly lost primary lease")}class ar{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ar((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ar?t:ar.resolve(t)}catch(e){return ar.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ar.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ar.reject(t)}static resolve(e){return new ar((t,n)=>{t(e)})}static reject(e){return new ar((t,n)=>{n(e)})}static waitFor(e){return new ar((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=ar.resolve(!1);for(const n of e)t=t.next(e=>e?ar.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ar((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new ar((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}const lr="SimpleDb";class ur{static open(e,t,n,r){try{return new ur(t,e.transaction(r,n))}catch(e){throw new fr(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new cn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new fr(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=vr(t.target.error);this.S.reject(new fr(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Zt(lr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mr(t)}}class cr{static delete(e){return Zt(lr,"Removing database:",e),gr(v().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!D())return!1;if(cr.F())return!0;const e=I(),t=cr.M(e),n=0<t&&t<10,r=hr(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,12.2===cr.M(I())&&en("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Zt(lr,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new fr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new un(ln.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new un(ln.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new fr(e,r))},r.onupgradeneeded=e=>{Zt(lr,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.N.k(t,r.transaction,e.oldVersion,this.version).next(()=>{Zt(lr,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.L(e);const t=ur.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),ar.reject(e))).toPromise();return s.catch(()=>{}),await t.D,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Zt(lr,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function hr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class dr{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return gr(this.U.delete())}}class fr extends un{constructor(e,t){super(ln.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function pr(e){return"IndexedDbTransactionError"===e.name}class mr{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Zt(lr,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zt(lr,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),gr(n)}add(e){return Zt(lr,"ADD",this.store.name,e,e),gr(this.store.add(e))}get(e){return gr(this.store.get(e)).next(t=>(void 0===t&&(t=null),Zt(lr,"GET",this.store.name,e,t),t))}delete(e){return Zt(lr,"DELETE",this.store.name,e),gr(this.store.delete(e))}count(){return Zt(lr,"COUNT",this.store.name),gr(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new ar((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}}Y(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ar((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Z(e,t){Zt(lr,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,(e,t,n)=>n.delete())}ee(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}te(e){const t=this.cursor({});return new ar((n,r)=>{t.onerror=e=>{const t=vr(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}H(e,t){const n=[];return new ar((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new dr(i),o=t(i.primaryKey,i.value,s);if(o instanceof ar){const e=o.catch(e=>(s.done(),ar.reject(e)));n.push(e)}s.isDone?r():null===s.G?i.continue():i.continue(s.G)}}).next(()=>ar.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function gr(e){return new ar((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=vr(e.target.error);n(t)}})}let yr=!1;function vr(e){const t=cr.M(I());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new un("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return yr||(yr=!0,setTimeout(()=>{throw e},0)),e}}return e}const br="IndexBackfiller";class wr{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){Zt(br,"Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.ne.ie();Zt(br,"Documents written: ".concat(e))}catch(e){pr(e)?Zt(br,"Ignoring IndexedDB error during index backfill: ",e):await or(e)}await this.re(6e4)})}}class Sr{constructor(e,t){this.localStore=e,this.persistence=t}async ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const n=new Set;let r=t,i=!0;return ar.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return Zt(br,"Processing collection: ".concat(t)),this.oe(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this._e(r,n)).next(n=>(Zt(br,"Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}_e(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=tr(t);rr(r,n)>0&&(n=r)}),new nr(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class _r{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_r.ce=-1;const Er=-1;function kr(e){return null==e}function Tr(e){return 0===e&&1/e==-1/0}function Ir(e){return"number"==typeof e&&Number.isInteger(e)&&!Tr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Cr="\x01";function xr(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ar(t)),t=Nr(e.get(n),t);return Ar(t)}function Nr(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Cr:n+="\x01\x11";break;default:n+=t}}return n}function Ar(e){return e+Cr+"\x01"}function Dr(e){const t=e.length;if(on(t>=2,64408,{path:e}),2===t)return on(e.charAt(0)===Cr&&"\x01"===e.charAt(1),56145,{path:e}),An.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf(Cr,s);switch((t<0||t>n)&&rn(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:rn(61167,{path:e})}s=t+2}return new An(r)}const Pr="remoteDocuments",Or="owner",Lr="owner",Rr="mutationQueues",Mr="mutations",Fr="batchId",Vr="userMutationsIndex",zr=["userId","batchId"];function Ur(e,t){return[e,xr(t)]}function Br(e,t,n){return[e,xr(t),n]}const jr={},qr="documentMutations",Kr="remoteDocumentsV14",Gr=["prefixPath","collectionGroup","readTime","documentId"],Hr="documentKeyIndex",Qr=["prefixPath","collectionGroup","documentId"],Wr="collectionGroupIndex",Yr=["collectionGroup","readTime","prefixPath","documentId"],Xr="remoteDocumentGlobal",$r="remoteDocumentGlobalKey",Jr="targets",Zr="queryTargetsIndex",ei=["canonicalId","targetId"],ti="targetDocuments",ni=["targetId","path"],ri="documentTargetsIndex",ii=["path","targetId"],si="targetGlobalKey",oi="targetGlobal",ai="collectionParents",li=["collectionId","parent"],ui="clientMetadata",ci="bundles",hi="namedQueries",di="indexConfiguration",fi="collectionGroupIndex",pi="indexState",mi=["indexId","uid"],gi="sequenceNumberIndex",yi=["uid","sequenceNumber"],vi="indexEntries",bi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wi="documentKeyIndex",Si=["indexId","uid","orderedDocumentKey"],_i="documentOverlays",Ei=["userId","collectionPath","documentId"],ki="collectionPathOverlayIndex",Ti=["userId","collectionPath","largestBatchId"],Ii="collectionGroupOverlayIndex",Ci=["userId","collectionGroup","largestBatchId"],xi="globals",Ni=[Rr,Mr,qr,Pr,Jr,Or,oi,ti,ui,Xr,ai,ci,hi],Ai=[...Ni,_i],Di=[Rr,Mr,qr,Kr,Jr,Or,oi,ti,ui,Xr,ai,ci,hi,_i],Pi=Di,Oi=[...Pi,di,pi,vi],Li=Oi,Ri=[...Oi,xi],Mi=Ri;class Fi extends sr{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Vi(e,t){const n=an(e);return cr.O(n.le,t)}function zi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ui(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ji{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new ji(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new ji(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qi(this.root,e,this.comparator,!1)}getReverseIterator(){return new qi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qi(this.root,e,this.comparator,!0)}}class qi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ki.RED,this.left=null!=r?r:Ki.EMPTY,this.right=null!=i?i:Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ki(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ki.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rn(27949);return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw rn(57766)}get value(){throw rn(16141)}get color(){throw rn(16727)}get left(){throw rn(29726)}get right(){throw rn(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gi{constructor(e){this.comparator=e,this.data=new ji(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hi(this.data.getIterator())}getIteratorFrom(e){return new Hi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Gi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gi(this.comparator);return t.data=e,t}}class Hi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qi(e){return e.hasNext()?e.getNext():void 0}class Wi{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Wi([])}unionWith(e){let t=new Gi(Pn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return In(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Yi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Yi("Invalid base64 string: "+e):e}}(e);return new Xi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const $i=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(e){if(on(!!e,39018),"string"==typeof e){let t=0;const n=$i.exec(e);if(on(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zi(e.seconds),nanos:Zi(e.nanos)}}function Zi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function es(e){return"string"==typeof e?Xi.fromBase64String(e):Xi.fromUint8Array(e)}const ts="server_timestamp",ns="__type__",rs="__previous_value__",is="__local_write_time__";function ss(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ns])||void 0===t?void 0:t.stringValue)===ts}function os(e){const t=e.mapValue.fields[rs];return ss(t)?os(t):t}function as(e){const t=Ji(e.mapValue.fields[is].timestampValue);return new Hn(t.seconds,t.nanos)}class ls{constructor(e,t,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=u}}const us="(default)";class cs{constructor(e,t){this.projectId=e,this.database=t||us}static empty(){return new cs("","")}get isDefaultDatabase(){return this.database===us}isEqual(e){return e instanceof cs&&e.projectId===this.projectId&&e.database===this.database}}const hs="__type__",ds="__max__",fs={mapValue:{fields:{__type__:{stringValue:ds}}}},ps="__vector__",ms="value",gs={nullValue:"NULL_VALUE"};function ys(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ss(e)?4:Ls(e)?9007199254740991:Ps(e)?10:11:rn(28295,{value:e})}function vs(e,t){if(e===t)return!0;const n=ys(e);if(n!==ys(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return as(e).isEqual(as(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ji(e.timestampValue),r=Ji(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return es(e.bytesValue).isEqual(es(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zi(e.geoPointValue.latitude)===Zi(t.geoPointValue.latitude)&&Zi(e.geoPointValue.longitude)===Zi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zi(e.integerValue)===Zi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Zi(e.doubleValue),r=Zi(t.doubleValue);return n===r?Tr(n)===Tr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return In(e.arrayValue.values||[],t.arrayValue.values||[],vs);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zi(n)!==zi(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vs(n[i],r[i])))return!1;return!0}(e,t);default:return rn(52216,{left:e})}}function bs(e,t){return void 0!==(e.values||[]).find(e=>vs(e,t))}function ws(e,t){if(e===t)return 0;const n=ys(e),r=ys(t);if(n!==r)return Sn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sn(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Zi(e.integerValue||e.doubleValue),r=Zi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ss(e.timestampValue,t.timestampValue);case 4:return Ss(as(e),as(t));case 5:return _n(e.stringValue,t.stringValue);case 6:return function(e,t){const n=es(e),r=es(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Sn(n[i],r[i]);if(0!==e)return e}return Sn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Sn(Zi(e.latitude),Zi(t.latitude));return 0!==n?n:Sn(Zi(e.longitude),Zi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return _s(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[ms])||void 0===n?void 0:n.arrayValue,u=null===(r=a[ms])||void 0===r?void 0:r.arrayValue,c=Sn((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===u||void 0===u||null===(s=u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:_s(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===fs.mapValue&&t===fs.mapValue)return 0;if(e===fs.mapValue)return 1;if(t===fs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=_n(r[o],s[o]);if(0!==e)return e;const t=ws(n[r[o]],i[s[o]]);if(0!==t)return t}return Sn(r.length,s.length)}(e.mapValue,t.mapValue);default:throw rn(23264,{he:n})}}function Ss(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sn(e,t);const n=Ji(e),r=Ji(t),i=Sn(n.seconds,r.seconds);return 0!==i?i:Sn(n.nanos,r.nanos)}function _s(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ws(n[i],r[i]);if(e)return e}return Sn(n.length,r.length)}function Es(e){return ks(e)}function ks(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ji(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return es(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return On.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ks(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ks(e.fields[i]));return n+"}"}(e.mapValue):rn(61005,{value:e})}function Ts(e){switch(ys(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=os(e);return t?16+Ts(t):16;case 5:return 2*e.stringValue.length;case 6:return es(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Ts(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ui(e.fields,(e,n)=>{t+=e.length+Ts(n)}),t}(e.mapValue);default:throw rn(13486,{value:e})}}function Is(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Cs(e){return!!e&&"integerValue"in e}function xs(e){return!!e&&"arrayValue"in e}function Ns(e){return!!e&&"nullValue"in e}function As(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ds(e){return!!e&&"mapValue"in e}function Ps(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[hs])||void 0===t?void 0:t.stringValue)===ps}function Os(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ui(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Os(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Os(e.arrayValue.values[n]);return t}return c({},e)}function Ls(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ds}const Rs={mapValue:{fields:{[hs]:{stringValue:ps},[ms]:{arrayValue:{}}}}};function Ms(e){return"nullValue"in e?gs:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Is(cs.empty(),On.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Ps(e)?Rs:{mapValue:{}}:rn(35942,{value:e})}function Fs(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Is(cs.empty(),On.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?Rs:"mapValue"in e?Ps(e)?{mapValue:{}}:fs:rn(61959,{value:e})}function Vs(e,t){const n=ws(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function zs(e,t){const n=ws(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Us{constructor(e){this.value=e}static empty(){return new Us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ds(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Os(t)}setAll(e){let t=Pn.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Os(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ds(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ds(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ui(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Us(Os(this.value))}}function Bs(e){const t=[];return Ui(e.fields,(e,n)=>{const r=new Pn([e]);if(Ds(n)){const e=Bs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Wi(t)}class js{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new js(e,0,Qn.min(),Qn.min(),Qn.min(),Us.empty(),0)}static newFoundDocument(e,t,n,r){return new js(e,1,t,Qn.min(),n,r,0)}static newNoDocument(e,t){return new js(e,2,t,Qn.min(),Qn.min(),Us.empty(),0)}static newUnknownDocument(e,t){return new js(e,3,t,Qn.min(),Qn.min(),Us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof js&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new js(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class qs{constructor(e,t){this.position=e,this.inclusive=t}}function Ks(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?On.comparator(On.fromName(o.referenceValue),n.key):ws(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Gs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vs(e.position[n],t.position[n]))return!1;return!0}class Hs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Qs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ws{}class Ys extends Ws{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new so(e,t,n):"array-contains"===t?new uo(e,n):"in"===t?new co(e,n):"not-in"===t?new ho(e,n):"array-contains-any"===t?new fo(e,n):new Ys(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new oo(e,n):new ao(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ws(t,this.value)):null!==t&&ys(this.value)===ys(t)&&this.matchesComparison(ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xs extends Ws{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Xs(e,t)}matches(e){return $s(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $s(e){return"and"===e.op}function Js(e){return"or"===e.op}function Zs(e){return eo(e)&&$s(e)}function eo(e){for(const t of e.filters)if(t instanceof Xs)return!1;return!0}function to(e){if(e instanceof Ys)return e.field.canonicalString()+e.op.toString()+Es(e.value);if(Zs(e))return e.filters.map(e=>to(e)).join(",");{const t=e.filters.map(e=>to(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function no(e,t){return e instanceof Ys?function(e,t){return t instanceof Ys&&e.op===t.op&&e.field.isEqual(t.field)&&vs(e.value,t.value)}(e,t):e instanceof Xs?function(e,t){return t instanceof Xs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&no(n,t.filters[r]),!0)}(e,t):void rn(19439)}function ro(e,t){const n=e.filters.concat(t);return Xs.create(n,e.op)}function io(e){return e instanceof Ys?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Es(e.value))}(e):e instanceof Xs?function(e){return e.op.toString()+" {"+e.getFilters().map(io).join(" ,")+"}"}(e):"Filter"}class so extends Ys{constructor(e,t,n){super(e,t,n),this.key=On.fromName(n.referenceValue)}matches(e){const t=On.comparator(e.key,this.key);return this.matchesComparison(t)}}class oo extends Ys{constructor(e,t){super(e,"in",t),this.keys=lo("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ao extends Ys{constructor(e,t){super(e,"not-in",t),this.keys=lo("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>On.fromName(e.referenceValue))}class uo extends Ys{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xs(t)&&bs(t.arrayValue,this.value)}}class co extends Ys{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bs(this.value.arrayValue,t)}}class ho extends Ys{constructor(e,t){super(e,"not-in",t)}matches(e){if(bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!bs(this.value.arrayValue,t)}}class fo extends Ys{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>bs(this.value.arrayValue,e))}}class po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function mo(e){return new po(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function go(e){const t=an(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>to(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),kr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Es(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Es(e)).join(",")),t.Te=e}return t.Te}function yo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!no(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gs(e.startAt,t.startAt)&&Gs(e.endAt,t.endAt)}function vo(e){return On.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function bo(e,t){return e.filters.filter(e=>e instanceof Ys&&e.field.isEqual(t))}function wo(e,t,n){let r=gs,i=!0;for(const s of bo(e,t)){let e=gs,t=!0;switch(s.op){case"<":case"<=":e=Ms(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=gs}Vs({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Vs({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function So(e,t,n){let r=fs,i=!0;for(const s of bo(e,t)){let e=fs,t=!0;switch(s.op){case">=":case">":e=Fs(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=fs}zs({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];zs({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class _o{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Eo(e,t,n,r,i,s,o,a){return new _o(e,t,n,r,i,s,o,a)}function ko(e){return new _o(e)}function To(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Io(e){return null!==e.collectionGroup}function Co(e){const t=an(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Gi(Pn.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Hs(r,n))}),e.has(Pn.keyField().canonicalString())||t.Ie.push(new Hs(Pn.keyField(),n))}return t.Ie}function xo(e){const t=an(e);return t.Ee||(t.Ee=No(t,Co(e))),t.Ee}function No(e,t){if("F"===e.limitType)return mo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Hs(e.field,t)});const n=e.endAt?new qs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qs(e.startAt.position,e.startAt.inclusive):null;return mo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ao(e,t){const n=e.filters.concat([t]);return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Do(e,t,n){return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Po(e,t){return yo(xo(e),xo(t))&&e.limitType===t.limitType}function Oo(e){return"".concat(go(xo(e)),"|lt:").concat(e.limitType)}function Lo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>io(e)).join(", "),"]")),kr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Es(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Es(e)).join(",")),"Target(".concat(t,")")}(xo(e)),"; limitType=").concat(e.limitType,")")}function Ro(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):On.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Co(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ks(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Co(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ks(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Co(e),t))}(e,t)}function Mo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fo(e){return(t,n)=>{let r=!1;for(const i of Co(e)){const e=Vo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Vo(e,t,n){const r=e.field.isKeyField()?On.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ws(r,i):rn(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rn(19790,{direction:e.dir})}}class zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Bi(this.inner)}size(){return this.innerSize}}const Uo=new ji(On.comparator);function Bo(){return Uo}const jo=new ji(On.comparator);function qo(){let e=jo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ko(e){let t=jo;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Go(){return Qo()}function Ho(){return Qo()}function Qo(){return new zo(e=>e.toString(),(e,t)=>e.isEqual(t))}const Wo=new ji(On.comparator),Yo=new Gi(On.comparator);function Xo(){let e=Yo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const $o=new Gi(Sn);function Jo(){return $o}function Zo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tr(t)?"-0":t}}function ea(e){return{integerValue:""+e}}function ta(e,t){return Ir(t)?ea(t):Zo(e,t)}class na{constructor(){this._=void 0}}function ra(e,t,n){return e instanceof oa?function(e,t){const n={fields:{[ns]:{stringValue:ts},[is]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ss(t)&&(t=os(t)),t&&(n.fields[rs]=t),{mapValue:n}}(n,t):e instanceof aa?la(e,t):e instanceof ua?ca(e,t):function(e,t){const n=sa(e,t),r=da(n)+da(e.Ae);return Cs(n)&&Cs(e.Ae)?ea(r):Zo(e.serializer,r)}(e,t)}function ia(e,t,n){return e instanceof aa?la(e,t):e instanceof ua?ca(e,t):n}function sa(e,t){return e instanceof ha?function(e){return Cs(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class oa extends na{}class aa extends na{constructor(e){super(),this.elements=e}}function la(e,t){const n=fa(t);for(const r of e.elements)n.some(e=>vs(e,r))||n.push(r);return{arrayValue:{values:n}}}class ua extends na{constructor(e){super(),this.elements=e}}function ca(e,t){let n=fa(t);for(const r of e.elements)n=n.filter(e=>!vs(e,r));return{arrayValue:{values:n}}}class ha extends na{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function da(e){return Zi(e.integerValue||e.doubleValue)}function fa(e){return xs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class pa{constructor(e,t){this.field=e,this.transform=t}}class ma{constructor(e,t){this.version=e,this.transformResults=t}}class ga{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ga}static exists(e){return new ga(void 0,e)}static updateTime(e){return new ga(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ya(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class va{}function ba(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Na(e.key,ga.none()):new ka(e.key,e.data,ga.none());{const n=e.data,r=Us.empty();let i=new Gi(Pn.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ta(e.key,r,new Wi(i.toArray()),ga.none())}}function wa(e,t,n){e instanceof ka?function(e,t,n){const r=e.value.clone(),i=Ca(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ta?function(e,t,n){if(!ya(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ca(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ia(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sa(e,t,n,r){return e instanceof ka?function(e,t,n,r){if(!ya(e.precondition,t))return n;const i=e.value.clone(),s=xa(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ta?function(e,t,n,r){if(!ya(e.precondition,t))return n;const i=xa(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ia(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return ya(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function _a(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=sa(r.transform,e||null);null!=i&&(null===n&&(n=Us.empty()),n.set(r.field,i))}return n||null}function Ea(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&In(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof aa&&t instanceof aa||e instanceof ua&&t instanceof ua?In(e.elements,t.elements,vs):e instanceof ha&&t instanceof ha?vs(e.Ae,t.Ae):e instanceof oa&&t instanceof oa}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ka extends va{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ta extends va{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ia(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ca(e,t,n){const r=new Map;on(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ia(o,a,n[i]))}return r}function xa(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ra(e,s,t))}return r}class Na extends va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Aa extends va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Da{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&wa(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Sa(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Sa(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ho();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=ba(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Qn.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xo())}isEqual(e){return this.batchId===e.batchId&&In(this.mutations,e.mutations,(e,t)=>Ea(e,t))&&In(this.baseMutations,e.baseMutations,(e,t)=>Ea(e,t))}}class Pa{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){on(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Wo;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Pa(e,t,n,r)}}class Oa{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class La{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ra,Ma;function Fa(e){switch(e){case ln.OK:return rn(64938);case ln.CANCELLED:case ln.UNKNOWN:case ln.DEADLINE_EXCEEDED:case ln.RESOURCE_EXHAUSTED:case ln.INTERNAL:case ln.UNAVAILABLE:case ln.UNAUTHENTICATED:return!1;case ln.INVALID_ARGUMENT:case ln.NOT_FOUND:case ln.ALREADY_EXISTS:case ln.PERMISSION_DENIED:case ln.FAILED_PRECONDITION:case ln.ABORTED:case ln.OUT_OF_RANGE:case ln.UNIMPLEMENTED:case ln.DATA_LOSS:return!0;default:return rn(15467,{code:e})}}function Va(e){if(void 0===e)return en("GRPC error has no .code"),ln.UNKNOWN;switch(e){case Ra.OK:return ln.OK;case Ra.CANCELLED:return ln.CANCELLED;case Ra.UNKNOWN:return ln.UNKNOWN;case Ra.DEADLINE_EXCEEDED:return ln.DEADLINE_EXCEEDED;case Ra.RESOURCE_EXHAUSTED:return ln.RESOURCE_EXHAUSTED;case Ra.INTERNAL:return ln.INTERNAL;case Ra.UNAVAILABLE:return ln.UNAVAILABLE;case Ra.UNAUTHENTICATED:return ln.UNAUTHENTICATED;case Ra.INVALID_ARGUMENT:return ln.INVALID_ARGUMENT;case Ra.NOT_FOUND:return ln.NOT_FOUND;case Ra.ALREADY_EXISTS:return ln.ALREADY_EXISTS;case Ra.PERMISSION_DENIED:return ln.PERMISSION_DENIED;case Ra.FAILED_PRECONDITION:return ln.FAILED_PRECONDITION;case Ra.ABORTED:return ln.ABORTED;case Ra.OUT_OF_RANGE:return ln.OUT_OF_RANGE;case Ra.UNIMPLEMENTED:return ln.UNIMPLEMENTED;case Ra.DATA_LOSS:return ln.DATA_LOSS;default:return rn(39323,{code:e})}}(Ma=Ra||(Ra={}))[Ma.OK=0]="OK",Ma[Ma.CANCELLED=1]="CANCELLED",Ma[Ma.UNKNOWN=2]="UNKNOWN",Ma[Ma.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ma[Ma.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ma[Ma.NOT_FOUND=5]="NOT_FOUND",Ma[Ma.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ma[Ma.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ma[Ma.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ma[Ma.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ma[Ma.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ma[Ma.ABORTED=10]="ABORTED",Ma[Ma.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ma[Ma.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ma[Ma.INTERNAL=13]="INTERNAL",Ma[Ma.UNAVAILABLE=14]="UNAVAILABLE",Ma[Ma.DATA_LOSS=15]="DATA_LOSS";let za=null;function Ua(){return new TextEncoder}const Ba=new Ot([4294967295,4294967295],0);function ja(e){const t=Ua().encode(e),n=new Lt;return n.update(t),new Uint8Array(n.digest())}function qa(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ot([n,r],0),new Ot([i,s],0)]}class Ka{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ga("Invalid padding: ".concat(t));if(n<0)throw new Ga("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ga("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ga("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Ot.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ot.fromNumber(n)));return 1===r.compare(Ba)&&(r=new Ot([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=ja(e),[n,r]=qa(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ka(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=ja(e),[n,r]=qa(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ha{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Qa.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ha(Qn.min(),r,new ji(Sn),Bo(),Xo())}}class Qa{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Qa(n,t,Xo(),Xo(),Xo())}}class Wa{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Ya{constructor(e,t){this.targetId=e,this.Ce=t}}class Xa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xi.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class $a{constructor(){this.ve=0,this.Fe=el(),this.Me=Xi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xo(),t=Xo(),n=Xo();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rn(38017,{changeType:i})}}),new Qa(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=el()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,on(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ja{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bo(),this.Je=Za(),this.He=Za(),this.Ye=new ji(Sn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:rn(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(vo(s))if(0===n){const e=new On(s.path);this.et(t,e,js.newNoDocument(e,Qn.min()))}else on(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=za)||void 0===i||i.lt(function(e,t,n,r,i){var s,o,a,l,u;const c={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(c.bloomFilter={applied:0===i,hashCount:null!==(s=null===h||void 0===h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(o=null===h||void 0===h||null===(a=h.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(l=null===h||void 0===h||null===(u=h.bits)||void 0===u?void 0:u.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),c}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=es(n).toUint8Array()}catch(e){if(e instanceof Yi)return tn("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Ka(s,r,i)}catch(e){return tn(e instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&vo(i.target)){const t=new On(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,js.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Xo();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Ha(e,t,this.Ye,this.je,n);return this.je=Bo(),this.Je=Za(),this.He=Za(),this.Ye=new ji(Sn),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new $a,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Gi(Sn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Gi(Sn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Zt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $a),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Za(){return new ji(On.comparator)}function el(){return new ji(On.comparator)}const tl={asc:"ASCENDING",desc:"DESCENDING"},nl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rl={and:"AND",or:"OR"};class il{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sl(e,t){return e.useProto3Json||kr(t)?t:{value:t}}function ol(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function al(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ll(e,t){return ol(e,t.toTimestamp())}function ul(e){return on(!!e,49232),Qn.fromTimestamp(function(e){const t=Ji(e);return new Hn(t.seconds,t.nanos)}(e))}function cl(e,t){return hl(e,t).canonicalString()}function hl(e,t){const n=function(e){return new An(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function dl(e){const t=An.fromString(e);return on(Ll(t),10190,{key:t.toString()}),t}function fl(e,t){return cl(e.databaseId,t.path)}function pl(e,t){const n=dl(t);if(n.get(1)!==e.databaseId.projectId)throw new un(ln.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new un(ln.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new On(vl(n))}function ml(e,t){return cl(e.databaseId,t)}function gl(e){const t=dl(e);return 4===t.length?An.emptyPath():vl(t)}function yl(e){return new An(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vl(e){return on(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function bl(e,t,n){return{name:fl(e,t),fields:n.value.mapValue.fields}}function wl(e,t,n){const r=pl(e,t.name),i=ul(t.updateTime),s=t.createTime?ul(t.createTime):Qn.min(),o=new Us({mapValue:{fields:t.fields}}),a=js.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Sl(e,t){let n;if(t instanceof ka)n={update:bl(e,t.key,t.value)};else if(t instanceof Na)n={delete:fl(e,t.key)};else if(t instanceof Ta)n={update:bl(e,t.key,t.data),updateMask:Ol(t.fieldMask)};else{if(!(t instanceof Aa))return rn(16599,{Vt:t.type});n={verify:fl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof oa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof aa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ua)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ha)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw rn(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ll(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:rn(27497)}(e,t.precondition)),n}function _l(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?ga.updateTime(ul(e.updateTime)):void 0!==e.exists?ga.exists(e.exists):ga.none()}(t.currentDocument):ga.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)on("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new oa;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new aa(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new ua(e)}else"increment"in t?n=new ha(e,t.increment):rn(16584,{proto:t});const r=Pn.fromServerFormat(t.fieldPath);return new pa(r,n)}(e,t)):[];if(t.update){t.update.name;const i=pl(e,t.update.name),s=new Us({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Wi(t.map(e=>Pn.fromServerFormat(e)))}(t.updateMask);return new Ta(i,s,e,n,r)}return new ka(i,s,n,r)}if(t.delete){const r=pl(e,t.delete);return new Na(r,n)}if(t.verify){const r=pl(e,t.verify);return new Aa(r,n)}return rn(1463,{proto:t})}function El(e,t){return{documents:[ml(e,t.path)]}}function kl(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ml(e,i);const s=function(e){if(0!==e.length)return Pl(Xs.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Al(e.field),direction:Cl(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sl(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Tl(e){let t=gl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){on(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Il(e);return t instanceof Xs&&Zs(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Hs(Dl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,kr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new qs(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new qs(n,t)}(n.endAt)),Eo(t,i,o,s,a,"F",l,u)}function Il(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dl(e.unaryFilter.field);return Ys.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Dl(e.unaryFilter.field);return Ys.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dl(e.unaryFilter.field);return Ys.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Dl(e.unaryFilter.field);return Ys.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rn(61313);default:return rn(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ys.create(Dl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rn(58110);default:return rn(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xs.create(e.compositeFilter.filters.map(e=>Il(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return rn(1026)}}(e.compositeFilter.op))}(e):rn(30097,{filter:e})}function Cl(e){return tl[e]}function xl(e){return nl[e]}function Nl(e){return rl[e]}function Al(e){return{fieldPath:e.canonicalString()}}function Dl(e){return Pn.fromServerFormat(e.fieldPath)}function Pl(e){return e instanceof Ys?function(e){if("=="===e.op){if(As(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NAN"}};if(Ns(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(As(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NAN"}};if(Ns(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(e.field),op:xl(e.op),value:e.value}}}(e):e instanceof Xs?function(e){const t=e.getFilters().map(e=>Pl(e));return 1===t.length?t[0]:{compositeFilter:{op:Nl(e.op),filters:t}}}(e):rn(54877,{filter:e})}function Ol(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ll(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Rl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qn.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qn.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xi.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ml{constructor(e){this.yt=e}}function Fl(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:fl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ol(e,t.version.toTimestamp()),createTime:ol(e,t.createTime.toTimestamp())}}(e.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zl(t.version)};else{if(!t.isUnknownDocument())return rn(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:zl(t.version)}}return r}function Vl(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zl(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ul(e){const t=new Hn(e.seconds,e.nanoseconds);return Qn.fromTimestamp(t)}function Bl(e,t){const n=(t.baseMutations||[]).map(t=>_l(e.yt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map(t=>_l(e.yt,t)),i=Hn.fromMillis(t.localWriteTimeMs);return new Da(t.batchId,i,n,r)}function jl(e){const t=Ul(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ul(e.lastLimboFreeSnapshotVersion):Qn.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return on(1===t,1966,{count:t}),xo(ko(gl(e.documents[0])))}(e.query):function(e){return xo(Tl(e))}(e.query),new Rl(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Xi.fromBase64String(e.resumeToken))}function ql(e,t){const n=zl(t.snapshotVersion),r=zl(t.lastLimboFreeSnapshotVersion);let i;i=vo(t.target)?El(e.yt,t.target):kl(e.yt,t.target).ft;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:go(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Kl(e){const t=Tl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Do(t,t.limit,"L"):t}function Gl(e,t){return new Oa(t.largestBatchId,_l(e.yt,t.overlayMutation))}function Hl(e,t){const n=t.path.lastSegment();return[e,xr(t.path.popLast()),n]}function Ql(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:zl(r.readTime),documentKey:xr(r.documentKey.path),largestBatchId:r.largestBatchId}}class Wl{getBundleMetadata(e,t){return Yl(e).get(t).next(e=>{if(e)return function(e){return{id:e.bundleId,createTime:Ul(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return Yl(e).put(function(e){return{bundleId:e.id,createTime:zl(ul(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Xl(e).get(t).next(e=>{if(e)return function(e){return{name:e.name,query:Kl(e.bundledQuery),readTime:Ul(e.readTime)}}(e)})}saveNamedQuery(e,t){return Xl(e).put(function(e){return{name:e.name,readTime:zl(ul(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Yl(e){return Vi(e,ci)}function Xl(e){return Vi(e,hi)}class $l{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new $l(e,n)}getOverlay(e,t){return Jl(e).get(Hl(this.userId,t)).next(e=>e?Gl(this.serializer,e):null)}getOverlays(e,t){const n=Go();return ar.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const s=new Oa(t,i);r.push(this.St(e,s))}),ar.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(xr(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Jl(e).Z(ki,r))}),ar.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Go(),i=xr(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Jl(e).J(ki,s).next(e=>{for(const t of e){const e=Gl(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=Go();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jl(e).ee({index:Ii,range:o},(e,t,n)=>{const o=Gl(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>i)}St(e,t){return Jl(e).put(function(e,t,n){const[r,i,s]=Hl(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Sl(e.yt,n.mutation)}}(this.serializer,this.userId,t))}}function Jl(e){return Vi(e,_i)}class Zl{bt(e){return Vi(e,xi)}getSessionToken(e){return this.bt(e).get("sessionToken").next(e=>{const t=null===e||void 0===e?void 0:e.value;return t?Xi.fromUint8Array(t):Xi.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class eu{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Zi(e.integerValue));else if("doubleValue"in e){const n=Zi(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Tr(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Ji(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(es(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ls(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ps(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):rn(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=ms,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Zi(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),On.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}eu.Kt=new eu;const tu=255;function nu(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function ru(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=nu(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class iu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{const e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Ht()}Xt(e){const t=this.en(e),n=ru(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}nn(e){const t=this.en(e),n=ru(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}rn(){this.sn(tu),this.sn(255)}_n(){this.an(tu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Gt(e){const t=255&e;0===t?(this.sn(0),this.sn(255)):t===tu?(this.sn(tu),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;0===t?(this.an(0),this.an(255)):t===tu?(this.an(tu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class su{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class ou{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class au{constructor(){this.cn=new iu,this.ln=new su(this.cn),this.hn=new ou(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return 0===e?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class lu{constructor(e,t,n,r){this.Tn=e,this.In=t,this.En=n,this.dn=r}An(){const e=this.dn.length,t=0===e||255===this.dn[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new lu(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:hu(this.En),directionalValue:hu(this.dn),orderedDocumentKey:hu(t),documentKey:n.path.toArray()}}Vn(e,t,n){const r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function uu(e,t){let n=e.Tn-t.Tn;return 0!==n?n:(n=cu(e.En,t.En),0!==n?n:(n=cu(e.dn,t.dn),0!==n?n:On.comparator(e.In,t.In)))}function cu(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}function hu(e){return A()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function du(e){return"string"!=typeof e?e:function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class fu{constructor(e){this.mn=new Gi((e,t)=>Pn.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const e=t;e.isInequality()?this.mn=this.mn.add(e):this.gn.push(e)}}get pn(){return this.mn.size>1}yn(e){if(on(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Xn(e);if(void 0!==t&&!this.wn(t))return!1;const n=$n(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.wn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.mn.size>0){const e=this.mn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.Sn(e,t)||!this.bn(this.fn[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.fn.length||!this.bn(this.fn[s++],e))return!1}return!0}Dn(){if(this.pn)return null;let e=new Gi(Pn.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Jn(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Jn(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Jn(n.field,"asc"===n.dir?0:1)));return new Yn(Yn.UNKNOWN_ID,this.collectionId,t,Zn.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function pu(e){if(on(e instanceof Ys||e instanceof Xs,20012),e instanceof Ys){if(e instanceof co){var t;const n=(null===(t=e.value.arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(t=>Ys.create(e.field,"==",t)))||[];return Xs.create(n,"or")}return e}const n=e.filters.map(e=>pu(e));return Xs.create(n,e.op)}function mu(e){if(0===e.getFilters().length)return[];const t=bu(pu(e));return on(vu(t),7391),gu(t)||yu(t)?[t]:t.getFilters()}function gu(e){return e instanceof Ys}function yu(e){return e instanceof Xs&&Zs(e)}function vu(e){return gu(e)||yu(e)||function(e){if(e instanceof Xs&&Js(e)){for(const t of e.getFilters())if(!gu(t)&&!yu(t))return!1;return!0}return!1}(e)}function bu(e){if(on(e instanceof Ys||e instanceof Xs,34018),e instanceof Ys)return e;if(1===e.filters.length)return bu(e.filters[0]);const t=e.filters.map(e=>bu(e));let n=Xs.create(t,e.op);return n=_u(n),vu(n)?n:(on(n instanceof Xs,64498),on($s(n),40251),on(n.filters.length>1,57927),n.filters.reduce((e,t)=>wu(e,t)))}function wu(e,t){let n;return on(e instanceof Ys||e instanceof Xs,38388),on(t instanceof Ys||t instanceof Xs,25473),n=e instanceof Ys?t instanceof Ys?function(e,t){return Xs.create([e,t],"and")}(e,t):Su(e,t):t instanceof Ys?Su(t,e):function(e,t){if(on(e.filters.length>0&&t.filters.length>0,48005),$s(e)&&$s(t))return ro(e,t.getFilters());const n=Js(e)?e:t,r=Js(e)?t:e,i=n.filters.map(e=>wu(e,r));return Xs.create(i,"or")}(e,t),_u(n)}function Su(e,t){if($s(t))return ro(t,e.getFilters());{const n=t.filters.map(t=>wu(e,t));return Xs.create(n,"or")}}function _u(e){if(on(e instanceof Ys||e instanceof Xs,11850),e instanceof Ys)return e;const t=e.getFilters();if(1===t.length)return _u(t[0]);if(eo(e))return e;const n=t.map(e=>_u(e)),r=[];return n.forEach(t=>{t instanceof Ys?r.push(t):t instanceof Xs&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:Xs.create(r,e.op)}class Eu{constructor(){this.Cn=new ku}addToCollectionParentIndex(e,t){return this.Cn.add(t),ar.resolve()}getCollectionParents(e,t){return ar.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ar.resolve()}deleteFieldIndex(e,t){return ar.resolve()}deleteAllFieldIndexes(e){return ar.resolve()}createTargetIndexes(e,t){return ar.resolve()}getDocumentsMatchingTarget(e,t){return ar.resolve(null)}getIndexType(e,t){return ar.resolve(0)}getFieldIndexes(e,t){return ar.resolve([])}getNextCollectionGroupToUpdate(e){return ar.resolve(null)}getMinOffset(e,t){return ar.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,t){return ar.resolve(nr.min())}updateCollectionGroup(e,t,n){return ar.resolve()}updateIndexEntries(e,t){return ar.resolve()}}class ku{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gi(An.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gi(An.comparator)).toArray()}}const Tu="IndexedDbIndexManager",Iu=new Uint8Array(0);class Cu{constructor(e,t){this.databaseId=t,this.vn=new ku,this.Fn=new zo(e=>go(e),(e,t)=>yo(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const i={collectionId:n,parent:xr(r)};return xu(e).put(i)}return ar.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Cn(t),""],!1,!0);return xu(e).J(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Dr(r.parent))}return n})}addFieldIndex(e,t){const n=Au(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Du(e);return i.next(e=>{n.put(Ql(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=Au(e),r=Du(e),i=Nu(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Au(e),n=Nu(e),r=Du(e);return t.Z().next(()=>n.Z()).next(()=>r.Z())}createTargetIndexes(e,t){return ar.forEach(this.Mn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new fu(t).Dn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=Nu(e);let r=!0;const i=new Map;return ar.forEach(this.Mn(t),t=>this.xn(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=Xo();const r=[];return ar.forEach(i,(i,s)=>{Zt(Tu,"Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map(e=>"".concat(e.fieldPath,":").concat(e.kind)).join(","))}(i)," to execute ").concat(go(t)));const o=function(e,t){const n=Xn(t);if(void 0===n)return null;for(const r of bo(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of $n(t))for(const t of bo(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of $n(t)){const t=0===i.kind?wo(e,i.fieldPath,e.startAt):So(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new qs(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of $n(t)){const t=0===i.kind?So(e,i.fieldPath,e.endAt):wo(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new qs(n,r)}(s,i),c=this.On(i,s,l),h=this.On(i,s,u),d=this.Nn(i,s,a),f=this.Bn(i.indexId,o,c,l.inclusive,h,u.inclusive,d);return ar.forEach(f,i=>n.Y(i,t.limit).next(t=>{t.forEach(t=>{const n=On.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return ar.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(t=0===e.filters.length?[e]:mu(Xs.create(e.filters,"and")).map(t=>mo(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.Ln(t[c/l]):Iu,h=this.kn(e,a,n[c%l],r),d=this.qn(e,a,i[c%l],s),f=o.map(t=>this.kn(e,a,t,!0));u.push(...this.createRange(h,d,f))}return u}kn(e,t,n,r){const i=new lu(e,On.empty(),t,n);return r?i:i.An()}qn(e,t,n,r){const i=new lu(e,On.empty(),t,n);return r?i.An():i}xn(e,t){const n=new fu(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.yn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.Mn(t);return ar.forEach(r,t=>this.xn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new Gi(Pn.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}Qn(e,t){const n=new au;for(const r of $n(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Pn(r.kind);eu.Kt.Dt(e,i)}return n.un()}Ln(e){const t=new au;return eu.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new au;return eu.Kt.Dt(Is(this.databaseId,t),n.Pn(function(e){const t=$n(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.un()}Nn(e,t,n){if(null===n)return[];let r=[];r.push(new au);let i=0;for(const s of $n(e)){const e=n[i++];for(const n of r)if(this.Un(t,s.fieldPath)&&xs(e))r=this.Kn(r,s,e);else{const t=n.Pn(s.kind);eu.Kt.Dt(e,t)}}return this.Wn(r)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new au;n.seed(e.un()),eu.Kt.Dt(s,n.Pn(t.kind)),i.push(n)}return i}Un(e,t){return!!e.filters.find(e=>e instanceof Ys&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=Au(e),r=Du(e);return(t?n.J(fi,IDBKeyRange.bound(t,t)):n.J()).next(e=>{const t=[];return ar.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Zn(t.sequenceNumber,new nr(Ul(t.readTime),new On(Dr(t.documentKey)),t.largestBatchId)):Zn.empty(),r=e.fields.map(e=>{let[t,n]=e;return new Jn(Pn.fromServerFormat(t),n)});return new Yn(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Sn(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=Au(e),i=Du(e);return this.Gn(e).next(e=>r.J(fi,IDBKeyRange.bound(t,t)).next(t=>ar.forEach(t,t=>i.put(Ql(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return ar.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?ar.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),ar.forEach(i,n=>this.zn(e,t,n).next(t=>{const i=this.jn(r,n);return t.isEqual(i)?ar.resolve():this.Jn(e,r,n,t,i)}))))})}Hn(e,t,n,r){return Nu(e).put(r.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,r){return Nu(e).delete(r.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const r=Nu(e);let i=new Gi(uu);return r.ee({index:wi,range:IDBKeyRange.only([n.indexId,this.uid,hu(this.$n(n,t))])},(e,r)=>{i=i.add(new lu(n.indexId,t,du(r.arrayValue),du(r.directionalValue)))}).next(()=>i)}jn(e,t){let n=new Gi(uu);const r=this.Qn(t,e);if(null==r)return n;const i=Xn(t);if(null!=i){const s=e.data.field(i.fieldPath);if(xs(s))for(const i of s.arrayValue.values||[])n=n.add(new lu(t.indexId,e.key,this.Ln(i),r))}else n=n.add(new lu(t.indexId,e.key,Iu,r));return n}Jn(e,t,n,r,i){Zt(Tu,"Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Qi(s),l=Qi(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Qi(o)):t?(i(a),a=Qi(s)):(a=Qi(s),l=Qi(o))}}(r,i,uu,r=>{s.push(this.Hn(e,t,n,r))},r=>{s.push(this.Yn(e,t,n,r))}),ar.waitFor(s)}Gn(e){let t=1;return Du(e).ee({index:gi,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>uu(e,t)).filter((e,t,n)=>!t||0!==uu(e,n[t-1]));const r=[];r.push(e);for(const s of n){const n=uu(s,e),i=uu(s,t);if(0===n)r[0]=e.An();else if(n>0&&i<0)r.push(s),r.push(s.An());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Zn(r[s],r[s+1]))return[];const e=r[s].Vn(this.uid,Iu,On.empty()),t=r[s+1].Vn(this.uid,Iu,On.empty());i.push(IDBKeyRange.bound(e,t))}return i}Zn(e,t){return uu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Pu)}getMinOffset(e,t){return ar.mapArray(this.Mn(t),t=>this.xn(e,t).next(e=>e||rn(44426))).next(Pu)}}function xu(e){return Vi(e,ai)}function Nu(e){return Vi(e,vi)}function Au(e){return Vi(e,di)}function Du(e){return Vi(e,pi)}function Pu(e){on(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;rr(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new nr(t.readTime,t.documentKey,n)}const Ou={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lu=41943040;class Ru{static withCacheSize(e){return new Ru(e,Ru.DEFAULT_COLLECTION_PERCENTILE,Ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function Mu(e,t,n){const r=e.store(Mr),i=e.store(qr),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.ee({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{on(1===a,47070,{batchId:n.batchId})}));const u=[];for(const c of n.mutations){const e=Br(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return ar.waitFor(s).next(()=>u)}function Fu(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw rn(14731);t=e.noDocument}return JSON.stringify(t).length}Ru.DEFAULT_COLLECTION_PERCENTILE=10,Ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ru.DEFAULT=new Ru(Lu,Ru.DEFAULT_COLLECTION_PERCENTILE,Ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ru.DISABLED=new Ru(-1,0,0);class Vu{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Xn={}}static wt(e,t,n,r){on(""!==e.uid,64387);const i=e.isAuthenticated()?e.uid:"";return new Vu(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uu(e).ee({index:Vr,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Bu(e),s=Uu(e);return s.add({}).next(o=>{on("number"==typeof o,49019);const a=new Da(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Sl(e.yt,t)),i=n.mutations.map(t=>Sl(e.yt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new Gi((e,t)=>Sn(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Br(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,jr))}return c.forEach(t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Xn[o]=a.keys()}),ar.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return Uu(e).get(t).next(e=>e?(on(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),Bl(this.serializer,e)):null)}er(e,t){return this.Xn[t]?ar.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Xn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Uu(e).ee({index:Vr,range:r},(e,t,r)=>{t.userId===this.userId&&(on(t.batchId>=n,47524,{tr:n}),i=Bl(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Er;return Uu(e).ee({index:Vr,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Er],[this.userId,Number.POSITIVE_INFINITY]);return Uu(e).J(Vr,t).next(e=>e.map(e=>Bl(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ur(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Bu(e).ee({range:r},(n,r,s)=>{const[o,a,l]=n,u=Dr(a);if(o===this.userId&&t.path.isEqual(u))return Uu(e).get(l).next(e=>{if(!e)throw rn(61480,{nr:n,batchId:l});on(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(Bl(this.serializer,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gi(Sn);const r=[];return t.forEach(t=>{const i=Ur(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Bu(e).ee({range:s},(e,r,i)=>{const[s,o,a]=e,l=Dr(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),ar.waitFor(r).next(()=>this.rr(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ur(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Gi(Sn);return Bu(e).ee({range:s},(e,t,i)=>{const[s,a,l]=e,u=Dr(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()}).next(()=>this.rr(e,o))}rr(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Uu(e).get(t).next(e=>{if(null===e)throw rn(35274,{batchId:t});on(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(Bl(this.serializer,e))}))}),ar.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Mu(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),ar.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ar.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Bu(e).ee({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Dr(e[1]);r.push(t)}else n.done()}).next(()=>{on(0===r.length,56720,{sr:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return zu(e,this.userId,t)}_r(e){return ju(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:Er,lastStreamToken:""})}}function zu(e,t,n){const r=Ur(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Bu(e).ee({range:s,X:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Uu(e){return Vi(e,Mr)}function Bu(e){return Vi(e,qr)}function ju(e){return Vi(e,Rr)}class qu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qu(0)}static cr(){return new qu(-1)}}class Ku{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const n=new qu(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(e=>Qn.fromTimestamp(new Hn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.lr(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.hr(e,r)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gu(e).delete(t.targetId)).next(()=>this.lr(e)).next(t=>(on(t.targetCount>0,8065),t.targetCount-=1,this.hr(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Gu(e).ee((s,o)=>{const a=jl(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>ar.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Gu(e).ee((e,n)=>{const r=jl(n);t(r)})}lr(e){return Hu(e).get(si).next(e=>(on(null!==e,2888),e))}hr(e,t){return Hu(e).put(si,t)}Pr(e,t){return Gu(e).put(ql(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next(e=>e.targetCount)}getTargetData(e,t){const n=go(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Gu(e).ee({range:r,index:Zr},(e,n,r)=>{const s=jl(n);yo(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=Qu(e);return t.forEach(t=>{const s=xr(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))}),ar.waitFor(r)}removeMatchingKeys(e,t,n){const r=Qu(e);return ar.forEach(t,t=>{const i=xr(t.path);return ar.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Qu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Qu(e);let i=Xo();return r.ee({range:n,X:!0},(e,t,n)=>{const r=Dr(e[1]),s=new On(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=xr(t.path),r=IDBKeyRange.bound([n],[Cn(n)],!1,!0);let i=0;return Qu(e).ee({index:ri,X:!0,range:r},(e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}At(e,t){return Gu(e).get(t).next(e=>e?jl(e):null)}}function Gu(e){return Vi(e,Jr)}function Hu(e){return Vi(e,oi)}function Qu(e){return Vi(e,ti)}const Wu="LruGarbageCollector",Yu=1048576;function Xu(e,t){let[n,r]=e,[i,s]=t;const o=Sn(n,i);return 0===o?Sn(r,s):o}class $u{constructor(e){this.Ir=e,this.buffer=new Gi(Xu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Xu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ju{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Zt(Wu,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){pr(e)?Zt(Wu,"Ignoring IndexedDB error during garbage collection: ",e):await or(e)}await this.Vr(3e5)})}}class Zu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ar.resolve(_r.ce);const n=new $u(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector","Garbage collection skipped; disabled"),ar.resolve(Ou)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ou):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Zt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Jt()<=Q.DEBUG&&Zt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),ar.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function ec(e,t){return new Zu(e,t)}class tc{constructor(e,t){this.db=e,this.garbageCollector=ec(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(e,n)=>t(n))}addReference(e,t,n){return nc(e,n)}removeReference(e,t,n){return nc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return nc(e,t)}br(e,t){return function(e,t){let n=!1;return ju(e).te(r=>zu(e,r,t).next(e=>(e&&(n=!0),ar.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Sr(e,(s,o)=>{if(o<=t){const t=this.br(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s,Qn.min()),Qu(e).delete(function(e){return[0,xr(e.path)]}(s))))});r.push(t)}}).next(()=>ar.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return nc(e,t)}Sr(e,t){const n=Qu(e);let r,i=_r.ce;return n.ee({index:ri},(e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==_r.ce&&t(new On(Dr(r)),i),i=l,r=a):i=_r.ce}).next(()=>{i!==_r.ce&&t(new On(Dr(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nc(e,t){return Qu(e).put(function(e,t){return{targetId:0,path:xr(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class rc{constructor(){this.changes=new zo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,js.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ar.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ic{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return lc(e).put(n)}removeEntry(e,t,n){return lc(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Vl(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Dr(e,n)))}getEntry(e,t){let n=js.newInvalidDocument(t);return lc(e).ee({index:Hr,range:IDBKeyRange.only(uc(t))},(e,r)=>{n=this.Cr(t,r)}).next(()=>n)}vr(e,t){let n={size:0,document:js.newInvalidDocument(t)};return lc(e).ee({index:Hr,range:IDBKeyRange.only(uc(t))},(e,r)=>{n={document:this.Cr(t,r),size:Fu(r)}}).next(()=>n)}getEntries(e,t){let n=Bo();return this.Fr(e,t,(e,t)=>{const r=this.Cr(e,t);n=n.insert(e,r)}).next(()=>n)}Mr(e,t){let n=Bo(),r=new ji(On.comparator);return this.Fr(e,t,(e,t)=>{const i=this.Cr(e,t);n=n.insert(e,i),r=r.insert(e,Fu(t))}).next(()=>({documents:n,Or:r}))}Fr(e,t,n){if(t.isEmpty())return ar.resolve();let r=new Gi(hc);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(uc(r.first()),uc(r.last())),s=r.getIterator();let o=s.getNext();return lc(e).ee({index:Hr,range:i},(e,t,r)=>{const i=On.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&hc(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.j(uc(o)):r.done()}).next(()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Vl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lc(e).J(IDBKeyRange.bound(o,a,!0)).next(e=>{null===i||void 0===i||i.incrementDocumentReadCount(e.length);let n=Bo();for(const i of e){const e=this.Cr(On.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Ro(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=Bo();const s=cc(t,n),o=cc(t,nr.max());return lc(e).ee({index:Wr,range:IDBKeyRange.bound(s,o,!0)},(e,t,n)=>{const s=this.Cr(On.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new oc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return ac(e).get($r).next(e=>(on(!!e,20021),e))}Dr(e,t){return ac(e).put($r,t)}Cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=wl(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=On.fromSegments(t.noDocument.path),r=Ul(t.noDocument.readTime);n=js.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return rn(56709);{const e=On.fromSegments(t.unknownDocument.path),r=Ul(t.unknownDocument.version);n=js.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Hn(e[0],e[1]);return Qn.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Qn.min()))return e}return js.newInvalidDocument(e)}}function sc(e){return new ic(e)}class oc extends rc{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new zo(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Gi((e,t)=>Sn(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Fl(this.Nr.serializer,s);r=r.add(i.path.popLast());const l=Fu(a);n+=l-o.size,t.push(this.Nr.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Fl(this.Nr.serializer,s.convertToNoDocument(Qn.min()));t.push(this.Nr.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Nr.updateMetadata(e,n)),ar.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(e=>(this.Br.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(e=>{let{documents:t,Or:n}=e;return n.forEach((e,n)=>{this.Br.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function ac(e){return Vi(e,Xr)}function lc(e){return Vi(e,Kr)}function uc(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function cc(e,t){const n=t.documentKey.path.toArray();return[e,Vl(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hc(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Sn(n[s],r[s]),i)return i;return i=Sn(n.length,r.length),i||(i=Sn(n[n.length-2],r[r.length-2]),i||Sn(n[n.length-1],r[r.length-1]))}class dc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Sa(n.mutation,e,Wi.empty(),Hn.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Xo()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xo();const r=Go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=qo();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Go();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Xo()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Bo();const s=Qo(),o=Qo();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ta)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Sa(o.mutation,t,o.mutation.getFieldMask(),Hn.now())):s.set(t.key,Wi.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new dc(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Qo();let r=new ji((e,t)=>e-t),i=Xo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Wi.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Xo()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Ho();l.forEach(e=>{if(!i.has(e)){const r=ba(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return ar.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return On.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Io(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ar.resolve(Go());let o=Wn,a=i;return s.next(t=>ar.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ar.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Xo())).next(e=>({batchId:o,changes:Ko(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new On(t)).next(e=>{let t=qo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=qo();return this.indexManager.getCollectionParents(e,i).next(o=>ar.forEach(o,o=>{const a=function(e,t){return new _o(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,js.newInvalidDocument(r)))});let n=qo();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Sa(s.mutation,r,Wi.empty(),Hn.now()),Ro(t,r)&&(n=n.insert(e,r))}),n})}}class pc{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ar.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ul(e.createTime)}}(t)),ar.resolve()}getNamedQuery(e,t){return ar.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Kl(e.bundledQuery),readTime:ul(e.readTime)}}(t)),ar.resolve()}}class mc{constructor(){this.overlays=new ji(On.comparator),this.qr=new Map}getOverlay(e,t){return ar.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Go();return ar.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),ar.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),ar.resolve()}getOverlaysForCollection(e,t,n){const r=Go(),i=t.length+1,s=new On(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ar.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ji((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Go(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Go(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return ar.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Oa(t,n));let i=this.qr.get(t);void 0===i&&(i=Xo(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class gc{constructor(){this.sessionToken=Xi.EMPTY_BYTE_STRING}getSessionToken(e){return ar.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ar.resolve()}}class yc{constructor(){this.Qr=new Gi(vc.$r),this.Ur=new Gi(vc.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new vc(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new vc(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new On(new An([])),n=new vc(t,e),r=new vc(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new On(new An([])),n=new vc(t,e),r=new vc(t,e+1);let i=Xo();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new vc(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vc{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return On.comparator(e.key,t.key)||Sn(e.Yr,t.Yr)}static Kr(e,t){return Sn(e.Yr,t.Yr)||On.comparator(e.key,t.key)}}class bc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Gi(vc.$r)}checkEmpty(e){return ar.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Da(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Zr=this.Zr.add(new vc(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ar.resolve(s)}lookupMutationBatch(e,t){return ar.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return ar.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ar.resolve(0===this.mutationQueue.length?Er:this.tr-1)}getAllMutationBatches(e){return ar.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vc(t,0),r=new vc(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),ar.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gi(Sn);return t.forEach(e=>{const t=new vc(e,0),r=new vc(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),ar.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;On.isDocumentKey(i)||(i=i.child(""));const s=new vc(new On(i),0);let o=new Gi(Sn);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},s),ar.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){on(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return ar.forEach(t.mutations,r=>{const i=new vc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new vc(t,0),r=this.Zr.firstAfterOrEqual(n);return ar.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ar.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wc{constructor(e){this.ri=e,this.docs=new ji(On.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ar.resolve(n?n.document.mutableCopy():js.newInvalidDocument(t))}getEntries(e,t){let n=Bo();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():js.newInvalidDocument(e))}),ar.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Bo();const s=t.path,o=new On(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||rr(tr(o),n)<=0||(r.has(o.key)||Ro(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ar.resolve(i)}getAllFromCollectionGroup(e,t,n,r){rn(9500)}ii(e,t){return ar.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Sc(this)}getSize(e){return ar.resolve(this.size)}}class Sc extends rc{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),ar.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class _c{constructor(e){this.persistence=e,this.si=new zo(e=>go(e),yo),this.lastRemoteSnapshotVersion=Qn.min(),this.highestTargetId=0,this.oi=0,this._i=new yc,this.targetCount=0,this.ai=qu.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),ar.resolve()}getLastRemoteSnapshotVersion(e){return ar.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ar.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ar.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ar.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new qu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ar.resolve()}updateTargetData(e,t){return this.Pr(t),ar.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ar.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),ar.waitFor(i).next(()=>r)}getTargetCount(e){return ar.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ar.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ar.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ar.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ar.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ar.resolve(n)}containsKey(e,t){return ar.resolve(this._i.containsKey(t))}}class Ec{constructor(e,t){this.ui={},this.overlays={},this.ci=new _r(0),this.li=!1,this.li=!0,this.hi=new gc,this.referenceDelegate=e(this),this.Pi=new _c(this),this.indexManager=new Eu,this.remoteDocumentCache=function(e){return new wc(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Ml(t),this.Ii=new pc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new bc(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Zt("MemoryPersistence","Starting transaction:",e);const r=new kc(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return ar.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class kc extends sr{constructor(e){super(),this.currentSequenceNumber=e}}class Tc{constructor(e){this.persistence=e,this.Ri=new yc,this.Vi=null}static mi(e){return new Tc(e)}get fi(){if(this.Vi)return this.Vi;throw rn(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ar.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ar.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ar.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ar.forEach(this.fi,n=>{const r=On.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Qn.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ar.or([()=>ar.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ic{constructor(e,t){this.persistence=e,this.pi=new zo(e=>xr(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ec(this,t)}static mi(e,t){return new Ic(e,t)}Ei(){}di(e){return ar.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return ar.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?ar.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Qn.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ar.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ar.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ar.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ar.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ts(e.data.value)),t}br(e,t,n){return ar.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return ar.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cc{constructor(e){this.serializer=e}k(e,t,n,r){const i=new ur("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Or)}(e),function(e){e.createObjectStore(Rr,{keyPath:"userId"});e.createObjectStore(Mr,{keyPath:Fr,autoIncrement:!0}).createIndex(Vr,zr,{unique:!0}),e.createObjectStore(qr)}(e),xc(e),function(e){e.createObjectStore(Pr)}(e));let s=ar.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ti),e.deleteObjectStore(Jr),e.deleteObjectStore(oi)}(e),xc(e)),s=s.next(()=>function(e){const t=e.store(oi),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qn.min().toTimestamp(),targetCount:0};return t.put(si,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(Mr).J().next(n=>{e.deleteObjectStore(Mr),e.createObjectStore(Mr,{keyPath:Fr,autoIncrement:!0}).createIndex(Vr,zr,{unique:!0});const r=t.store(Mr),i=n.map(e=>r.put(e));return ar.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(ui,{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.yi(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(Xr)}(e),this.wi(i)))),n<7&&r>=7&&(s=s.next(()=>this.Si(i))),n<8&&r>=8&&(s=s.next(()=>this.bi(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(s=s.next(()=>this.Di(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(ci,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(hi,{keyPath:"name"})}(e)})),n<12&&r>=12&&(s=s.next(()=>{!function(e){const t=e.createObjectStore(_i,{keyPath:Ei});t.createIndex(ki,Ti,{unique:!1}),t.createIndex(Ii,Ci,{unique:!1})}(e)})),n<13&&r>=13&&(s=s.next(()=>function(e){const t=e.createObjectStore(Kr,{keyPath:Gr});t.createIndex(Hr,Qr),t.createIndex(Wr,Yr)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(Pr))),n<14&&r>=14&&(s=s.next(()=>this.Fi(e,i))),n<15&&r>=15&&(s=s.next(()=>function(e){e.createObjectStore(di,{keyPath:"indexId",autoIncrement:!0}).createIndex(fi,"collectionGroup",{unique:!1});e.createObjectStore(pi,{keyPath:mi}).createIndex(gi,yi,{unique:!1});e.createObjectStore(vi,{keyPath:bi}).createIndex(wi,Si,{unique:!1})}(e))),n<16&&r>=16&&(s=s.next(()=>{t.objectStore(pi).clear()}).next(()=>{t.objectStore(vi).clear()})),n<17&&r>=17&&(s=s.next(()=>{!function(e){e.createObjectStore(xi,{keyPath:"name"})}(e)})),n<18&&r>=18&&A()&&(s=s.next(()=>{t.objectStore(pi).clear()}).next(()=>{t.objectStore(vi).clear()})),s}wi(e){let t=0;return e.store(Pr).ee((e,n)=>{t+=Fu(n)}).next(()=>{const n={byteSize:t};return e.store(Xr).put($r,n)})}yi(e){const t=e.store(Rr),n=e.store(Mr);return t.J().next(t=>ar.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,Er],[t.userId,t.lastAcknowledgedBatchId]);return n.J(Vr,r).next(n=>ar.forEach(n,n=>{on(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=Bl(this.serializer,n);return Mu(e,t.userId,r).next(()=>{})}))}))}Si(e){const t=e.store(ti),n=e.store(Pr);return e.store(oi).get(si).next(e=>{const r=[];return n.ee((n,i)=>{const s=new An(n),o=function(e){return[0,xr(e)]}(s);r.push(t.get(o).next(n=>n?ar.resolve():(n=>t.put({targetId:0,path:xr(n),sequenceNumber:e.highestListenSequenceNumber}))(s)))}).next(()=>ar.waitFor(r))})}bi(e,t){e.createObjectStore(ai,{keyPath:li});const n=t.store(ai),r=new ku,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:xr(r)})}};return t.store(Pr).ee({X:!0},(e,t)=>{const n=new An(e);return i(n.popLast())}).next(()=>t.store(qr).ee({X:!0},(e,t)=>{let[n,r,s]=e;const o=Dr(r);return i(o.popLast())}))}Di(e){const t=e.store(Jr);return t.ee((e,n)=>{const r=jl(n),i=ql(this.serializer,r);return t.put(i)})}Ci(e,t){const n=t.store(Pr),r=[];return n.ee((e,n)=>{const i=t.store(Kr),s=function(e){return e.document?new On(An.fromString(e.document.name).popFirst(5)):e.noDocument?On.fromSegments(e.noDocument.path):e.unknownDocument?On.fromSegments(e.unknownDocument.path):rn(36783)}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))}).next(()=>ar.waitFor(r))}Fi(e,t){const n=t.store(Mr),r=sc(this.serializer),i=new Ec(Tc.mi,this.serializer.yt);return n.J().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Xo();Bl(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),ar.forEach(n,(e,n)=>{const s=new Yt(n),o=$l.wt(this.serializer,s),a=i.getIndexManager(s),l=Vu.wt(s,this.serializer,a,i.referenceDelegate);return new fc(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Fi(t,_r.ce),e).next()})})}}function xc(e){e.createObjectStore(ti,{keyPath:ni}).createIndex(ri,ii,{unique:!0}),e.createObjectStore(Jr,{keyPath:"targetId"}).createIndex(Zr,ei,{unique:!0}),e.createObjectStore(oi)}const Nc="IndexedDbPersistence",Ac=18e5,Dc=5e3,Pc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Oc="main";class Lc{constructor(e,t,n,r,i,s,o,a,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:18;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=i,this.window=s,this.document=o,this.xi=l,this.Oi=u,this.Ni=c,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=e=>Promise.resolve(),!Lc.v())throw new un(ln.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tc(this,r),this.$i=t+Oc,this.serializer=new Ml(a),this.Ui=new cr(this.$i,this.Ni,new Cc(this.serializer)),this.hi=new Zl,this.Pi=new Ku(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sc(this.serializer),this.Ii=new Wl,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,!1===u&&en(Nc,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new un(ln.FAILED_PRECONDITION,Pc);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new _r(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(pr(e))return Zt(Nc,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Zt(Nc,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Rc(e).get(Lr).next(e=>ar.resolve(this.es(e)))}ts(e){return Mc(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Ac)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Vi(e,ui);return t.J().next(e=>{const n=this.ss(e,Ac),r=e.filter(e=>-1===n.indexOf(e));return ar.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?ar.resolve(!0):Rc(e).get(Lr).next(t=>{if(null!==t&&this.rs(t.leaseTimestampMs,Dc)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new un(ln.FAILED_PRECONDITION,Pc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mc(e).J().next(e=>void 0===this.ss(e,Dc).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Zt(Nc,"Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Or,ui],e=>{const t=new Fi(e,_r.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(e=>this.rs(e.updateTimeMs,t)&&!this.us(e.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>Mc(e).J().next(e=>this.ss(e,Ac).map(e=>e.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Vu.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Cu(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return $l.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){Zt(Nc,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 18===e?Mi:17===e?Ri:16===e?Li:15===e?Oi:14===e?Pi:13===e?Di:12===e?Ai:11===e?Ni:void rn(60245)}(this.Ni);let s;return this.Ui.runTransaction(e,r,i,r=>(s=new Fi(r,this.ci?this.ci.next():_r.ce),"readwrite-primary"===t?this.Hi(s).next(e=>!!e||this.Yi(s)).next(t=>{if(!t)throw en("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new un(ln.FAILED_PRECONDITION,ir);return n(s)}).next(e=>this.Xi(s).next(()=>e)):this.Is(s).next(()=>n(s)))).then(e=>(s.raiseOnCommittedEvent(),e))}Is(e){return Rc(e).get(Lr).next(e=>{if(null!==e&&this.rs(e.leaseTimestampMs,Dc)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new un(ln.FAILED_PRECONDITION,Pc)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rc(e).put(Lr,t)}static v(){return cr.v()}Zi(e){const t=Rc(e);return t.get(Lr).next(e=>this.es(e)?(Zt(Nc,"Releasing primary lease."),t.delete(Lr)):ar.resolve())}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(en("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground="visible"===this.document.visibilityState)}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;N()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{var t;const n=null!==(null===(t=this.Ki)||void 0===t?void 0:t.getItem(this._s(e)));return Zt(Nc,"Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return en(Nc,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){en("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(e){}}_s(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Rc(e){return Vi(e,Or)}function Mc(e){return Vi(e,ui)}function Fc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Vc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Xo(),r=Xo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Vc(e,t.fromCache,n,r)}}class zc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Uc{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=N()?8:hr(I())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new zc;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Jt()<=Q.DEBUG&&Zt("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ar.resolve()):(Jt()<=Q.DEBUG&&Zt("QueryEngine","Query:",Lo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Jt()<=Q.DEBUG&&Zt("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xo(t))):ar.resolve())}ys(e,t){if(To(t))return ar.resolve(null);let n=xo(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Do(t,null,"F"),n=xo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Xo(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Do(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return To(t)||r.isEqual(Qn.min())?ar.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?ar.resolve(null):(Jt()<=Q.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lo(t)),this.vs(e,s,t,er(r,Wn)).next(e=>e))})}Ds(e,t){let n=new Gi(Fo(e));return t.forEach((t,r)=>{Ro(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Jt()<=Q.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ps.getDocumentsMatchingQuery(e,t,nr.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Bc="LocalStore";class jc{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ji(Sn),this.xs=new zo(e=>go(e),yo),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fc(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function qc(e,t,n,r){return new jc(e,t,n,r)}async function Kc(e,t){const n=an(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=Xo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Gc(e){const t=an(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Hc(e,t,n){let r=Xo(),i=Xo();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Bo();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Qn.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Zt(Bc,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{ks:r,qs:i}})}function Qc(e,t){const n=an(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Er),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Wc(e,t){const n=an(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,ar.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Rl(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Yc(e,t,n){const r=an(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!pr(e))throw e;Zt(Bc,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Xc(e,t,n){const r=an(e);let i=Qn.min(),s=Xo();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=an(e),i=r.xs.get(n);return void 0!==i?ar.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,xo(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Qn.min(),n?s:Xo())).next(e=>(Zc(r,Mo(t),e),{documents:e,Qs:s})))}function $c(e,t){const n=an(e),r=an(n.Pi),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.At(e,t).next(e=>e?e.target:null))}function Jc(e,t){const n=an(e),r=n.Os.get(t)||Qn.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.Ns.getAllFromCollectionGroup(e,t,er(r,Wn),Number.MAX_SAFE_INTEGER)).then(e=>(Zc(n,t,e),e))}function Zc(e,t,n){let r=e.Os.get(t)||Qn.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}async function eh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xo();const r=await Wc(e,xo(Kl(t.bundledQuery))),i=an(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=ul(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ii.saveNamedQuery(e,t);const o=r.withResumeToken(Xi.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(e,o).next(()=>i.Pi.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.Pi.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ii.saveNamedQuery(e,t))})}const th="firestore_clients";function nh(e,t){return"".concat(th,"_").concat(e,"_").concat(t)}const rh="firestore_mutations";function ih(e,t,n){let r="".concat(rh,"_").concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}const sh="firestore_targets";function oh(e,t){return"".concat(sh,"_").concat(e,"_").concat(t)}const ah="SharedClientState";class lh{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ws(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new un(r.error.code,r.error.message))),s?new lh(e,t,r.state,i):(en(ah,"Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uh{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ws(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new un(n.error.code,n.error.message))),i?new uh(e,n.state,r):(en(ah,"Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ch{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Jo();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Ir(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new ch(e,i):(en(ah,"Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class hh{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hh(t.clientId,t.onlineState):(en(ah,"Failed to parse online state: ".concat(e)),null)}}class dh{constructor(){this.activeTargetIds=Jo()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fh{constructor(e,t,n,r,i){this.window=e,this.Mi=t,this.persistenceKey=n,this.Js=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new ji(Sn),this.started=!1,this.Xs=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.eo=nh(this.persistenceKey,this.Js),this.no=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new dh),this.ro=new RegExp("^".concat(th,"_").concat(s,"_([^_]*)$")),this.io=new RegExp("^".concat(rh,"_").concat(s,"_(\\d+)(?:_(.*))?$")),this.so=new RegExp("^".concat(sh,"_").concat(s,"_(\\d+)$")),this.oo=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._o=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const n of e){if(n===this.Js)continue;const e=this.getItem(nh(this.persistenceKey,n));if(e){const t=ch.Ws(n,e);t&&(this.Zs=this.Zs.insert(t.clientId,t))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const e=this.uo(t);e&&this.co(e)}for(const n of this.Xs)this.Ys(n);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,n){this.ho(e,t,n),this.Po(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(oh(this.persistenceKey,e));if(t){const r=uh.Ws(e,t);r&&(n=r.state)}}return t&&this.To.zs(e),this.ao(),n}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oh(this.persistenceKey,e))}updateQueryState(e,t,n){this.Io(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Po(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Zt(ah,"READ",e,t),t}setItem(e,t){Zt(ah,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){Zt(ah,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(Zt(ah,"EVENT",t.key,t.newValue),t.key===this.eo)return void en("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.ro.test(t.key)){if(null==t.newValue){const e=this.Ro(t.key);return this.Vo(e,null)}{const e=this.mo(t.key,t.newValue);if(e)return this.Vo(e.clientId,e)}}else if(this.io.test(t.key)){if(null!==t.newValue){const e=this.fo(t.key,t.newValue);if(e)return this.po(e)}}else if(this.so.test(t.key)){if(null!==t.newValue){const e=this.yo(t.key,t.newValue);if(e)return this.wo(e)}}else if(t.key===this.oo){if(null!==t.newValue){const e=this.uo(t.newValue);if(e)return this.co(e)}}else if(t.key===this.no){const e=function(e){let t=_r.ce;if(null!=e)try{const n=JSON.parse(e);on("number"==typeof n,30636,{So:e}),t=n}catch(e){en(ah,"Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==_r.ce&&this.sequenceNumberHandler(e)}else if(t.key===this._o){const e=this.bo(t.newValue);await Promise.all(e.map(e=>this.syncEngine.Do(e)))}}else this.Xs.push(t)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,n){const r=new lh(this.currentUser,e,t,n),i=ih(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Gs())}Po(e){const t=ih(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,n){const r=oh(this.persistenceKey,e),i=new uh(e,t,n);this.setItem(r,i.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const n=this.Ro(e);return ch.Ws(n,t)}fo(e,t){const n=this.io.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return lh.Ws(new Yt(i),r,t)}yo(e,t){const n=this.so.exec(e),r=Number(n[1]);return uh.Ws(r,t)}uo(e){return hh.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);Zt(ah,"Ignoring mutation for non-active user ".concat(e.user.uid))}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const n=t?this.Zs.insert(e,t):this.Zs.remove(e),r=this.lo(this.Zs),i=this.lo(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.Fo(s,o).then(()=>{this.Zs=n})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=Jo();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class ph{constructor(){this.Mo=new dh,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mh{Oo(e){}shutdown(){}}const gh="ConnectivityMonitor";class yh{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Zt(gh,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Zt(gh,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vh=null;function bh(){return null===vh?vh=268435456+Math.round(2147483648*Math.random()):vh++,"0x"+vh.toString(16)}const wh="RestConnection",Sh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _h{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===us?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=bh(),o=this.zo(e,t.toUriEncodedString());Zt(wh,"Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(o),u=_(l);return this.Jo(e,o,a,n,u).then(t=>(Zt(wh,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw tn(wh,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Sh[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Eh{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const kh="WebChannelConnection";class Th extends _h{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=bh();return new Promise((i,o)=>{const a=new Ft;a.setWithCredentials(!0),a.listenOnce(zt.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ut.NO_ERROR:const n=a.getResponseJson();Zt(kh,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case Ut.TIMEOUT:Zt(kh,"RPC '".concat(e,"' ").concat(s," timed out")),o(new un(ln.DEADLINE_EXCEEDED,"Request time out"));break;case Ut.HTTP_ERROR:const r=a.getStatus();if(Zt(kh,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ln).indexOf(t)>=0?t:ln.UNKNOWN}(n.status);o(new un(e,n.message))}else o(new un(ln.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new un(ln.UNAVAILABLE,"Connection failed."));break;default:rn(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Zt(kh,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Zt(kh,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=bh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Kt(),o=qt(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Zt(kh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=s.createWebChannel(u,a);this.I_(c);let h=!1,d=!1;const f=new Eh({Yo:t=>{d?Zt(kh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Zt(kh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Zt(kh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Zo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,Vt.EventType.OPEN,()=>{d||(Zt(kh,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(c,Vt.EventType.CLOSE,()=>{d||(d=!0,Zt(kh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(c))}),p(c,Vt.EventType.ERROR,t=>{d||(d=!0,tn(kh,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new un(ln.UNAVAILABLE,"The operation could not be completed")))}),p(c,Vt.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];on(!!i,16349);const s=i,o=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Zt(kh,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Ra[e];if(void 0!==t)return Va(t)}(t),i=o.message;void 0===n&&(n=ln.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.a_(new un(n,i)),c.close()}else Zt(kh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,jt.STAT_EVENT,t=>{t.stat===Bt.PROXY?Zt(kh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Bt.NOPROXY&&Zt(kh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Ih(){return"undefined"!=typeof window?window:null}function Ch(){return"undefined"!=typeof document?document:null}function xh(e){return new il(e,!0)}class Nh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Zt("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ah="PersistentStream";class Dh{constructor(e,t,n,r,i,s,o,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nh(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===ln.RESOURCE_EXHAUSTED?(en(t.toString()),en("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ln.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new un(ln.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Zt(Ah,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Zt(Ah,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ph extends Dh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:rn(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(on(void 0===t||"string"==typeof t,58123),Xi.fromBase64String(t||"")):(on(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Xi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ln.UNKNOWN:Va(e.code);return new un(t,e.message||"")}(o);n=new Xa(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=pl(e,r.document.name),s=ul(r.document.updateTime),o=r.document.createTime?ul(r.document.createTime):Qn.min(),a=new Us({mapValue:{fields:r.document.fields}}),l=js.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Wa(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=pl(e,r.document),s=r.readTime?ul(r.readTime):Qn.min(),o=js.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wa([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=pl(e,r.document),s=r.removedTargetIds||[];n=new Wa([],s,i,null)}else{if(!("filter"in t))return rn(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new La(r,i),o=e.targetId;n=new Ya(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Qn.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Qn.min():t.readTime?ul(t.readTime):Qn.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=yl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=vo(r)?{documents:El(e,r)}:{query:kl(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=al(e,t.resumeToken);const r=sl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Qn.min())>0){n.readTime=ol(e,t.snapshotVersion.toTimestamp());const r=sl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rn(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=yl(this.serializer),t.removeTarget=e,this.q_(t)}}class Oh extends Dh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return on(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,on(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){on(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(on(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?ul(e.updateTime):ul(t);return n.isEqual(Qn.min())&&(n=ul(t)),new ma(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ul(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=yl(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Sl(this.serializer,e))};this.q_(t)}}class Lh{}class Rh extends Lh{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new un(ln.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Go(e,hl(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ln.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new un(ln.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.Ho(e,hl(t,n),r,o,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ln.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new un(ln.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Mh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(en(t),this.aa=!1):Zt("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Fh="RemoteStore";class Vh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Qh(this)&&(Zt(Fh,"Restarting streams for network reachability change."),await async function(e){const t=an(e);t.Ea.add(4),await Uh(t),t.Ra.set("Unknown"),t.Ea.delete(4),await zh(t)}(this))})}),this.Ra=new Mh(n,r)}}async function zh(e){if(Qh(e))for(const t of e.da)await t(!0)}async function Uh(e){for(const t of e.da)await t(!1)}function Bh(e,t){const n=an(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Hh(n)?Gh(n):dd(n).O_()&&qh(n,t))}function jh(e,t){const n=an(e),r=dd(n);n.Ia.delete(t),r.O_()&&Kh(n,t),0===n.Ia.size&&(r.O_()?r.L_():Qh(n)&&n.Ra.set("Unknown"))}function qh(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Qn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}dd(e).Y_(t)}function Kh(e,t){e.Va.Ue(t),dd(e).Z_(t)}function Gh(e){e.Va=new Ja({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),dd(e).start(),e.Ra.ua()}function Hh(e){return Qh(e)&&!dd(e).x_()&&e.Ia.size>0}function Qh(e){return 0===an(e).Ea.size}function Wh(e){e.Va=void 0}async function Yh(e){e.Ra.set("Online")}async function Xh(e){e.Ia.forEach((t,n)=>{qh(e,t)})}async function $h(e,t){Wh(e),Hh(e)?(e.Ra.ha(t),Gh(e)):e.Ra.set("Unknown")}async function Jh(e,t,n){if(e.Ra.set("Online"),t instanceof Xa&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Zt(Fh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zh(e,n)}else if(t instanceof Wa?e.Va.Ze(t):t instanceof Ya?e.Va.st(t):e.Va.tt(t),!n.isEqual(Qn.min()))try{const t=await Gc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Xi.EMPTY_BYTE_STRING,r.snapshotVersion)),Kh(e,t);const i=new Rl(r.target,t,n,r.sequenceNumber);qh(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Zt(Fh,"Failed to raise snapshot:",t),await Zh(e,t)}}async function Zh(e,t,n){if(!pr(t))throw t;e.Ea.add(1),await Uh(e),e.Ra.set("Offline"),n||(n=()=>Gc(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Zt(Fh,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await zh(e)})}function ed(e,t){return t().catch(n=>Zh(e,n,t))}async function td(e){const t=an(e),n=fd(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Er;for(;nd(t);)try{const e=await Qc(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,rd(t,e)}catch(e){await Zh(t,e)}id(t)&&sd(t)}function nd(e){return Qh(e)&&e.Ta.length<10}function rd(e,t){e.Ta.push(t);const n=fd(e);n.O_()&&n.X_&&n.ea(t.mutations)}function id(e){return Qh(e)&&!fd(e).x_()&&e.Ta.length>0}function sd(e){fd(e).start()}async function od(e){fd(e).ra()}async function ad(e){const t=fd(e);for(const n of e.Ta)t.ea(n.mutations)}async function ld(e,t,n){const r=e.Ta.shift(),i=Pa.from(r,t,n);await ed(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await td(e)}async function ud(e,t){t&&fd(e).X_&&await async function(e,t){if(function(e){return Fa(e)&&e!==ln.ABORTED}(t.code)){const n=e.Ta.shift();fd(e).B_(),await ed(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await td(e)}}(e,t),id(e)&&sd(e)}async function cd(e,t){const n=an(e);n.asyncQueue.verifyOperationInProgress(),Zt(Fh,"RemoteStore received new credentials");const r=Qh(n);n.Ea.add(3),await Uh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await zh(n)}async function hd(e,t){const n=an(e);t?(n.Ea.delete(2),await zh(n)):t||(n.Ea.add(2),await Uh(n),n.Ra.set("Unknown"))}function dd(e){return e.ma||(e.ma=function(e,t,n){const r=an(e);return r.sa(),new Ph(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Yh.bind(null,e),t_:Xh.bind(null,e),r_:$h.bind(null,e),H_:Jh.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Hh(e)?Gh(e):e.Ra.set("Unknown")):(await e.ma.stop(),Wh(e))})),e.ma}function fd(e){return e.fa||(e.fa=function(e,t,n){const r=an(e);return r.sa(),new Oh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:od.bind(null,e),r_:ud.bind(null,e),ta:ad.bind(null,e),na:ld.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await td(e)):(await e.fa.stop(),e.Ta.length>0&&(Zt(Fh,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class pd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new pd(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new un(ln.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function md(e,t){if(en("AsyncQueue","".concat(t,": ").concat(e)),pr(e))return new un(ln.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class gd{static emptySet(e){return new gd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||On.comparator(t.key,n.key):(e,t)=>On.comparator(e.key,t.key),this.keyedMap=qo(),this.sortedSet=new ji(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new gd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class yd{constructor(){this.ga=new ji(On.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):rn(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class vd{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new vd(e,t,gd.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Po(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class bd{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class wd{constructor(){this.queries=Sd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=an(e),r=n.queries;n.queries=Sd(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new un(ln.ABORTED,"Firestore shutting down"))}}function Sd(){return new zo(e=>Oo(e),Po)}async function _d(e,t){const n=an(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new bd,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=md(e,"Initialization of query '".concat(Lo(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Id(n)}async function Ed(e,t){const n=an(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kd(e,t){const n=an(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Id(n)}function Td(e,t,n){const r=an(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function Id(e){e.Ca.forEach(e=>{e.next()})}var Cd,xd;(xd=Cd||(Cd={})).Ma="default",xd.Cache="cache";class Nd{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new vd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cd.Cache}}class Ad{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}class Dd{constructor(e){this.serializer=e}$s(e){return pl(this.serializer,e)}Us(e){return e.metadata.exists?wl(this.serializer,e.document,!1):js.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return ul(e)}}class Pd{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=Od(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const n=An.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,c({},this.progress)):null}za(e){const t=new Map,n=new Dd(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.$s(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Xo()).add(e);t.set(n,r)}}return t}async ja(e){const t=await async function(e,t,n,r){const i=an(e);let s=Xo(),o=Bo();for(const u of n){const e=t.$s(u.metadata.name);u.document&&(s=s.add(e));const n=t.Us(u);n.setReadTime(t.Ks(u.metadata.readTime)),o=o.insert(e,n)}const a=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await Wc(i,function(e){return xo(ko(An.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Hc(e,a,o).next(t=>(a.apply(e),t)).next(t=>i.Pi.removeMatchingKeysForTargetId(e,l.targetId).next(()=>i.Pi.addMatchingKeys(e,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.ks,t.qs)).next(()=>t.ks)))}(e,new Dd(this.serializer),this.Wa,this.Ua.id),n=this.za(this.documents);for(const r of this.Ka)await eh(e,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function Od(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Ld{constructor(e){this.key=e}}class Rd{constructor(e){this.key=e}}class Md{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xo(),this.mutatedKeys=Xo(),this.eu=Fo(e),this.tu=new gd(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new yd,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Ro(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.su(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.eu(c,a)>0||l&&this.eu(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const o=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==s.length||l?{snapshot:new vd(this.query,e.tu,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xo(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Rd(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Ld(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Xo();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return vd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Fd="SyncEngine";class Vd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zd{constructor(e){this.key=e,this.hu=!1}}class Ud{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new zo(e=>Oo(e),Po),this.Iu=new Map,this.Eu=new Set,this.du=new ji(On.comparator),this.Au=new Map,this.Ru=new yc,this.Vu={},this.mu=new Map,this.fu=qu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Bd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=yf(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await qd(r,t,n,!0),i}async function jd(e,t){const n=yf(e);await qd(n,t,!0,!1)}async function qd(e,t,n,r){const i=await Wc(e.localStore,xo(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Kd(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Bh(e.remoteStore,i),a}async function Kd(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Xc(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return nf(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const s=await Xc(e.localStore,t,!0),o=new Md(t,s.Qs),a=o.ru(s.documents),l=Qa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);nf(e,n,u.au);const c=new Vd(t,n,o);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function Gd(e,t,n){const r=an(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Po(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jh(r.remoteStore,i.targetId),ef(r,i.targetId)}).catch(or)):(ef(r,i.targetId),await Yc(r.localStore,i.targetId,!0))}async function Hd(e,t){const n=an(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jh(n.remoteStore,r.targetId))}async function Qd(e,t){const n=an(e);try{const e=await function(e,t){const n=an(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,a)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Xi.EMPTY_BYTE_STRING,Qn.min()).withLastLimboFreeSnapshotVersion(Qn.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,s)&&o.push(n.Pi.updateTargetData(e,u))});let a=Bo(),l=Xo();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Hc(e,s,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(Qn.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return ar.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(on(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?on(r.hu,14607):e.removedDocuments.size>0&&(on(r.hu,42227),r.hu=!1))}),await of(n,e,t)}catch(e){await or(e)}}function Wd(e,t,n){const r=an(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=an(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Id(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Yd(e,t,n){const r=an(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new ji(On.comparator);e=e.insert(s,js.newNoDocument(s,Qn.min()));const n=Xo().add(s),i=new Ha(Qn.min(),new Map,new ji(Sn),e,n);await Qd(r,i),r.du=r.du.remove(s),r.Au.delete(t),sf(r)}else await Yc(r.localStore,t,!1).then(()=>ef(r,t,n)).catch(or)}async function Xd(e,t){const n=an(e),r=t.batch.batchId;try{const e=await function(e,t){const n=an(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ar.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);on(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Zd(n,r,null),Jd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await of(n,e)}catch(e){await or(e)}}async function $d(e,t,n){const r=an(e);try{const e=await function(e,t){const n=an(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(on(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Zd(r,t,n),Jd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await of(r,e)}catch(n){await or(n)}}function Jd(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Zd(e,t,n){const r=an(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function ef(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||tf(e,t)})}function tf(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(jh(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),sf(e))}function nf(e,t,n){for(const r of n)r instanceof Ld?(e.Ru.addReference(r.key,t),rf(e,r)):r instanceof Rd?(Zt(Fd,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||tf(e,r.key)):rn(19791,{wu:r})}function rf(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Zt(Fd,"New document in limbo: "+n),e.Eu.add(r),sf(e))}function sf(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new On(An.fromString(t)),r=e.fu.next();e.Au.set(r,new zd(n)),e.du=e.du.insert(n,r),Bh(e.remoteStore,new Rl(xo(ko(n.path)),r,"TargetPurposeLimboResolution",_r.ce))}}async function of(e,t,n){const r=an(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Vc.As(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=an(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ar.forEach(t,t=>ar.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ar.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!pr(e))throw e;Zt(Bc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function af(e,t){const n=an(e);if(!n.currentUser.isEqual(t)){Zt(Fd,"User change. New user:",t.toKey());const e=await Kc(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new un(ln.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await of(n,e.Ls)}}function lf(e,t){const n=an(e),r=n.Au.get(t);if(r&&r.hu)return Xo().add(r.key);{let e=Xo();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}async function uf(e,t){const n=an(e),r=await Xc(n.localStore,t.query,!0),i=t.view.cu(r);return n.isPrimaryClient&&nf(n,t.targetId,i.au),i}async function cf(e,t){const n=an(e);return Jc(n.localStore,t).then(e=>of(n,e))}async function hf(e,t,n,r){const i=an(e),s=await function(e,t){const n=an(e),r=an(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.er(e,t).next(t=>t?n.localDocuments.getDocuments(e,t):ar.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?await td(i.remoteStore):"acknowledged"===n||"rejected"===n?(Zd(i,t,r||null),Jd(i,t),function(e,t){an(an(e).mutationQueue).ir(t)}(i.localStore,t)):rn(6720,"Unknown batchState",{Su:n}),await of(i,s)):Zt(Fd,"Cannot apply mutation batch with id: "+t)}async function df(e,t,n){const r=an(e),i=[],s=[];for(const o of t){let e;const t=r.Iu.get(o);if(t&&0!==t.length){e=await Wc(r.localStore,xo(t[0]));for(const e of t){const t=r.Tu.get(e),n=await uf(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await $c(r.localStore,o);e=await Wc(r.localStore,t),await Kd(r,ff(t),o,!1,e.resumeToken)}i.push(e)}return r.Pu.H_(s),i}function ff(e){return Eo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pf(e){return function(e){return an(an(e).persistence).Ts()}(an(e).localStore)}async function mf(e,t,n,r){const i=an(e);if(i.gu)return void Zt(Fd,"Ignoring unexpected query state notification.");const s=i.Iu.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Jc(i.localStore,Mo(s[0])),r=Ha.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Xi.EMPTY_BYTE_STRING);await of(i,e,r);break}case"rejected":await Yc(i.localStore,t,!0),ef(i,t,r);break;default:rn(64155,n)}}async function gf(e,t,n){const r=yf(e);if(r.gu){for(const e of t){if(r.Iu.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Zt(Fd,"Adding an already active target "+e);continue}const t=await $c(r.localStore,e),n=await Wc(r.localStore,t);await Kd(r,ff(t),n.targetId,!1,n.resumeToken),Bh(r.remoteStore,n)}for(const e of n)r.Iu.has(e)&&await Yc(r.localStore,e,!1).then(()=>{jh(r.remoteStore,e),ef(r,e)}).catch(or)}}function yf(e){const t=an(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yd.bind(null,t),t.Pu.H_=kd.bind(null,t.eventManager),t.Pu.yu=Td.bind(null,t.eventManager),t}function vf(e){const t=an(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$d.bind(null,t),t}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return qc(this.persistence,new Uc,e.initialUser,this.serializer)}Cu(e){return new Ec(Tc.mi,this.serializer)}Du(e){return new ph}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class wf extends bf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){on(this.persistence.referenceDelegate instanceof Ic,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ju(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Ru.withCacheSize(this.cacheSizeBytes):Ru.DEFAULT;return new Ec(e=>Ic.mi(e,t),this.serializer)}}class Sf extends bf{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await vf(this.xu.syncEngine),await td(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return qc(this.persistence,new Uc,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Ju(n,e.asyncQueue,t)}Mu(e,t){const n=new Sr(t,this.persistence);return new wr(e.asyncQueue,n)}Cu(e){const t=Fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ru.withCacheSize(this.cacheSizeBytes):Ru.DEFAULT;return new Lc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ih(),Ch(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new ph}}class _f extends Sf{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof fh&&(this.sharedClientState.syncEngine={Co:hf.bind(null,t),vo:mf.bind(null,t),Fo:gf.bind(null,t),Ts:pf.bind(null,t),Do:cf.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async e=>{await async function(e,t){const n=an(e);if(yf(n),vf(n),!0===t&&!0!==n.gu){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await df(n,e.toArray());n.gu=!0,await hd(n.remoteStore,!0);for(const r of t)Bh(n.remoteStore,r)}else if(!1===t&&!1!==n.gu){const e=[];let t=Promise.resolve();n.Iu.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(ef(n,i),Yc(n.localStore,i,!0))),jh(n.remoteStore,i)}),await t,await df(n,e),function(e){const t=an(e);t.Au.forEach((e,n)=>{jh(t.remoteStore,n)}),t.Ru.Jr(),t.Au=new Map,t.du=new ji(On.comparator)}(n),n.gu=!1,await hd(n.remoteStore,!1)}}(this.xu.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}Du(e){const t=Ih();if(!fh.v(t))throw new un(ln.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Ef{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Wd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=af.bind(null,this.syncEngine),await hd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wd}createDatastore(e){const t=xh(e.databaseInfo.databaseId),n=function(e){return new Th(e)}(e.databaseInfo);return function(e,t,n,r){return new Rh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Vh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Wd(this.syncEngine,e,0),yh.v()?new yh:new mh)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Ud(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=an(e);Zt(Fh,"RemoteStore shutting down."),t.Ea.add(5),await Uh(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function kf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}Ef.provider={build:()=>new Ef};class Tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class If{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new cn,this.buffer=new Uint8Array,this.Lu=new TextDecoder("utf-8"),this.ku().then(e=>{e&&e.$a()?this.metadata.resolve(e.Qa.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null===e||void 0===e?void 0:e.Qa))))},e=>this.metadata.reject(e))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(null===e)return null;const t=this.Lu.decode(e),n=Number(t);isNaN(n)&&this.Qu("length string (".concat(t,") is not valid number"));const r=await this.$u(n);return new Ad(JSON.parse(r),e.length+n)}Uu(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(0===this.buffer.length)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Cf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new un(ln.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=an(e),r={documents:t.map(e=>fl(n.serializer,e))},i=await n.Ho("BatchGetDocuments",n.serializer.databaseId,An.emptyPath(),r,t.length),s=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){on(!!t.found,43571),t.found.name,t.found.updateTime;const n=pl(e,t.found.name),r=ul(t.found.updateTime),i=t.found.createTime?ul(t.found.createTime):Qn.min(),s=new Us({mapValue:{fields:t.found.fields}});return js.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){on(!!t.missing,3894),on(!!t.readTime,22933);const n=pl(e,t.missing),r=ul(t.readTime);return js.newNoDocument(n,r)}(e,t):rn(7234,{result:t})}(n.serializer,e);s.set(t.key.toString(),t)});const o=[];return t.forEach(e=>{const t=s.get(e.toString());on(!!t,55234,{key:e}),o.push(t)}),o}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Na(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=On.fromPath(t);this.mutations.push(new Aa(n,this.precondition(n)))}),await async function(e,t){const n=an(e),r={writes:t.map(e=>Sl(n.serializer,e))};await n.Go("Commit",n.serializer.databaseId,An.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rn(50498,{Gu:e.constructor.name});t=Qn.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new un(ln.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qn.min())?ga.exists(!1):ga.updateTime(t):ga.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qn.min()))throw new un(ln.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ga.updateTime(t)}return ga.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xf{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.zu=n.maxAttempts,this.M_=new Nh(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new Cf(this.datastore),t=this.Hu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Yu(e)}))}).catch(e=>{this.Yu(e)})})}Hu(e){try{const t=this.updateFunction(e);return!kr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if("FirebaseError"===(null===e||void 0===e?void 0:e.name)){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Fa(t)}return!1}}const Nf="FirestoreClient";class Af{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yt.UNAUTHENTICATED,this.clientId=wn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Zt(Nf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Zt(Nf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=md(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Df(e,t){e.asyncQueue.verifyOperationInProgress(),Zt(Nf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Kc(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Pf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Of(e);Zt(Nf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>cd(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>cd(t.remoteStore,n)),e._onlineComponents=t}async function Of(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zt(Nf,"Using user provided OfflineComponentProvider");try{await Df(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ln.FAILED_PRECONDITION||e.code===ln.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;tn("Error using user provided cache. Falling back to memory cache: "+n),await Df(e,new bf)}}else Zt(Nf,"Using default OfflineComponentProvider"),await Df(e,new wf(void 0));return e._offlineComponents}async function Lf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zt(Nf,"Using user provided OnlineComponentProvider"),await Pf(e,e._uninitializedComponentsProvider._online)):(Zt(Nf,"Using default OnlineComponentProvider"),await Pf(e,new Ef))),e._onlineComponents}function Rf(e){return Of(e).then(e=>e.persistence)}function Mf(e){return Of(e).then(e=>e.localStore)}function Ff(e){return Lf(e).then(e=>e.remoteStore)}function Vf(e){return Lf(e).then(e=>e.syncEngine)}function zf(e){return Lf(e).then(e=>e.datastore)}async function Uf(e){const t=await Lf(e),n=t.eventManager;return n.onListen=Bd.bind(null,t.syncEngine),n.onUnlisten=Gd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Hd.bind(null,t.syncEngine),n}function Bf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new cn;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Tf({next:a=>{s.Nu(),t.enqueueAndForget(()=>Ed(e,o));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new un(ln.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new un(ln.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new Nd(ko(n.path),s,{includeMetadataChanges:!0,qa:!0});return _d(e,o)}(await Uf(e),e.asyncQueue,t,n,r)),r.promise}function jf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new cn;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Tf({next:n=>{s.Nu(),t.enqueueAndForget(()=>Ed(e,o)),n.fromCache&&"server"===r.source?i.reject(new un(ln.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Nd(n,s,{includeMetadataChanges:!0,qa:!0});return _d(e,o)}(await Uf(e),e.asyncQueue,t,n,r)),r.promise}function qf(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Ua().encode(e):e,function(e,t){return new If(e,t)}(function(e,t){if(e instanceof Uint8Array)return kf(e,t);if(e instanceof ArrayBuffer)return kf(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,xh(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=an(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=an(e),r=ul(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ii.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Od(r));const i=new Pd(r,t.serializer);let s=await t.bu();for(;s;){const e=await i.Ga(s);e&&n._updateProgress(e),s=await t.bu()}const o=await i.ja(e.localStore);return await of(e,o.Ha,void 0),await function(e,t){const n=an(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ii.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Ja)}catch(e){return tn(Fd,"Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}(await Vf(e),i,r)})}function Kf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Gf=new Map,Hf="firestore.googleapis.com",Qf=!0;class Wf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new un(ln.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hf,this.ssl=Qf}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Qf;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Lu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Yu)throw new un(ln.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rn("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new un(ln.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new un(ln.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new un(ln.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new un(ln.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new un(ln.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wf(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dn;switch(e.type){case"firstParty":return new gn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new un(ln.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Gf.get(e);t&&(Zt("ComponentProvider","Removing Datastore"),Gf.delete(e),t.terminate())}(this),Promise.resolve()}}function Xf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Un(e,Yf);const i=_(t),s=e._getSettings(),o=c(c({},s),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(async function(e){(await fetch(e,{credentials:"include"})).ok}("https://".concat(a)),T("Firestore",!0)),s.host!==Hf&&s.host!==a&&tn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},s),{},{host:a,ssl:i,emulatorOptions:r});if(!M(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Yt.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new un(ln.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Yt(i)}e._authCredentials=new fn(new hn(t,n))}}class $f{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $f(this.firestore,e,this._query)}}class Jf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jf(this.firestore,e,this._key)}toJSON(){return{type:Jf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(qn(t,Jf._jsonSchema))return new Jf(e,n||null,new On(An.fromString(t.referencePath)))}}Jf._jsonSchemaVersion="firestore/documentReference/1.0",Jf._jsonSchema={type:jn("string",Jf._jsonSchemaVersion),referencePath:jn("string")};class Zf extends $f{constructor(e,t,n){super(e,t,ko(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jf(this.firestore,null,new On(e))}withConverter(e){return new Zf(this.firestore,e,this._path)}}function ep(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=B(e),Ln("collection","path",t),e instanceof Yf){const n=An.fromString(t,...r);return Fn(n),new Zf(e,null,n)}{if(!(e instanceof Jf||e instanceof Zf))throw new un(ln.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(An.fromString(t,...r));return Fn(n),new Zf(e.firestore,null,n)}}function tp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=B(e),1===arguments.length&&(t=wn.newId()),Ln("doc","path",t),e instanceof Yf){const n=An.fromString(t,...r);return Mn(n),new Jf(e,null,new On(n))}{if(!(e instanceof Jf||e instanceof Zf))throw new un(ln.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(An.fromString(t,...r));return Mn(n),new Jf(e.firestore,e instanceof Zf?e.converter:null,new On(n))}}function np(e,t){return e=B(e),t=B(t),(e instanceof Jf||e instanceof Zf)&&(t instanceof Jf||t instanceof Zf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rp(e,t){return e=B(e),t=B(t),e instanceof $f&&t instanceof $f&&e.firestore===t.firestore&&Po(e._query,t._query)&&e.converter===t.converter}const ip="AsyncQueue";class sp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nh(this,"async_queue_retry"),this._c=()=>{const e=Ch();e&&Zt(ip,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Ch();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ch();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new cn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pr(e))throw e;Zt(ip,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,en("INTERNAL UNHANDLED ERROR: ",op(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=pd.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&rn(47125,{Pc:op(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function op(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function ap(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class lp{constructor(){this._progressObserver={},this._taskCompletionResolver=new cn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class up extends Yf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new sp,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sp(e),this._firestoreClient=void 0,await e}}}function cp(e){if(e._terminated)throw new un(ln.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hp(e),e._firestoreClient}function hp(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ls(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Kf(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Af(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function dp(e,t,n){if((e=Un(e,up))._firestoreClient||e._terminated)throw new un(ln.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new un(ln.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},hp(e)}function fp(e){return function(e){const t=new cn;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=an(e);Qh(n.remoteStore)||Zt(Fd,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=an(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(e===Er)return void t.resolve();const r=n.mu.get(e)||[];r.push(t),n.mu.set(e,r)}catch(e){const n=md(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Vf(e),t)),t.promise}(cp(e=Un(e,up)))}function pp(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Rf(e),n=await Ff(e);return t.setNetworkEnabled(!0),function(e){const t=an(e);return t.Ea.delete(0),zh(t)}(n)})}(cp(e=Un(e,up)))}function mp(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Rf(e),n=await Ff(e);return t.setNetworkEnabled(!1),async function(e){const t=an(e);t.Ea.add(0),await Uh(t),t.Ra.set("Offline")}(n)})}(cp(e=Un(e,up)))}function gp(e,t){const n=cp(e=Un(e,up)),r=new lp;return qf(n,e._databaseId,t,r),r}function yp(e,t){return function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=an(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ii.getNamedQuery(e,t))}(await Mf(e),t))}(cp(e=Un(e,up)),t).then(t=>t?new $f(e,null,t.query):null)}class vp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vp(Xi.fromBase64String(e))}catch(e){throw new un(ln.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new vp(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vp._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qn(e,vp._jsonSchema))return vp.fromBase64String(e.bytes)}}vp._jsonSchemaVersion="firestore/bytes/1.0",vp._jsonSchema={type:jn("string",vp._jsonSchemaVersion),bytes:jn("string")};class bp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new un(ln.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wp{constructor(e){this._methodName=e}}class Sp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new un(ln.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new un(ln.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Sn(this._lat,e._lat)||Sn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sp._jsonSchemaVersion}}static fromJSON(e){if(qn(e,Sp._jsonSchema))return new Sp(e.latitude,e.longitude)}}Sp._jsonSchemaVersion="firestore/geoPoint/1.0",Sp._jsonSchema={type:jn("string",Sp._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};class _p{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_p._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qn(e,_p._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new _p(e.vectorValues);throw new un(ln.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_p._jsonSchemaVersion="firestore/vectorValue/1.0",_p._jsonSchema={type:jn("string",_p._jsonSchemaVersion),vectorValues:jn("object")};const Ep=/^__.*__$/;class kp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new ka(e,this.data,t,this.fieldTransforms)}}class Tp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ip(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn(40011,{Ac:e})}}class Cp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cp(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Ip(this.Ac)&&Ep.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xh(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Cp({Ac:e,methodName:t,Dc:n,path:Pn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(e){const t=e._freezeSettings(),n=xh(e._databaseId);return new xp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ap(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);qp("Data must be an object, but it was:",o,r);const a=Bp(r,o);let l,u;if(s.merge)l=new Wi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Kp(t,r,n);if(!o.contains(i))throw new un(ln.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Wp(e,i)||e.push(i)}l=new Wi(e),u=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=o.fieldTransforms;return new kp(new Us(a),l,u)}class Dp extends wp{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dp}}function Pp(e,t,n){return new Cp({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Op extends wp{_toFieldTransform(e){return new pa(e.path,new oa)}isEqual(e){return e instanceof Op}}class Lp extends wp{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Pp(this,e,!0),n=this.vc.map(e=>Up(e,t)),r=new aa(n);return new pa(e.path,r)}isEqual(e){return e instanceof Lp&&M(this.vc,e.vc)}}class Rp extends wp{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Pp(this,e,!0),n=this.vc.map(e=>Up(e,t)),r=new ua(n);return new pa(e.path,r)}isEqual(e){return e instanceof Rp&&M(this.vc,e.vc)}}class Mp extends wp{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new ha(e.serializer,ta(e.serializer,this.Fc));return new pa(e.path,t)}isEqual(e){return e instanceof Mp&&this.Fc===e.Fc}}function Fp(e,t,n,r){const i=e.Cc(1,t,n);qp("Data must be an object, but it was:",i,r);const s=[],o=Us.empty();Ui(r,(e,r)=>{const a=Hp(t,e,n);r=B(r);const l=i.yc(a);if(r instanceof Dp)s.push(a);else{const e=Up(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new Wi(s);return new Tp(o,a,i.fieldTransforms)}function Vp(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[Kp(t,r,n)],l=[i];if(s.length%2!=0)throw new un(ln.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Kp(t,s[d])),l.push(s[d+1]);const u=[],c=Us.empty();for(let d=a.length-1;d>=0;--d)if(!Wp(u,a[d])){const e=a[d];let t=l[d];t=B(t);const n=o.yc(e);if(t instanceof Dp)u.push(e);else{const r=Up(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Wi(u);return new Tp(c,h,o.fieldTransforms)}function zp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Up(n,e.Cc(r?4:3,t))}function Up(e,t){if(jp(e=B(e)))return qp("Unsupported field value:",t,e),Bp(e,t);if(e instanceof wp)return function(e,t){if(!Ip(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Up(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=B(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ta(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Hn.fromDate(e);return{timestampValue:ol(t.serializer,n)}}if(e instanceof Hn){const n=new Hn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ol(t.serializer,n)}}if(e instanceof Sp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vp)return{bytesValue:al(t.serializer,e._byteString)};if(e instanceof Jf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:cl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof _p)return function(e,t){return{mapValue:{fields:{[hs]:{stringValue:ps},[ms]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Zo(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(zn(e)))}(e,t)}function Bp(e,t){const n={};return Bi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ui(e,(e,r)=>{const i=Up(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function jp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hn||e instanceof Sp||e instanceof vp||e instanceof Jf||e instanceof wp||e instanceof _p)}function qp(e,t,n){if(!jp(n)||!Vn(n)){const r=zn(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Kp(e,t,n){if((t=B(t))instanceof bp)return t._internalPath;if("string"==typeof t)return Hp(e,t);throw Qp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Gp=new RegExp("[~\\*/\\[\\]]");function Hp(e,t,n){if(t.search(Gp)>=0)throw Qp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new bp(...t.split("."))._internalPath}catch(r){throw Qp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Qp(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new un(ln.INVALID_ARGUMENT,a+e+l)}function Wp(e,t){return e.some(e=>e.isEqual(t))}class Yp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($p("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xp extends Yp{data(){return super.data()}}function $p(e,t){return"string"==typeof t?Hp(e,t):t instanceof bp?t._internalPath:t._delegate._internalPath}function Jp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new un(ln.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class em extends Zp{}function tm(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Zp&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof rm).length,n=e.filter(e=>e instanceof nm).length;if(t>1||t>0&&n>0)throw new un(ln.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class nm extends em{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nm(e,t,n)}_apply(e){const t=this._parse(e);return hm(e._query,t),new $f(e.firestore,e.converter,Ao(e._query,t))}_parse(e){const t=Np(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new un(ln.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){cm(o,s);const t=[];for(const n of o)t.push(um(r,e,n));a={arrayValue:{values:t}}}else a=um(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||cm(o,s),a=zp(n,t,o,"in"===s||"not-in"===s);return Ys.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class rm extends Zp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rm(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Xs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)hm(n,i),n=Ao(n,i)}(e._query,t),new $f(e.firestore,e.converter,Ao(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class im extends em{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new im(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new un(ln.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new un(ln.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hs(t,n)}(e._query,this._field,this._direction);return new $f(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _o(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class sm extends em{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new sm(e,t,n)}_apply(e){return new $f(e.firestore,e.converter,Do(e._query,this._limit,this._limitType))}}class om extends em{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new om(e,t,n)}_apply(e){const t=lm(e,this.type,this._docOrFields,this._inclusive);return new $f(e.firestore,e.converter,function(e,t){return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class am extends em{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new am(e,t,n)}_apply(e){const t=lm(e,this.type,this._docOrFields,this._inclusive);return new $f(e.firestore,e.converter,function(e,t){return new _o(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function lm(e,t,n,r){if(n[0]=B(n[0]),n[0]instanceof Yp)return function(e,t,n,r,i){if(!r)throw new un(ln.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Co(e))if(o.field.isKeyField())s.push(Is(t,r.key));else{const e=r.data.field(o.field);if(ss(e))throw new un(ln.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new un(ln.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new qs(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Np(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new un(ln.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new un(ln.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Io(e)&&-1!==s.indexOf("/"))throw new un(ln.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(An.fromString(s));if(!On.isDocumentKey(n))throw new un(ln.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new On(n);a.push(Is(t,i))}else{const e=zp(n,r,s);a.push(e)}}return new qs(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function um(e,t,n){if("string"==typeof(n=B(n))){if(""===n)throw new un(ln.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Io(t)&&-1!==n.indexOf("/"))throw new un(ln.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(An.fromString(n));if(!On.isDocumentKey(r))throw new un(ln.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Is(e,new On(r))}if(n instanceof Jf)return Is(e,n._key);throw new un(ln.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(zn(n),"."))}function cm(e,t){if(!Array.isArray(e)||0===e.length)throw new un(ln.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function hm(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new un(ln.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new un(ln.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class dm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw rn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ui(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[ms].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Zi(e.doubleValue));return new _p(n)}convertGeoPoint(e){return new Sp(Zi(e.latitude),Zi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=os(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(as(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new Hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=An.fromString(e);on(Ll(n),9688,{name:e});const r=new cs(n.get(1),n.get(3)),i=new On(n.popFirst(5));return r.isEqual(t)||en("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function fm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class pm extends dm{constructor(e){super(),this.firestore=e}convertBytes(e){return new vp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jf(this.firestore,null,t)}}class mm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gm extends Yp{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ym(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field($p("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new un(ln.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=gm._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}gm._jsonSchemaVersion="firestore/documentSnapshot/1.0",gm._jsonSchema={type:jn("string",gm._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class ym extends gm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class vm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ym(this._firestore,this._userDataWriter,n.key,n,new mm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new un(ln.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ym(e._firestore,e._userDataWriter,n.doc.key,n.doc,new mm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ym(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:bm(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new un(ln.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vm._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wn.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn(61501,{type:e})}}function wm(e,t){return e instanceof gm&&t instanceof gm?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vm&&t instanceof vm&&e._firestore===t._firestore&&rp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}vm._jsonSchemaVersion="firestore/querySnapshot/1.0",vm._jsonSchema={type:jn("string",vm._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class Sm extends dm{constructor(e){super(),this.firestore=e}convertBytes(e){return new vp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jf(this.firestore,null,t)}}function _m(e){e=Un(e,Jf);const t=Un(e.firestore,up),n=cp(t),r=new Sm(t);return function(e,t){const n=new cn;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=an(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new un(ln.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=md(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Mf(e),t,n)),n.promise}(n,e._key).then(n=>new gm(t,r,e._key,n,new mm(null!==n&&n.hasLocalMutations,!0),e.converter))}function Em(e){e=Un(e,$f);const t=Un(e.firestore,up),n=cp(t),r=new Sm(t);return function(e,t){const n=new cn;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await Xc(e,t,!0),i=new Md(t,r.Qs),s=i.ru(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=md(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Mf(e),t,n)),n.promise}(n,e._query).then(n=>new vm(t,r,e,n))}function km(e,t,n){e=Un(e,Jf);const r=Un(e.firestore,up),i=fm(e.converter,t,n);return xm(r,[Ap(Np(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ga.none())])}function Tm(e,t,n){e=Un(e,Jf);const r=Un(e.firestore,up),i=Np(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=B(t))||t instanceof bp?Vp(i,"updateDoc",e._key,t,n,a):Fp(i,"updateDoc",e._key,t),xm(r,[s.toMutation(e._key,ga.exists(!0))])}function Im(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=B(e);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||ap(n[s])||(i=n[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ap(n[s])){var a,l,u;const e=n[s];n[s]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[s+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[s+2]=null===(u=e.complete)||void 0===u?void 0:u.bind(e)}let c,h,d;if(e instanceof Jf)h=Un(e.firestore,up),d=ko(e._key.path),c={next:t=>{n[s]&&n[s](Nm(h,e,t))},error:n[s+1],complete:n[s+2]};else{const t=Un(e,$f);h=Un(t.firestore,up),d=t._query;const r=new Sm(h);c={next:e=>{n[s]&&n[s](new vm(h,r,t,e))},error:n[s+1],complete:n[s+2]},Jp(e._query)}return function(e,t,n,r){const i=new Tf(r),s=new Nd(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>_d(await Uf(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Ed(await Uf(e),s))}}(cp(h),d,o,c)}function Cm(e,t){return function(e,t){const n=new Tf(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){an(e).Ca.add(t),t.next()}(await Uf(e),n)),()=>{n.Nu(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){an(e).Ca.delete(t)}(await Uf(e),n))}}(cp(e=Un(e,up)),ap(t)?t:{next:t})}function xm(e,t){return function(e,t){const n=new cn;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=vf(e);try{const e=await function(e,t){const n=an(e),r=Hn.now(),i=t.reduce((e,t)=>e.add(t.key),Xo());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Bo(),l=Xo();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=_a(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Ta(e.key,t,Bs(t.value.mapValue),ga.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Ko(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ji(Sn)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await of(r,e.changes),await td(r.remoteStore)}catch(e){const t=md(e,"Failed to persist write");n.reject(t)}}(await Vf(e),t,n)),n.promise}(cp(e),t)}function Nm(e,t,n){const r=n.docs.get(t._key),i=new Sm(e);return new gm(e,i,t._key,r,new mm(n.hasPendingWrites,n.fromCache),t.converter)}const Am={maxAttempts:5};class Dm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,t,n){this._verifyNotCommitted();const r=Pm(e,this._firestore),i=fm(r.converter,t,n),s=Ap(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,ga.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Pm(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=B(t))||t instanceof bp?Vp(this._dataReader,"WriteBatch.update",r._key,t,n,o):Fp(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,ga.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pm(e,this._firestore);return this._mutations=this._mutations.concat(new Na(t._key,ga.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new un(ln.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pm(e,t){if((e=B(e)).firestore!==t)throw new un(ln.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Om{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Np(e)}get(e){const t=Pm(e,this._firestore),n=new pm(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return rn(24041);const r=e[0];if(r.isFoundDocument())return new Yp(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Yp(this._firestore,n,t._key,null,t.converter);throw rn(18433,{doc:r})})}set(e,t,n){const r=Pm(e,this._firestore),i=fm(r.converter,t,n),s=Ap(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Pm(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=B(t))||t instanceof bp?Vp(this._dataReader,"Transaction.update",r._key,t,n,o):Fp(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Pm(e,this._firestore);return this._transaction.delete(t._key),this}}class Lm extends Om{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pm(e,this._firestore),n=new Sm(this._firestore);return super.get(e).then(e=>new gm(this._firestore,n,t._key,e._document,new mm(!1,!1),t.converter))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Xt=e}(ut),Je(new j("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new up(new pn(e.getProvider("auth-internal")),new vn(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new un(ln.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cs(e.options.projectId,t)}(s,r),s);return i=c({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),mt(Qt,Wt,e),mt(Qt,Wt,"esm2020")}();function Rm(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new un("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Mm(){if("undefined"===typeof Uint8Array)throw new un("unimplemented","Uint8Arrays are not available in this environment.")}function Fm(){if("undefined"==typeof atob)throw new un("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Vm{constructor(e){this._delegate=e}static fromBase64String(e){return Fm(),new Vm(vp.fromBase64String(e))}static fromUint8Array(e){return Mm(),new Vm(vp.fromUint8Array(e))}toBase64(){return Fm(),this._delegate.toBase64()}toUint8Array(){return Mm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zm(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Um{enableIndexedDbPersistence(e,t){return function(e,t){tn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return dp(e,Ef.provider,{build:e=>new Sf(e,n.cacheSizeBytes,null===t||void 0===t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){tn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();dp(e,Ef.provider,{build:e=>new _f(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new un(ln.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new cn;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!cr.v())return Promise.resolve();const t=e+Oc;await cr.delete(t)}(Fc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}(e._delegate)}}class Bm{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof cs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||tn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=c(c({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xf(this._delegate,e,t,n)}enableNetwork(){return pp(this._delegate)}disableNetwork(){return mp(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Rn("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return fp(this._delegate)}onSnapshotsInSync(e){return Cm(this._delegate,e)}get app(){if(!this._appCompat)throw new un("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tg(this,ep(this._delegate,e))}catch(t){throw Qm(t,"collection()","Firestore.collection()")}}doc(e){try{return new Hm(this,tp(this._delegate,e))}catch(t){throw Qm(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jm(this,function(e,t){if(e=Un(e,Yf),Ln("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new un(ln.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $f(e,null,function(e){return new _o(An.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Qm(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Un(e,up);const r=c(c({},Am),n);return function(e){if(e.maxAttempts<1)throw new un(ln.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new cn;return e.asyncQueue.enqueueAndForget(async()=>{const i=await zf(e);new xf(e.asyncQueue,i,n,t,r).ju()}),r.promise}(cp(e),n=>t(new Lm(e,n)),r)}(this._delegate,t=>e(new qm(this,t)))}batch(){return cp(this._delegate),new Km(new Dm(this._delegate,e=>xm(this._delegate,e)))}loadBundle(e){return gp(this._delegate,e)}namedQuery(e){return yp(this._delegate,e).then(e=>e?new Jm(this,e):null)}}class jm extends dm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vm(new vp(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Hm.forKey(t,this.firestore,null)}}class qm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jm(e)}get(e){const t=ng(e);return this._delegate.get(t).then(e=>new Xm(this._firestore,new gm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=ng(e);return n?(Rm("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=ng(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=ng(e);return this._delegate.delete(t),this}}class Km{constructor(e){this._delegate=e}set(e,t,n){const r=ng(e);return n?(Rm("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=ng(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=ng(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gm{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new ym(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $m(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Gm.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Gm(e,new jm(e),t),r.set(t,i)),i}}Gm.INSTANCES=new WeakMap;class Hm{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jm(e)}static forPath(e,t,n){if(e.length%2!==0)throw new un("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Hm(t,new Jf(t._delegate,n,new On(e)))}static forKey(e,t,n){return new Hm(t,new Jf(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new tg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tg(this.firestore,ep(this._delegate,e))}catch(t){throw Qm(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=B(e))instanceof Jf&&np(this._delegate,e)}set(e,t){t=Rm("DocumentReference.set",t);try{return t?km(this._delegate,e,t):km(this._delegate,e)}catch(n){throw Qm(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Tm(this._delegate,e):Tm(this._delegate,e,t,...r)}catch(s){throw Qm(s,"updateDoc()","DocumentReference.update()")}}delete(){return xm(Un((e=this._delegate).firestore,up),[new Na(e._key,ga.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Wm(t),i=Ym(t,e=>new Xm(this.firestore,new gm(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Im(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?_m(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Un(e,Jf);const t=Un(e.firestore,up);return Bf(cp(t),e._key,{source:"server"}).then(n=>Nm(t,e,n))}(this._delegate):function(e){e=Un(e,Jf);const t=Un(e.firestore,up);return Bf(cp(t),e._key).then(n=>Nm(t,e,n))}(this._delegate),t.then(e=>new Xm(this.firestore,new gm(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Hm(this.firestore,e?this._delegate.withConverter(Gm.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Qm(e,t,n){return e.message=e.message.replace(t,n),e}function Wm(e){for(const t of e)if("object"===typeof t&&!zm(t))return t;return{}}function Ym(e,t){var n,r;let i;return i=zm(e[0])?e[0]:zm(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Xm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Hm(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wm(this._delegate,e._delegate)}}class $m extends Xm{data(e){const t=this._delegate.data(e);return this._delegate._converter||(n="Document in a QueryDocumentSnapshot should exist",void 0!==t||rn(57014,n)),t;var n}}class Jm{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jm(e)}where(e,t,n){try{return new Jm(this.firestore,tm(this._delegate,function(e,t,n){const r=t,i=$p("where",e);return nm._create(i,r,n)}(e,t,n)))}catch(r){throw Qm(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Jm(this.firestore,tm(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=$p("orderBy",e);return im._create(n,t)}(e,t)))}catch(n){throw Qm(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jm(this.firestore,tm(this._delegate,(Bn("limit",t=e),sm._create("limit",t,"F"))))}catch(t){throw Qm(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Jm(this.firestore,tm(this._delegate,(Bn("limitToLast",t=e),sm._create("limitToLast",t,"L"))))}catch(t){throw Qm(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Jm(this.firestore,tm(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return om._create("startAt",t,!0)}(...arguments)))}catch(e){throw Qm(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Jm(this.firestore,tm(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return om._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Qm(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Jm(this.firestore,tm(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return am._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Qm(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Jm(this.firestore,tm(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return am._create("endAt",t,!0)}(...arguments)))}catch(e){throw Qm(e,"endAt()","Query.endAt()")}}isEqual(e){return rp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Em(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Un(e,$f);const t=Un(e.firestore,up),n=cp(t),r=new Sm(t);return jf(n,e._query,{source:"server"}).then(n=>new vm(t,r,e,n))}(this._delegate):function(e){e=Un(e,$f);const t=Un(e.firestore,up),n=cp(t),r=new Sm(t);return Jp(e._query),jf(n,e._query).then(n=>new vm(t,r,e,n))}(this._delegate),t.then(e=>new eg(this.firestore,new vm(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Wm(t),i=Ym(t,e=>new eg(this.firestore,new vm(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Im(this._delegate,r,i)}withConverter(e){return new Jm(this.firestore,e?this._delegate.withConverter(Gm.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Zm{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $m(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Jm(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $m(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new Zm(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new $m(this._firestore,n))})}isEqual(e){return wm(this._delegate,e._delegate)}}class tg extends Jm{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Hm(this.firestore,e):null}doc(e){try{return new Hm(this.firestore,void 0===e?tp(this._delegate):tp(this._delegate,e))}catch(t){throw Qm(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Un(e.firestore,up),r=tp(e),i=fm(e.converter,t);return xm(n,[Ap(Np(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ga.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Hm(this.firestore,e))}isEqual(e){return np(this._delegate,e._delegate)}withConverter(e){return new tg(this.firestore,e?this._delegate.withConverter(Gm.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ng(e){return Un(e,Jf)}class rg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new bp(...t)}static documentId(){return new rg(Pn.keyField().canonicalString())}isEqual(e){return(e=B(e))instanceof bp&&this._delegate._internalPath.isEqual(e._internalPath)}}class ig{static serverTimestamp(){const e=new Op("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ig(e)}static delete(){const e=new Dp("deleteField");return e._methodName="FieldValue.delete",new ig(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Lp("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new ig(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rp("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new ig(e)}static increment(e){const t=new Mp("increment",e);return t._methodName="FieldValue.increment",new ig(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sg={Firestore:Bm,GeoPoint:Sp,Timestamp:Hn,Blob:Vm,Transaction:qm,WriteBatch:Km,DocumentReference:Hm,DocumentSnapshot:Xm,Query:Jm,QueryDocumentSnapshot:$m,QuerySnapshot:eg,CollectionReference:tg,FieldPath:rg,FieldValue:ig,setLogLevel:function(e){var t;t=e,$t.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var og;(function(e,t){e.INTERNAL.registerComponent(new j("firestore-compat",e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(c({},sg)))})(og=Pt,(e,t)=>new Bm(e,t,new Um)),og.registerVersion("@firebase/firestore-compat","0.4.2");const ag={apiKey:"AIzaSyBDmfOHslOkGEybrdQBTXRxj8fI_DOKcZw",authDomain:"wk2026-cda62.firebaseapp.com",projectId:"wk2026-cda62"};console.log({firebaseConfig:ag}),Pt.apps.length||Pt.initializeApp(ag);const lg=ag.projectId&&Pt.firestore();lg?console.log("connection to database is ok"):console.log("ERROR: no connection to database");const ug=n.p+"static/media/logo.15f8c74a9a97219ac769.png";var cg=n(579);function hg(){return(0,cg.jsxs)("div",{children:[(0,cg.jsx)("h1",{children:"2026 FIFA World Cup"}),(0,cg.jsx)("img",{src:ug,alt:"App logo",height:"181px",width:"368px"})]})}const dg=n.p+"static/media/toronto.ea0adcc344e29a474c4c.avif",fg=n.p+"static/media/vancouver.cadc384f2b9fca23fe92.avif",pg=n.p+"static/media/monterey.3b8ecbf2864f07699668.avif",mg=n.p+"static/media/guadalajara.a908245700983d5f3b78.avif",gg=n.p+"static/media/mexicoCity.24d02c7ee8c6b3cd78cc.avif",yg=n.p+"static/media/atlanta.ee2ac87f6dfc7f94f343.avif",vg=n.p+"static/media/boston.6dd10242230754d93f5b.avif",bg=n.p+"static/media/dallas.0e3b6321eff196d37500.avif",wg=n.p+"static/media/houston.633130be0557e0123af3.avif",Sg=n.p+"static/media/NYC.787f544b9b8d88e10303.avif",_g=n.p+"static/media/sanFran.78b3b443f1ca197fcdd1.avif",Eg=n.p+"static/media/seattle.c1972c43d6fe5599eb93.avif",kg=n.p+"static/media/miami.d59c49483a0e3ad64dbd.avif",Tg=n.p+"static/media/philadelphia.b84879e3b4e9fa162a5e.avif",Ig=n.p+"static/media/LA.8b7e1dd80c6141752136.avif",Cg=n.p+"static/media/kansas.4b9736dc04795152ea5a.avif";function xg(){const[e,t]=(0,i.useState)([]);return(0,i.useEffect)(()=>{!async function(){const e=await lg.collection("hosts").orderBy("country","asc").orderBy("city","asc").get();t(e.docs.map(e=>c({},e.data())))}()},[]),(0,cg.jsxs)("div",{children:[(0,cg.jsx)("h2",{children:"Hosts"}),(0,cg.jsxs)("div",{children:[(0,cg.jsx)("h3",{children:"Canada"}),e.filter(e=>"Canada"===e.country).map((e,t)=>(0,cg.jsx)(Ng,{host:e},t)),(0,cg.jsx)("h3",{children:"Mexico"}),e.filter(e=>"Mexico"===e.country).map((e,t)=>(0,cg.jsx)(Ng,{host:e},t)),(0,cg.jsx)("h3",{children:"USA"}),e.filter(e=>"USA"===e.country).map((e,t)=>(0,cg.jsx)(Ng,{host:e},t))]})]})}function Ng(e){let{host:t}=e;return(0,cg.jsxs)("div",{className:"speler",children:[(0,cg.jsx)("div",{style:{marginTop:"10px"},children:t.city}),(0,cg.jsx)("div",{children:t.stadium.name}),(0,cg.jsxs)("div",{children:["Capacity: ",t.stadium.capacity]}),(0,cg.jsxs)("div",{children:["Opened: ",t.stadium.opened]}),(0,cg.jsx)(Ag,{city:t.city})]})}function Ag(e){let{city:t}=e;switch(t){case"Monterey":return(0,cg.jsx)("img",{src:pg,alt:"foto",width:"350px"});case"Toronto":return(0,cg.jsx)("img",{src:dg,alt:"foto",width:"350px"});case"Vancouver":return(0,cg.jsx)("img",{src:fg,alt:"foto",width:"350px"});case"Guadalajara":return(0,cg.jsx)("img",{src:mg,alt:"foto",width:"350px"});case"Mexico City":return(0,cg.jsx)("img",{src:gg,alt:"foto",width:"350px"});case"Atlanta":return(0,cg.jsx)("img",{src:yg,alt:"foto",width:"350px"});case"Boston":return(0,cg.jsx)("img",{src:vg,alt:"foto",width:"350px"});case"Dallas":return(0,cg.jsx)("img",{src:bg,alt:"foto",width:"350px"});case"Houston":return(0,cg.jsx)("img",{src:wg,alt:"foto",width:"350px"});case"New York":return(0,cg.jsx)("img",{src:Sg,alt:"foto",width:"350px"});case"San Fransisco":return(0,cg.jsx)("img",{src:_g,alt:"foto",width:"350px"});case"Seattle":return(0,cg.jsx)("img",{src:Eg,alt:"foto",width:"350px"});case"Miami":return(0,cg.jsx)("img",{src:kg,alt:"foto",width:"350px"});case"Philadelphia":return(0,cg.jsx)("img",{src:Tg,alt:"foto",width:"350px"});case"Los Angeles":return(0,cg.jsx)("img",{src:Ig,alt:"foto",width:"350px"});case"Kansas":return(0,cg.jsx)("img",{src:Cg,alt:"foto",width:"350px"});default:return null}}const Dg=function(){return(0,cg.jsxs)("div",{className:"App",children:[(0,cg.jsx)(hg,{}),(0,cg.jsx)(xg,{})]})},Pg=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};s.createRoot(document.getElementById("root")).render((0,cg.jsx)(i.StrictMode,{children:(0,cg.jsx)(Dg,{})})),Pg()})();
//# sourceMappingURL=main.7478c945.js.map